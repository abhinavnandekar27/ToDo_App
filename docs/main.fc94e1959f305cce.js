"use strict";(self.webpackChunktodo=self.webpackChunktodo||[]).push([[179],{3:()=>{function Oe(n){return"function"==typeof n}function vu(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const ld=vu(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function hs(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class gn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Oe(r))try{r()}catch(o){e=o instanceof ld?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{vC(o)}catch(s){e=e??[],s instanceof ld?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ld(e)}}add(e){var t;if(e&&e!==this)if(this.closed)vC(e);else{if(e instanceof gn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&hs(t,e)}remove(e){const{_finalizers:t}=this;t&&hs(t,e),e instanceof gn&&e._removeParent(this)}}gn.EMPTY=(()=>{const n=new gn;return n.closed=!0,n})();const _C=gn.EMPTY;function yC(n){return n instanceof gn||n&&"closed"in n&&Oe(n.remove)&&Oe(n.add)&&Oe(n.unsubscribe)}function vC(n){Oe(n)?n():n.unsubscribe()}const lo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},dd={setTimeout(n,e,...t){const{delegate:r}=dd;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=dd;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function IC(n){dd.setTimeout(()=>{const{onUnhandledError:e}=lo;if(!e)throw n;e(n)})}function wg(){}const wU=Tg("C",void 0,void 0);function Tg(n,e,t){return{kind:n,value:e,error:t}}let ho=null;function hd(n){if(lo.useDeprecatedSynchronousErrorHandling){const e=!ho;if(e&&(ho={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=ho;if(ho=null,t)throw r}}else n()}class Dg extends gn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,yC(e)&&e.add(this)):this.destination=RU}static create(e,t,r){return new Iu(e,t,r)}next(e){this.isStopped?Ag(function DU(n){return Tg("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ag(function TU(n){return Tg("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ag(wU,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const AU=Function.prototype.bind;function Cg(n,e){return AU.call(n,e)}class bU{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){fd(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){fd(r)}else fd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){fd(t)}}}class Iu extends Dg{constructor(e,t,r){let i;if(super(),Oe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&lo.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Cg(e.next,o),error:e.error&&Cg(e.error,o),complete:e.complete&&Cg(e.complete,o)}):i=e}this.destination=new bU(i)}}function fd(n){lo.useDeprecatedSynchronousErrorHandling?function CU(n){lo.useDeprecatedSynchronousErrorHandling&&ho&&(ho.errorThrown=!0,ho.error=n)}(n):IC(n)}function Ag(n,e){const{onStoppedNotification:t}=lo;t&&dd.setTimeout(()=>t(n,e))}const RU={closed:!0,next:wg,error:function SU(n){throw n},complete:wg},bg="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ii(n){return n}function EC(n){return 0===n.length?Ii:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Xe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function xU(n){return n&&n instanceof Dg||function MU(n){return n&&Oe(n.next)&&Oe(n.error)&&Oe(n.complete)}(n)&&yC(n)}(t)?t:new Iu(t,r,i);return hd(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=wC(r))((i,o)=>{const s=new Iu({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[bg](){return this}pipe(...t){return EC(t)(this)}toPromise(t){return new(t=wC(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function wC(n){var e;return null!==(e=n??lo.Promise)&&void 0!==e?e:Promise}const NU=vu(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let rr=(()=>{class n extends Xe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new TC(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new NU}next(t){hd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){hd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){hd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?_C:(this.currentObservers=null,o.push(t),new gn(()=>{this.currentObservers=null,hs(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new Xe;return t.source=this,t}}return n.create=(e,t)=>new TC(e,t),n})();class TC extends rr{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:_C}}function DC(n){return Oe(n?.lift)}function vt(n){return e=>{if(DC(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function gt(n,e,t,r,i){return new OU(n,e,t,r,i)}class OU extends Dg{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Se(n,e){return vt((t,r)=>{let i=0;t.subscribe(gt(r,o=>{r.next(n.call(e,o,i++))}))})}function Pg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Ei(n){return this instanceof Ei?(this.v=n,this):new Ei(n)}function SC(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function xg(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}(a,u,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const RC=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function PC(n){return Oe(n?.then)}function MC(n){return Oe(n[bg])}function xC(n){return Symbol.asyncIterator&&Oe(n?.[Symbol.asyncIterator])}function NC(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const OC=function tB(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function kC(n){return Oe(n?.[OC])}function VC(n){return function bC(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i={},a("next"),a("throw"),a("return",function s(m){return function(y){return Promise.resolve(y).then(m,h)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(m,y){r[m]&&(i[m]=function(I){return new Promise(function(E,P){o.push([m,I,E,P])>1||u(m,I)})},y&&(i[m]=y(i[m])))}function u(m,y){try{!function c(m){m.value instanceof Ei?Promise.resolve(m.value.v).then(d,h):p(o[0][2],m)}(r[m](y))}catch(I){p(o[0][3],I)}}function d(m){u("next",m)}function h(m){u("throw",m)}function p(m,y){m(y),o.shift(),o.length&&u(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Ei(t.read());if(i)return yield Ei(void 0);yield yield Ei(r)}}finally{t.releaseLock()}})}function FC(n){return Oe(n?.getReader)}function bn(n){if(n instanceof Xe)return n;if(null!=n){if(MC(n))return function nB(n){return new Xe(e=>{const t=n[bg]();if(Oe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(RC(n))return function rB(n){return new Xe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(PC(n))return function iB(n){return new Xe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,IC)})}(n);if(xC(n))return LC(n);if(kC(n))return function oB(n){return new Xe(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(FC(n))return function sB(n){return LC(VC(n))}(n)}throw NC(n)}function LC(n){return new Xe(e=>{(function aB(n,e){var t,r,i,o;return function CC(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function u(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(d.value).then(a,u)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=SC(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Br(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Pt(n,e,t=1/0){return Oe(e)?Pt((r,i)=>Se((o,s)=>e(r,o,i,s))(bn(n(r,i))),t):("number"==typeof e&&(t=e),vt((r,i)=>function uB(n,e,t,r,i,o,s,a){const u=[];let c=0,d=0,h=!1;const p=()=>{h&&!u.length&&!c&&e.complete()},m=I=>c<r?y(I):u.push(I),y=I=>{o&&e.next(I),c++;let E=!1;bn(t(I,d++)).subscribe(gt(e,P=>{i?.(P),o?m(P):e.next(P)},()=>{E=!0},void 0,()=>{if(E)try{for(c--;u.length&&c<r;){const P=u.shift();s?Br(e,s,()=>y(P)):y(P)}p()}catch(P){e.error(P)}}))};return n.subscribe(gt(e,m,()=>{h=!0,p()})),()=>{a?.()}}(r,i,n,t)))}function fs(n=1/0){return Pt(Ii,n)}const gr=new Xe(n=>n.complete());function Ng(n){return n[n.length-1]}function UC(n){return Oe(Ng(n))?n.pop():void 0}function Eu(n){return function lB(n){return n&&Oe(n.schedule)}(Ng(n))?n.pop():void 0}function pd(n,e=0){return vt((t,r)=>{t.subscribe(gt(r,i=>Br(r,n,()=>r.next(i),e),()=>Br(r,n,()=>r.complete(),e),i=>Br(r,n,()=>r.error(i),e)))})}function gd(n,e=0){return vt((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function BC(n,e){if(!n)throw new Error("Iterable cannot be null");return new Xe(t=>{Br(t,e,()=>{const r=n[Symbol.asyncIterator]();Br(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Ct(n,e){return e?function _B(n,e){if(null!=n){if(MC(n))return function hB(n,e){return bn(n).pipe(gd(e),pd(e))}(n,e);if(RC(n))return function pB(n,e){return new Xe(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(PC(n))return function fB(n,e){return bn(n).pipe(gd(e),pd(e))}(n,e);if(xC(n))return BC(n,e);if(kC(n))return function gB(n,e){return new Xe(t=>{let r;return Br(t,e,()=>{r=n[OC](),Br(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>Oe(r?.return)&&r.return()})}(n,e);if(FC(n))return function mB(n,e){return BC(VC(n),e)}(n,e)}throw NC(n)}(n,e):bn(n)}class jn extends rr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function se(...n){return Ct(n,Eu(n))}function jC(n={}){const{connector:e=(()=>new rr),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,u,c=0,d=!1,h=!1;const p=()=>{a?.unsubscribe(),a=void 0},m=()=>{p(),s=u=void 0,d=h=!1},y=()=>{const I=s;m(),I?.unsubscribe()};return vt((I,E)=>{c++,!h&&!d&&p();const P=u=u??e();E.add(()=>{c--,0===c&&!h&&!d&&(a=Og(y,i))}),P.subscribe(E),!s&&c>0&&(s=new Iu({next:C=>P.next(C),error:C=>{h=!0,p(),a=Og(m,t,C),P.error(C)},complete:()=>{d=!0,p(),a=Og(m,r),P.complete()}}),bn(I).subscribe(s))})(o)}}function Og(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Iu({next:()=>{r.unsubscribe(),n()}});return bn(e(...t)).subscribe(r)}function mr(n,e){return vt((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(gt(r,u=>{i?.unsubscribe();let c=0;const d=o++;bn(n(u,d)).subscribe(i=gt(r,h=>r.next(e?e(u,h,d,c++):h),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function IB(n,e){return n===e}function Re(n){for(let e in n)if(n[e]===Re)return e;throw Error("Could not find renamed property on target object.")}function md(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function It(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(It).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function kg(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const EB=Re({__forward_ref__:Re});function Ue(n){return n.__forward_ref__=Ue,n.toString=function(){return It(this())},n}function ie(n){return Vg(n)?n():n}function Vg(n){return"function"==typeof n&&n.hasOwnProperty(EB)&&n.__forward_ref__===Ue}function Fg(n){return n&&!!n.\u0275providers}class U extends Error{constructor(e,t){super(function _d(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function ue(n){return"string"==typeof n?n:null==n?"":String(n)}function Lg(n,e){throw new U(-201,!1)}function $n(n,e){null==n&&function ne(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function te(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Rn(n){return{providers:n.providers||[],imports:n.imports||[]}}function yd(n){return GC(n,Id)||GC(n,HC)}function GC(n,e){return n.hasOwnProperty(e)?n[e]:null}function vd(n){return n&&(n.hasOwnProperty(Ug)||n.hasOwnProperty(RB))?n[Ug]:null}const Id=Re({\u0275prov:Re}),Ug=Re({\u0275inj:Re}),HC=Re({ngInjectableDef:Re}),RB=Re({ngInjectorDef:Re});var ge=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ge||{});let Bg;function mn(n){const e=Bg;return Bg=n,e}function qC(n,e,t){const r=yd(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&ge.Optional?null:void 0!==e?e:void Lg(It(n))}const Be=globalThis;class Q{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=te({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const wu={},zg="__NG_DI_FLAG__",Ed="ngTempTokenPath",xB=/\n/gm,KC="__source";let ps;function wi(n){const e=ps;return ps=n,e}function kB(n,e=ge.Default){if(void 0===ps)throw new U(-203,!1);return null===ps?qC(n,void 0,e):ps.get(n,e&ge.Optional?null:void 0,e)}function ee(n,e=ge.Default){return(function zC(){return Bg}()||kB)(ie(n),e)}function Y(n,e=ge.Default){return ee(n,wd(e))}function wd(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function qg(n){const e=[];for(let t=0;t<n.length;t++){const r=ie(n[t]);if(Array.isArray(r)){if(0===r.length)throw new U(900,!1);let i,o=ge.Default;for(let s=0;s<r.length;s++){const a=r[s],u=VB(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}e.push(ee(i,o))}else e.push(ee(r))}return e}function Tu(n,e){return n[zg]=e,n.prototype[zg]=e,n}function VB(n){return n[zg]}function jr(n){return{toString:n}.toString()}var Td=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Td||{}),ir=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(ir||{});const _r={},Te=[],Dd=Re({\u0275cmp:Re}),Wg=Re({\u0275dir:Re}),Kg=Re({\u0275pipe:Re}),YC=Re({\u0275mod:Re}),$r=Re({\u0275fac:Re}),Du=Re({__NG_ELEMENT_ID__:Re}),JC=Re({__NG_ENV_ID__:Re});function ZC(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function Qg(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{const o=i,s=t[++r];eA(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function XC(n){return 3===n||4===n||6===n}function eA(n){return 64===n.charCodeAt(0)}function Cu(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||tA(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function tA(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}const nA="ng-template";function UB(n,e,t){let r=0,i=!0;for(;r<n.length;){let o=n[r++];if("string"==typeof o&&i){const s=n[r++];if(t&&"class"===o&&-1!==ZC(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<n.length&&"string"==typeof(o=n[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function rA(n){return 4===n.type&&n.value!==nA}function BB(n,e,t){return e===(4!==n.type||t?n.value:nA)}function jB(n,e,t){let r=4;const i=n.attrs||[],o=function HB(n){for(let e=0;e<n.length;e++)if(XC(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!BB(n,u,t)||""===u&&1===e.length){if(or(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!UB(n.attrs,c,t)){if(or(r))return!1;s=!0}continue}const h=$B(8&r?"class":u,i,rA(n),t);if(-1===h){if(or(r))return!1;s=!0;continue}if(""!==c){let p;p=h>o?"":i[h+1].toLowerCase();const m=8&r?p:null;if(m&&-1!==ZC(m,c,0)||2&r&&c!==p){if(or(r))return!1;s=!0}}}}else{if(!s&&!or(r)&&!or(u))return!1;if(s&&or(u))continue;s=!1,r=u|1&r}}return or(r)||s}function or(n){return 0==(1&n)}function $B(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function zB(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function iA(n,e,t=!1){for(let r=0;r<e.length;r++)if(jB(n,e[r],t))return!0;return!1}function oA(n,e){return n?":not("+e.trim()+")":e}function WB(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!or(s)&&(e+=oA(o,i),i=""),r=s,o=o||!or(r);t++}return""!==i&&(e+=oA(o,i)),e}function Yg(n){return jr(()=>{const e=aA(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Td.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ir.Emulated,styles:n.styles||Te,_:null,schemas:n.schemas||null,tView:null,id:""};uA(t);const r=n.dependencies;return t.directiveDefs=Cd(r,!1),t.pipeDefs=Cd(r,!0),t.id=function tj(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function JB(n){return Ie(n)||Mt(n)}function ZB(n){return null!==n}function Gn(n){return jr(()=>({type:n.type,bootstrap:n.bootstrap||Te,declarations:n.declarations||Te,imports:n.imports||Te,exports:n.exports||Te,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function sA(n,e){if(null==n)return _r;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}function oe(n){return jr(()=>{const e=aA(n);return uA(e),e})}function Ie(n){return n[Dd]||null}function Mt(n){return n[Wg]||null}function tn(n){return n[Kg]||null}function Pn(n,e){const t=n[YC]||null;if(!t&&!0===e)throw new Error(`Type ${It(n)} does not have '\u0275mod' property.`);return t}function aA(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||_r,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Te,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:sA(n.inputs,e),outputs:sA(n.outputs)}}function uA(n){n.features?.forEach(e=>e(n))}function Cd(n,e){if(!n)return null;const t=e?tn:JB;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(ZB)}const rt=0,q=1,de=2,Qe=3,sr=4,Au=5,$t=6,ms=7,ut=8,Ti=9,_s=10,ce=11,bu=12,cA=13,ys=14,ct=15,Su=16,vs=17,yr=18,Ru=19,lA=20,Di=21,Gr=22,Pu=23,Mu=24,me=25,Jg=1,dA=2,vr=7,Is=9,xt=11;function yn(n){return Array.isArray(n)&&"object"==typeof n[Jg]}function nn(n){return Array.isArray(n)&&!0===n[Jg]}function Zg(n){return 0!=(4&n.flags)}function po(n){return n.componentOffset>-1}function bd(n){return 1==(1&n.flags)}function ar(n){return!!n.template}function Xg(n){return 0!=(512&n[de])}function go(n,e){return n.hasOwnProperty($r)?n[$r]:null}let Nt=null,Sd=!1;function Hn(n){const e=Nt;return Nt=n,e}const pA={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function mA(n){if(!Nu(n)||n.dirty){if(!n.producerMustRecompute(n)&&!vA(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function yA(n){n.dirty=!0,function _A(n){if(void 0===n.liveConsumerNode)return;const e=Sd;Sd=!0;try{for(const t of n.liveConsumerNode)t.dirty||yA(t)}finally{Sd=e}}(n),n.consumerMarkedDirty?.(n)}function tm(n){return n&&(n.nextProducerIndex=0),Hn(n)}function nm(n,e){if(Hn(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Nu(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Rd(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function vA(n){Es(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(mA(t),r!==t.version))return!0}return!1}function IA(n){if(Es(n),Nu(n))for(let e=0;e<n.producerNode.length;e++)Rd(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Rd(n,e){if(function wA(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Es(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)Rd(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Es(i),i.producerIndexOfThis[r]=e}}function Nu(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Es(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let TA=null;const bA=()=>{},pj=(()=>({...pA,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:bA}))();class gj{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function zn(){return SA}function SA(n){return n.type.prototype.ngOnChanges&&(n.setInput=_j),mj}function mj(){const n=PA(this),e=n?.current;if(e){const t=n.previous;if(t===_r)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function _j(n,e,t,r){const i=this.declaredInputs[t],o=PA(n)||function yj(n,e){return n[RA]=e}(n,{previous:_r,current:null}),s=o.current||(o.current={}),a=o.previous,u=a[i];s[i]=new gj(u&&u.currentValue,e,a===_r),n[r]=e}zn.ngInherit=!0;const RA="__ngSimpleChanges__";function PA(n){return n[RA]||null}const Ir=function(n,e,t){};function je(n){for(;Array.isArray(n);)n=n[rt];return n}function Pd(n,e){return je(e[n])}function vn(n,e){return je(e[n.index])}function NA(n,e){return n.data[e]}function Mn(n,e){const t=e[n];return yn(t)?t:t[rt]}function Ai(n,e){return null==e?null:n[e]}function OA(n){n[vs]=0}function Dj(n){1024&n[de]||(n[de]|=1024,VA(n,1))}function kA(n){1024&n[de]&&(n[de]&=-1025,VA(n,-1))}function VA(n,e){let t=n[Qe];if(null===t)return;t[Au]+=e;let r=t;for(t=t[Qe];null!==t&&(1===e&&1===r[Au]||-1===e&&0===r[Au]);)t[Au]+=e,r=t,t=t[Qe]}const re={lFrame:QA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function UA(){return re.bindingsEnabled}function V(){return re.lFrame.lView}function Ee(){return re.lFrame.tView}function Ot(){let n=$A();for(;null!==n&&64===n.type;)n=n.parent;return n}function $A(){return re.lFrame.currentTNode}function Er(n,e){const t=re.lFrame;t.currentTNode=n,t.isParent=e}function am(){return re.lFrame.isParent}function Ds(){return re.lFrame.bindingIndex++}function Vj(n,e){const t=re.lFrame;t.bindingIndex=t.bindingRootIndex=n,cm(e)}function cm(n){re.lFrame.currentDirectiveIndex=n}function dm(n){re.lFrame.currentQueryIndex=n}function Lj(n){const e=n[q];return 2===e.type?e.declTNode:1===e.type?n[$t]:null}function WA(n,e,t){if(t&ge.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&ge.Host||(i=Lj(o),null===i||(o=o[ys],10&i.type))););if(null===i)return!1;e=i,n=o}const r=re.lFrame=KA();return r.currentTNode=e,r.lView=n,!0}function hm(n){const e=KA(),t=n[q];re.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function KA(){const n=re.lFrame,e=null===n?null:n.child;return null===e?QA(n):e}function QA(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function YA(){const n=re.lFrame;return re.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const JA=YA;function fm(){const n=YA();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function on(){return re.lFrame.selectedIndex}function mo(n){re.lFrame.selectedIndex=n}let XA=!0;function Md(){return XA}function bi(n){XA=n}function xd(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),null!=d&&(n.destroyHooks??=[]).push(t,d)}}function Nd(n,e,t){eb(n,e,3,t)}function Od(n,e,t,r){(3&n[de])===t&&eb(n,e,t,r)}function pm(n,e){let t=n[de];(3&t)===e&&(t&=8191,t+=1,n[de]=t)}function eb(n,e,t,r){const o=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&n[vs]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[vs]+=65536),(a<o||-1==o)&&(qj(n,t,e,u),n[vs]=(4294901760&n[vs])+u+2),u++}function tb(n,e){Ir(4,n,e);const t=Hn(null);try{e.call(n)}finally{Hn(t),Ir(5,n,e)}}function qj(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];i?n[de]>>13<n[vs]>>16&&(3&n[de])===e&&(n[de]+=8192,tb(a,o)):tb(a,o)}const Cs=-1;class ku{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function mm(n){return n!==Cs}function Vu(n){return 32767&n}function Fu(n,e){let t=function Yj(n){return n>>16}(n),r=e;for(;t>0;)r=r[ys],t--;return r}let _m=!0;function kd(n){const e=_m;return _m=n,e}const nb=255,rb=5;let Jj=0;const wr={};function Vd(n,e){const t=ib(n,e);if(-1!==t)return t;const r=e[q];r.firstCreatePass&&(n.injectorIndex=e.length,ym(r.data,n),ym(e,null),ym(r.blueprint,null));const i=Fd(n,e),o=n.injectorIndex;if(mm(i)){const s=Vu(i),a=Fu(i,e),u=a[q].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function ym(n,e){n.push(0,0,0,0,0,0,0,0,e)}function ib(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Fd(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=db(i),null===r)return Cs;if(t++,i=i[ys],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Cs}function vm(n,e,t){!function Zj(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Du)&&(r=t[Du]),null==r&&(r=t[Du]=Jj++);const i=r&nb;e.data[n+(i>>rb)]|=1<<i}(n,e,t)}function ob(n,e,t){if(t&ge.Optional||void 0!==n)return n;Lg()}function sb(n,e,t,r){if(t&ge.Optional&&void 0===r&&(r=null),!(t&(ge.Self|ge.Host))){const i=n[Ti],o=mn(void 0);try{return i?i.get(e,r,t&ge.Optional):qC(e,r,t&ge.Optional)}finally{mn(o)}}return ob(r,0,t)}function ab(n,e,t,r=ge.Default,i){if(null!==n){if(2048&e[de]&&!(r&ge.Self)){const s=function i$(n,e,t,r,i){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[de]&&!(512&s[de]);){const a=ub(o,s,t,r|ge.Self,wr);if(a!==wr)return a;let u=o.parent;if(!u){const c=s[lA];if(c){const d=c.get(t,wr,r);if(d!==wr)return d}u=db(s),s=s[ys]}o=u}return i}(n,e,t,r,wr);if(s!==wr)return s}const o=ub(n,e,t,r,wr);if(o!==wr)return o}return sb(e,t,r,i)}function ub(n,e,t,r,i){const o=function t$(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Du)?n[Du]:void 0;return"number"==typeof e?e>=0?e&nb:r$:e}(t);if("function"==typeof o){if(!WA(e,n,r))return r&ge.Host?ob(i,0,r):sb(e,t,r,i);try{let s;if(s=o(r),null!=s||r&ge.Optional)return s;Lg()}finally{JA()}}else if("number"==typeof o){let s=null,a=ib(n,e),u=Cs,c=r&ge.Host?e[ct][$t]:null;for((-1===a||r&ge.SkipSelf)&&(u=-1===a?Fd(n,e):e[a+8],u!==Cs&&lb(r,!1)?(s=e[q],a=Vu(u),e=Fu(u,e)):a=-1);-1!==a;){const d=e[q];if(cb(o,a,d.data)){const h=e$(a,e,t,s,r,c);if(h!==wr)return h}u=e[a+8],u!==Cs&&lb(r,e[q].data[a+8]===c)&&cb(o,a,e)?(s=d,a=Vu(u),e=Fu(u,e)):a=-1}}return i}function e$(n,e,t,r,i,o){const s=e[q],a=s.data[n+8],d=function Ld(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,u=n.directiveStart,d=o>>20,p=i?a+d:n.directiveEnd;for(let m=r?a:a+d;m<p;m++){const y=s[m];if(m<u&&t===y||m>=u&&y.type===t)return m}if(i){const m=s[u];if(m&&ar(m)&&m.type===t)return u}return null}(a,s,t,null==r?po(a)&&_m:r!=s&&0!=(3&a.type),i&ge.Host&&o===a);return null!==d?_o(e,s,d,a):wr}function _o(n,e,t,r){let i=n[t];const o=e.data;if(function Wj(n){return n instanceof ku}(i)){const s=i;s.resolving&&function wB(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new U(-200,`Circular dependency in DI detected for ${n}${t}`)}(function be(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ue(n)}(o[t]));const a=kd(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?mn(s.injectImpl):null;WA(n,r,ge.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function zj(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=SA(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==c&&mn(c),kd(a),s.resolving=!1,JA()}}return i}function cb(n,e,t){return!!(t[e+(n>>rb)]&1<<n)}function lb(n,e){return!(n&ge.Self||n&ge.Host&&e)}class sn{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return ab(this._tNode,this._lView,e,wd(r),t)}}function r$(){return new sn(Ot(),V())}function kt(n){return jr(()=>{const e=n.prototype.constructor,t=e[$r]||Im(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[$r]||Im(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Im(n){return Vg(n)?()=>{const e=Im(ie(n));return e&&e()}:go(n)}function db(n){const e=n[q],t=e.type;return 2===t?e.declTNode:1===t?n[$t]:null}const bs="__parameters__";function Rs(n,e,t){return jr(()=>{const r=function Em(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,c,d){const h=u.hasOwnProperty(bs)?u[bs]:Object.defineProperty(u,bs,{value:[]})[bs];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Ms(n,e){n.forEach(t=>Array.isArray(t)?Ms(t,e):e(t))}function fb(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Bd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function xn(n,e,t){let r=xs(n,e);return r>=0?n[1|r]=t:(r=~r,function d$(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function wm(n,e){const t=xs(n,e);if(t>=0)return n[1|t]}function xs(n,e){return function pb(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const Wn=Tu(Rs("Optional"),8),$d=Tu(Rs("SkipSelf"),4);function Wd(n){return 128==(128&n.flags)}var Si=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Si||{});const bm=new Map;let k$=0;const Rm="__ngContext__";function Gt(n,e){yn(e)?(n[Rm]=e[Ru],function F$(n){bm.set(n[Ru],n)}(e)):n[Rm]=e}let Pm;function Mm(n,e){return Pm(n,e)}function Gu(n){const e=n[Qe];return nn(e)?e[Qe]:e}function Ob(n){return Vb(n[bu])}function kb(n){return Vb(n[sr])}function Vb(n){for(;null!==n&&!nn(n);)n=n[sr];return n}function ks(n,e,t,r,i){if(null!=r){let o,s=!1;nn(r)?o=r:yn(r)&&(s=!0,r=r[rt]);const a=je(r);0===n&&null!==t?null==i?Bb(e,t,a):yo(e,t,a,i||null,!0):1===n&&null!==t?yo(e,t,a,i||null,!0):2===n?function eh(n,e,t){const r=Zd(n,e);r&&function nG(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function oG(n,e,t,r,i){const o=t[vr];o!==je(t)&&ks(e,n,r,o,i);for(let a=xt;a<t.length;a++){const u=t[a];zu(u[q],u,n,e,r,o)}}(e,n,o,t,i)}}function Yd(n,e,t){return n.createElement(e,t)}function Lb(n,e){const t=n[Is],r=t.indexOf(e);kA(e),t.splice(r,1)}function Jd(n,e){if(n.length<=xt)return;const t=xt+e,r=n[t];if(r){const i=r[Su];null!==i&&i!==n&&Lb(i,r),e>0&&(n[t-1][sr]=r[sr]);const o=Bd(n,xt+e);!function K$(n,e){zu(n,e,e[ce],2,null,null),e[rt]=null,e[$t]=null}(r[q],r);const s=o[yr];null!==s&&s.detachView(o[q]),r[Qe]=null,r[sr]=null,r[de]&=-129}return r}function Nm(n,e){if(!(256&e[de])){const t=e[ce];e[Pu]&&IA(e[Pu]),e[Mu]&&IA(e[Mu]),t.destroyNode&&zu(n,e,t,3,null,null),function J$(n){let e=n[bu];if(!e)return Om(n[q],n);for(;e;){let t=null;if(yn(e))t=e[bu];else{const r=e[xt];r&&(t=r)}if(!t){for(;e&&!e[sr]&&e!==n;)yn(e)&&Om(e[q],e),e=e[Qe];null===e&&(e=n),yn(e)&&Om(e[q],e),t=e&&e[sr]}e=t}}(e)}}function Om(n,e){if(!(256&e[de])){e[de]&=-129,e[de]|=256,function tG(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof ku)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];Ir(4,a,u);try{u.call(a)}finally{Ir(5,a,u)}}else{Ir(4,i,o);try{o.call(i)}finally{Ir(5,i,o)}}}}}(n,e),function eG(n,e){const t=n.cleanup,r=e[ms];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else t[o].call(r[t[o+1]]);null!==r&&(e[ms]=null);const i=e[Di];if(null!==i){e[Di]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(n,e),1===e[q].type&&e[ce].destroy();const t=e[Su];if(null!==t&&nn(e[Qe])){t!==e[Qe]&&Lb(t,e);const r=e[yr];null!==r&&r.detachView(n)}!function L$(n){bm.delete(n[Ru])}(e)}}function km(n,e,t){return function Ub(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[rt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=n.data[r.directiveStart+i];if(o===ir.None||o===ir.Emulated)return null}return vn(r,t)}}(n,e.parent,t)}function yo(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Bb(n,e,t){n.appendChild(e,t)}function jb(n,e,t,r,i){null!==r?yo(n,e,t,r,i):Bb(n,e,t)}function Zd(n,e){return n.parentNode(e)}let Vm,Bm,Hb=function Gb(n,e,t){return 40&n.type?vn(n,t):null};function Xd(n,e,t,r){const i=km(n,r,e),o=e[ce],a=function $b(n,e,t){return Hb(n,e,t)}(r.parent||e[$t],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)jb(o,i,t[u],a,!1);else jb(o,i,t,a,!1);void 0!==Vm&&Vm(o,r,e,t,i)}function Hu(n,e){if(null!==e){const t=e.type;if(3&t)return vn(e,n);if(4&t)return Fm(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Hu(n,r);{const i=n[e.index];return nn(i)?Fm(-1,i):je(i)}}if(32&t)return Mm(e,n)()||je(n[e.index]);{const r=qb(n,e);return null!==r?Array.isArray(r)?r[0]:Hu(Gu(n[ct]),r):Hu(n,e.next)}}return null}function qb(n,e){return null!==e?n[ct][$t].projection[e.projection]:null}function Fm(n,e){const t=xt+n+1;if(t<e.length){const r=e[t],i=r[q].firstChild;if(null!==i)return Hu(r,i)}return e[vr]}function Lm(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],u=t.type;if(s&&0===e&&(a&&Gt(je(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)Lm(n,e,t.child,r,i,o,!1),ks(e,n,i,a,o);else if(32&u){const c=Mm(t,r);let d;for(;d=c();)ks(e,n,i,d,o);ks(e,n,i,a,o)}else 16&u?Kb(n,e,r,t,i,o):ks(e,n,i,a,o);t=s?t.projectionNext:t.next}}function zu(n,e,t,r,i,o){Lm(t,r,n.firstChild,e,i,o,!1)}function Kb(n,e,t,r,i,o){const s=t[ct],u=s[$t].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)ks(e,n,i,u[c],o);else{let c=u;const d=s[Qe];Wd(r)&&(c.flags|=128),Lm(n,e,c,d,i,o,!0)}}function Qb(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Yb(n,e,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&Qg(n,e,r),null!==i&&Qb(n,e,i),null!==o&&function aG(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}class eS{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const Qu=new Q("ENVIRONMENT_INITIALIZER"),lS=new Q("INJECTOR",-1),dS=new Q("INJECTOR_DEF_TYPES");class qm{get(e,t=wu){if(t===wu){const r=new Error(`NullInjectorError: No provider for ${It(e)}!`);throw r.name="NullInjectorError",r}return t}}function OG(...n){return{\u0275providers:fS(0,n),\u0275fromNgModule:!0}}function fS(n,...e){const t=[],r=new Set;let i;const o=s=>{t.push(s)};return Ms(e,s=>{const a=s;ih(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&pS(i,o),t}function pS(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];Wm(i,o=>{e(o,r)})}}function ih(n,e,t,r){if(!(n=ie(n)))return!1;let i=null,o=vd(n);const s=!o&&Ie(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const u=n.ngModule;if(o=vd(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of u)ih(c,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{Ms(o.imports,d=>{ih(d,e,t,r)&&(c||=[],c.push(d))})}finally{}void 0!==c&&pS(c,e)}if(!a){const c=go(i)||(()=>new i);e({provide:i,useFactory:c,deps:Te},i),e({provide:dS,useValue:i,multi:!0},i),e({provide:Qu,useValue:()=>ee(i),multi:!0},i)}const u=o.providers;if(null!=u&&!a){const c=n;Wm(u,d=>{e(d,c)})}}}return i!==n&&void 0!==n.providers}function Wm(n,e){for(let t of n)Fg(t)&&(t=t.\u0275providers),Array.isArray(t)?Wm(t,e):e(t)}const kG=Re({provide:String,useValue:Re});function Km(n){return null!==n&&"object"==typeof n&&kG in n}function vo(n){return"function"==typeof n}const Qm=new Q("Set Injector scope."),oh={},FG={};let Ym;function sh(){return void 0===Ym&&(Ym=new qm),Ym}class Kn{}class Us extends Kn{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Zm(e,s=>this.processProvider(s)),this.records.set(lS,Bs(void 0,this)),i.has("environment")&&this.records.set(Kn,Bs(void 0,this));const o=this.records.get(Qm);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(dS.multi,Te,ge.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=wi(this),r=mn(void 0);try{return e()}finally{wi(t),mn(r)}}get(e,t=wu,r=ge.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(JC))return e[JC](this);r=wd(r);const o=wi(this),s=mn(void 0);try{if(!(r&ge.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function $G(n){return"function"==typeof n||"object"==typeof n&&n instanceof Q}(e)&&yd(e);u=c&&this.injectableDefInScope(c)?Bs(Jm(e),oh):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&ge.Self?sh():this.parent).get(e,t=r&ge.Optional&&t===wu?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Ed]=a[Ed]||[]).unshift(It(e)),o)throw a;return function FB(n,e,t,r){const i=n[Ed];throw e[KC]&&i.unshift(e[KC]),n.message=function LB(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=It(e);if(Array.isArray(e))i=e.map(It).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):It(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(xB,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Ed]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{mn(s),wi(o)}}resolveInjectorInitializers(){const e=wi(this),t=mn(void 0);try{const i=this.get(Qu.multi,Te,ge.Self);for(const o of i)o()}finally{wi(e),mn(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(It(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new U(205,!1)}processProvider(e){let t=vo(e=ie(e))?e:ie(e&&e.provide);const r=function UG(n){return Km(n)?Bs(void 0,n.useValue):Bs(_S(n),oh)}(e);if(vo(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Bs(void 0,oh,!0),i.factory=()=>qg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===oh&&(t.value=FG,t.value=t.factory()),"object"==typeof t.value&&t.value&&function jG(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ie(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Jm(n){const e=yd(n),t=null!==e?e.factory:go(n);if(null!==t)return t;if(n instanceof Q)throw new U(204,!1);if(n instanceof Function)return function LG(n){const e=n.length;if(e>0)throw function Bu(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new U(204,!1);const t=function SB(n){return n&&(n[Id]||n[HC])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new U(204,!1)}function _S(n,e,t){let r;if(vo(n)){const i=ie(n);return go(i)||Jm(i)}if(Km(n))r=()=>ie(n.useValue);else if(function mS(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...qg(n.deps||[]));else if(function gS(n){return!(!n||!n.useExisting)}(n))r=()=>ee(ie(n.useExisting));else{const i=ie(n&&(n.useClass||n.provide));if(!function BG(n){return!!n.deps}(n))return go(i)||Jm(i);r=()=>new i(...qg(n.deps))}return r}function Bs(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Zm(n,e){for(const t of n)Array.isArray(t)?Zm(t,e):t&&Fg(t)?Zm(t.\u0275providers,e):e(t)}const ah=new Q("AppId",{providedIn:"root",factory:()=>GG}),GG="ng",yS=new Q("Platform Initializer"),Io=new Q("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),vS=new Q("CSP nonce",{providedIn:"root",factory:()=>function Fs(){if(void 0!==Bm)return Bm;if(typeof document<"u")return document;throw new U(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let IS=(n,e,t)=>null;function s_(n,e,t=!1){return IS(n,e,t)}class XG{}class TS{}class tH{resolveComponentFactory(e){throw function eH(n){const e=Error(`No component factory found for ${It(n)}.`);return e.ngComponent=n,e}(e)}}let fh=(()=>{class n{static#e=this.NULL=new tH}return n})();function nH(){return Gs(Ot(),V())}function Gs(n,e){return new Nn(vn(n,e))}let Nn=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=nH}return n})();class CS{}let Wr=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function iH(){const n=V(),t=Mn(Ot().index,n);return(yn(t)?t:n)[ce]}()}return n})(),oH=(()=>{class n{static#e=this.\u0275prov=te({token:n,providedIn:"root",factory:()=>null})}return n})();class Hs{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const AS=new Hs("16.2.12"),c_={};function PS(n,e=null,t=null,r){const i=MS(n,e,t,r);return i.resolveInjectorInitializers(),i}function MS(n,e=null,t=null,r,i=new Set){const o=[t||Te,OG(n)];return r=r||("object"==typeof n?void 0:It(n)),new Us(o,e||sh(),r||null,i)}let an=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=wu;static#t=this.NULL=new qm;static create(t,r){if(Array.isArray(t))return PS({name:""},r,t,"");{const i=t.name??"";return PS({name:i},t.parent,t.providers,i)}}static#n=this.\u0275prov=te({token:n,providedIn:"any",factory:()=>ee(lS)});static#r=this.__NG_ELEMENT_ID__=-1}return n})();function d_(n){return n.ngOriginalError}class Kr{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&d_(e);for(;t&&d_(t);)t=d_(t);return t||null}}function f_(n){return e=>{setTimeout(n,void 0,e)}}const it=class hH extends rr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=f_(o),i&&(i=f_(i)),s&&(s=f_(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof gn&&e.add(a),a}};function NS(...n){}class Pe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new it(!1),this.onMicrotaskEmpty=new it(!1),this.onStable=new it(!1),this.onError=new it(!1),typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function fH(){const n="function"==typeof Be.requestAnimationFrame;let e=Be[n?"requestAnimationFrame":"setTimeout"],t=Be[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function mH(n){const e=()=>{!function gH(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Be,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,g_(n),n.isCheckStableRunning=!0,p_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),g_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{if(function yH(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,o,s,a);try{return OS(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),kS(n)}},onInvoke:(t,r,i,o,s,a,u)=>{try{return OS(n),t.invoke(i,o,s,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),kS(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,g_(n),p_(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Pe.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(Pe.isInAngularZone())throw new U(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,pH,NS,NS);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const pH={};function p_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function g_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function OS(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function kS(n){n._nesting--,p_(n)}class _H{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new it,this.onMicrotaskEmpty=new it,this.onStable=new it,this.onError=new it}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const VS=new Q("",{providedIn:"root",factory:FS});function FS(){const n=Y(Pe);let e=!0;return function yB(...n){const e=Eu(n),t=function dB(n,e){return"number"==typeof Ng(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?bn(r[0]):fs(t)(Ct(r,e)):gr}(new Xe(i=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Xe(i=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{Pe.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=n.onUnstable.subscribe(()=>{Pe.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(jC()))}function Qr(n){return n instanceof Function?n():n}let m_=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=te({token:n,providedIn:"root",factory:()=>new n})}return n})();function Zu(n){for(;n;){n[de]|=64;const e=Gu(n);if(Xg(n)&&!e)return n;n=e}return null}const $S=new Q("",{providedIn:"root",factory:()=>!1});let gh=null;function qS(n,e){return n[e]??QS()}function WS(n,e){const t=QS();t.producerNode?.length&&(n[e]=gh,t.lView=n,gh=KS())}const SH={...pA,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Zu(n.lView)},lView:null};function KS(){return Object.create(SH)}function QS(){return gh??=KS(),gh}const le={};function Pi(n){YS(Ee(),V(),on()+n,!1)}function YS(n,e,t,r){if(!r)if(3==(3&e[de])){const o=n.preOrderCheckHooks;null!==o&&Nd(e,o,t)}else{const o=n.preOrderHooks;null!==o&&Od(e,o,0,t)}mo(t)}function B(n,e=ge.Default){const t=V();return null===t?ee(n,e):ab(Ot(),t,ie(n),e)}function mh(n,e,t,r,i,o,s,a,u,c,d){const h=e.blueprint.slice();return h[rt]=i,h[de]=140|r,(null!==c||n&&2048&n[de])&&(h[de]|=2048),OA(h),h[Qe]=h[ys]=n,h[ut]=t,h[_s]=s||n&&n[_s],h[ce]=a||n&&n[ce],h[Ti]=u||n&&n[Ti]||null,h[$t]=o,h[Ru]=function V$(){return k$++}(),h[Gr]=d,h[lA]=c,h[ct]=2==e.type?n[ct]:h,h}function Ws(n,e,t,r,i){let o=n.data[e];if(null===o)o=function __(n,e,t,r,i){const o=$A(),s=am(),u=n.data[e]=function VH(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return function Ts(){return null!==re.skipHydrationRootTNode}()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(n,e,t,r,i),function kj(){return re.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function Ou(){const n=re.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Er(o,!0),o}function Xu(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function ZS(n,e,t,r,i){const o=qS(e,Pu),s=on(),a=2&r;try{mo(-1),a&&e.length>me&&YS(n,e,me,!1),Ir(a?2:0,i);const c=a?o:null,d=tm(c);try{null!==c&&(c.dirty=!1),t(r,i)}finally{nm(c,d)}}finally{a&&null===e[Pu]&&WS(e,Pu),mo(s),Ir(a?3:1,i)}}function y_(n,e,t){if(Zg(e)){const r=Hn(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{Hn(r)}}}function v_(n,e,t){UA()&&(function GH(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;po(t)&&function YH(n,e,t){const r=vn(e,n),i=XS(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=_h(n,mh(n,i,null,s,r,e,null,n[_s].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Vd(t,e),Gt(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const u=n.data[a],c=_o(e,n,a,t);Gt(c,e),null!==s&&JH(0,a-i,c,u,0,s),ar(u)&&(Mn(t.index,e)[ut]=_o(e,n,a,t))}}(n,e,t,vn(t,e)),64==(64&t.flags)&&o0(n,e,t))}function I_(n,e,t=vn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function XS(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=E_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function E_(n,e,t,r,i,o,s,a,u,c,d){const h=me+r,p=h+i,m=function PH(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:le);return t}(h,p),y="function"==typeof c?c():c;return m[q]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:y,incompleteFirstPass:!1,ssrId:d}}let e0=n=>null;function t0(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const o=n[i];null===r?n0(t,e,i,o):r.hasOwnProperty(i)&&n0(t,e,r[i],o)}return t}function n0(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function w_(n,e,t,r){if(UA()){const i=null===r?null:{"":-1},o=function zH(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(iA(e,s.selectors,!1))if(r||(r=[]),ar(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),T_(n,e,a.length)}else r.unshift(s),T_(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&r0(n,e,t,s,i,a),i&&function qH(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new U(-301,!1);r.push(e[i],o)}}}(t,r,i)}t.mergedAttrs=Cu(t.mergedAttrs,t.attrs)}function r0(n,e,t,r,i,o){for(let c=0;c<r.length;c++)vm(Vd(t,e),n,r[c].type);!function KH(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const d=r[c];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,u=Xu(n,e,r.length,null);for(let c=0;c<r.length;c++){const d=r[c];t.mergedAttrs=Cu(t.mergedAttrs,d.hostAttrs),QH(n,t,e,u,d),WH(u,d,i),null!==d.contentQueries&&(t.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=64);const h=d.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}!function FH(n,e,t){const i=e.directiveEnd,o=n.data,s=e.attrs,a=[];let u=null,c=null;for(let d=e.directiveStart;d<i;d++){const h=o[d],p=t?t.get(h):null,y=p?p.outputs:null;u=t0(h.inputs,d,u,p?p.inputs:null),c=t0(h.outputs,d,c,y);const I=null===u||null===s||rA(e)?null:ZH(u,d,s);a.push(I)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(n,t,o)}function o0(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function Fj(){return re.lFrame.currentDirectiveIndex}();try{mo(o);for(let a=r;a<i;a++){const u=n.data[a],c=e[a];cm(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&HH(u,c)}}finally{mo(-1),cm(s)}}function HH(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function T_(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function WH(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ar(e)&&(t[""]=n)}}function QH(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=go(i.type)),s=new ku(o,ar(i),B);n.blueprint[r]=s,t[r]=s,function jH(n,e,t,r,i){const o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function $H(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(n,e,r,Xu(n,t,i.hostVars,le),i)}function JH(n,e,t,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)s0(r,t,s[a++],s[a++],s[a++])}function s0(n,e,t,r,i){const o=Hn(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==n.setInput?n.setInput(e,i,t,r):e[r]=i}finally{Hn(o)}}function ZH(n,e,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===r&&(r=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function a0(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null,null]}function u0(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const s=n.data[o];dm(t[r]),s.contentQueries(2,e[o],o)}}}function _h(n,e){return n[bu]?n[cA][sr]=e:n[bu]=e,n[cA]=e,e}function C_(n,e,t){dm(0);const r=Hn(null);try{e(n,t)}finally{Hn(r)}}function h0(n,e){const t=n[Ti],r=t?t.get(Kr,null):null;r&&r.handleError(e)}function A_(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];s0(n.data[s],e[s],r,a,i)}}function XH(n,e){const t=Mn(e,n),r=t[q];!function ez(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[rt];null!==i&&null===t[Gr]&&(t[Gr]=s_(i,t[Ti])),b_(r,t,t[ut])}function b_(n,e,t){hm(e);try{const r=n.viewQuery;null!==r&&C_(1,r,t);const i=n.template;null!==i&&ZS(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&u0(n,e),n.staticViewQueries&&C_(2,n.viewQuery,t);const o=n.components;null!==o&&function tz(n,e){for(let t=0;t<e.length;t++)XH(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[de]&=-5,fm()}}let f0=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function fj(n,e,t){const r=Object.create(pj);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>yA(r),run:()=>{if(r.dirty=!1,r.hasRun&&!vA(r))return;r.hasRun=!0;const s=tm(r);try{r.cleanupFn(),r.cleanupFn=bA,r.fn(i)}finally{nm(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(t,c=>{this.all.has(c)&&this.queue.set(c,o)},i);let a;this.all.add(s),s.notify();const u=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=te({token:n,providedIn:"root",factory:()=>new n})}return n})();function yh(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=kg(i,a):2==o&&(r=kg(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function ec(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];null!==o&&r.push(je(o)),nn(o)&&p0(o,r);const s=t.type;if(8&s)ec(n,e,t.child,r);else if(32&s){const a=Mm(t,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=qb(e,t);if(Array.isArray(a))r.push(...a);else{const u=Gu(e[ct]);ec(u[q],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function p0(n,e){for(let t=xt;t<n.length;t++){const r=n[t],i=r[q].firstChild;null!==i&&ec(r[q],r,i,e)}n[vr]!==n[rt]&&e.push(n[vr])}function vh(n,e,t,r=!0){const i=e[_s],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{g0(n,e,n.template,t)}catch(u){throw r&&h0(e,u),u}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function g0(n,e,t,r){const i=e[de];if(256!=(256&i)){e[_s].effectManager?.flush(),hm(e);try{OA(e),function HA(n){return re.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&ZS(n,e,t,2,r);const s=3==(3&i);if(s){const c=n.preOrderCheckHooks;null!==c&&Nd(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Od(e,c,0,null),pm(e,0)}if(function iz(n){for(let e=Ob(n);null!==e;e=kb(e)){if(!e[dA])continue;const t=e[Is];for(let r=0;r<t.length;r++){Dj(t[r])}}}(e),m0(e,2),null!==n.contentQueries&&u0(n,e),s){const c=n.contentCheckHooks;null!==c&&Nd(e,c)}else{const c=n.contentHooks;null!==c&&Od(e,c,1),pm(e,1)}!function RH(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const r=qS(e,Mu);try{for(let i=0;i<t.length;i++){const o=t[i];if(o<0)mo(~o);else{const s=o,a=t[++i],u=t[++i];Vj(a,s),r.dirty=!1;const c=tm(r);try{u(2,e[s])}finally{nm(r,c)}}}}finally{null===e[Mu]&&WS(e,Mu),mo(-1)}}(n,e);const a=n.components;null!==a&&y0(e,a,0);const u=n.viewQuery;if(null!==u&&C_(2,u,r),s){const c=n.viewCheckHooks;null!==c&&Nd(e,c)}else{const c=n.viewHooks;null!==c&&Od(e,c,2),pm(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[de]&=-73,kA(e)}finally{fm()}}}function m0(n,e){for(let t=Ob(n);null!==t;t=kb(t))for(let r=xt;r<t.length;r++)_0(t[r],e)}function oz(n,e,t){_0(Mn(e,n),t)}function _0(n,e){if(!function wj(n){return 128==(128&n[de])}(n))return;const t=n[q],r=n[de];if(80&r&&0===e||1024&r||2===e)g0(t,n,t.template,n[ut]);else if(n[Au]>0){m0(n,1);const i=t.components;null!==i&&y0(n,i,1)}}function y0(n,e,t){for(let r=0;r<e.length;r++)oz(n,e[r],t)}class tc{get rootNodes(){const e=this._lView,t=e[q];return ec(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ut]}set context(e){this._lView[ut]=e}get destroyed(){return 256==(256&this._lView[de])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Qe];if(nn(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(Jd(e,r),Bd(t,r))}this._attachedToViewContainer=!1}Nm(this._lView[q],this._lView)}onDestroy(e){!function FA(n,e){if(256==(256&n[de]))throw new U(911,!1);null===n[Di]&&(n[Di]=[]),n[Di].push(e)}(this._lView,e)}markForCheck(){Zu(this._cdRefInjectingView||this._lView)}detach(){this._lView[de]&=-129}reattach(){this._lView[de]|=128}detectChanges(){vh(this._lView[q],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Y$(n,e){zu(n,e,e[ce],2,null,null)}(this._lView[q],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e}}class sz extends tc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;vh(e[q],e,e[ut],!1)}checkNoChanges(){}get context(){return null}}class v0 extends fh{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ie(e);return new nc(t,this.ngModule)}}function I0(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class uz{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=wd(r);const i=this.injector.get(e,c_,r);return i!==c_||t===c_?i:this.parentInjector.get(e,t,r)}}class nc extends TS{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=I0(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return I0(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function KB(n){return n.map(WB).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=(i=i||this.ngModule)instanceof Kn?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new uz(e,o):e,a=s.get(CS,null);if(null===a)throw new U(407,!1);const h={rendererFactory:a,sanitizer:s.get(oH,null),effectManager:s.get(f0,null),afterRenderEventManager:s.get(m_,null)},p=a.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",y=r?function MH(n,e,t,r){const o=r.get($S,!1)||t===ir.ShadowDom,s=n.selectRootElement(e,o);return function xH(n){e0(n)}(s),s}(p,r,this.componentDef.encapsulation,s):Yd(p,m,function az(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(m)),P=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let C=null;null!==y&&(C=s_(y,s,!0));const k=E_(0,null,null,1,0,null,null,null,null,null,null),j=mh(null,k,null,P,null,null,h,p,s,null,C);let W,X;hm(j);try{const D=this.componentDef;let v,w=null;D.findHostDirectiveDefs?(v=[],w=new Map,D.findHostDirectiveDefs(D,v,w),v.push(D)):v=[D];const A=function lz(n,e){const t=n[q],r=me;return n[r]=e,Ws(t,r,2,"#host",null)}(j,y),b=function dz(n,e,t,r,i,o,s){const a=i[q];!function hz(n,e,t,r){for(const i of n)e.mergedAttrs=Cu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(yh(e,e.mergedAttrs,!0),null!==t&&Yb(r,t,e))}(r,n,e,s);let u=null;null!==e&&(u=s_(e,i[Ti]));const c=o.rendererFactory.createRenderer(e,t);let d=16;t.signals?d=4096:t.onPush&&(d=64);const h=mh(i,XS(t),null,d,i[n.index],n,o,c,null,null,u);return a.firstCreatePass&&T_(a,n,r.length-1),_h(i,h),i[n.index]=h}(A,y,D,v,j,h,p);X=NA(k,me),y&&function pz(n,e,t,r){if(r)Qg(n,t,["ng-version",AS.full]);else{const{attrs:i,classes:o}=function QB(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!or(i))break;i=o}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&Qg(n,t,i),o&&o.length>0&&Qb(n,t,o.join(" "))}}(p,D,y,r),void 0!==t&&function gz(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(X,this.ngContentSelectors,t),W=function fz(n,e,t,r,i,o){const s=Ot(),a=i[q],u=vn(s,i);r0(a,i,s,t,null,r);for(let d=0;d<t.length;d++)Gt(_o(i,a,s.directiveStart+d,s),i);o0(a,i,s),u&&Gt(u,i);const c=_o(i,a,s.directiveStart+s.componentOffset,s);if(n[ut]=i[ut]=c,null!==o)for(const d of o)d(c,e);return y_(a,s,n),c}(b,D,v,w,j,[mz]),b_(k,j,null)}finally{fm()}return new cz(this.componentType,W,Gs(X,j),j,X)}}class cz extends XG{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new sz(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;A_(o[q],o,i,e,t),this.previousInputValues.set(e,t),Zu(Mn(this._tNode.index,o))}}get injector(){return new sn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function mz(){const n=Ot();xd(V()[q],n)}function Me(n){let e=function E0(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(ar(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new U(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=Ih(n.inputs),s.inputTransforms=Ih(n.inputTransforms),s.declaredInputs=Ih(n.declaredInputs),s.outputs=Ih(n.outputs);const a=i.hostBindings;a&&Iz(n,a);const u=i.viewQuery,c=i.contentQueries;if(u&&yz(n,u),c&&vz(n,c),md(n.inputs,i.inputs),md(n.declaredInputs,i.declaredInputs),md(n.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),md(s.inputTransforms,i.inputTransforms)),ar(i)&&i.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===Me&&(t=!1)}}e=Object.getPrototypeOf(e)}!function _z(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Cu(i.hostAttrs,t=Cu(t,i.hostAttrs))}}(r)}function Ih(n){return n===_r?{}:n===Te?[]:n}function yz(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function vz(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function Iz(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function Eh(n){return!!S_(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function S_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ht(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}let U0=function B0(n,e,t,r){return bi(!0),e[ce].createComment("")};function wo(n,e,t){const r=V();return Ht(r,Ds(),e)&&function On(n,e,t,r,i,o,s,a){const u=vn(e,t);let d,c=e.inputs;!a&&null!=c&&(d=c[r])?(A_(n,t,d,r,i),po(e)&&function UH(n,e){const t=Mn(e,n);16&t[de]||(t[de]|=64)}(t,e.index)):3&e.type&&(r=function LH(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(u,r,i))}(Ee(),function et(){const n=re.lFrame;return NA(n.tView,n.selectedIndex)}(),r,n,e,r[ce],t,!1),wo}function O_(n,e,t,r,i){const s=i?"class":"style";A_(n,t,e.inputs[s],s,r)}function zt(n,e,t,r){const i=V(),o=Ee(),s=me+n,a=i[ce],u=o.firstCreatePass?function Yz(n,e,t,r,i,o){const s=e.consts,u=Ws(e,n,2,r,Ai(s,i));return w_(e,t,u,Ai(s,o)),null!==u.attrs&&yh(u,u.attrs,!1),null!==u.mergedAttrs&&yh(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,e,t,r):o.data[s],c=j0(o,i,u,a,e,n);i[s]=c;const d=bd(u);return Er(u,!0),Yb(a,c,u),32!=(32&u.flags)&&Md()&&Xd(o,i,c,u),0===function Aj(){return re.lFrame.elementDepthCount}()&&Gt(c,i),function bj(){re.lFrame.elementDepthCount++}(),d&&(v_(o,i,u),y_(o,u,i)),null!==r&&I_(i,u),zt}function un(){let n=Ot();am()?function um(){re.lFrame.isParent=!1}():(n=n.parent,Er(n,!1));const e=n;(function Rj(n){return re.skipHydrationRootTNode===n})(e)&&function Nj(){re.skipHydrationRootTNode=null}(),function Sj(){re.lFrame.elementDepthCount--}();const t=Ee();return t.firstCreatePass&&(xd(t,n),Zg(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function Kj(n){return 0!=(8&n.flags)}(e)&&O_(t,e,V(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function Qj(n){return 0!=(16&n.flags)}(e)&&O_(t,e,V(),e.stylesWithoutHost,!1),un}function k_(n,e,t,r){return zt(n,e,t,r),un(),k_}let j0=(n,e,t,r,i,o)=>(bi(!0),Yd(r,i,function ZA(){return re.lFrame.currentNamespace}()));function ac(n){return!!n&&"function"==typeof n.then}function z0(n){return!!n&&"function"==typeof n.subscribe}function Vt(n,e,t,r){const i=V(),o=Ee(),s=Ot();return function W0(n,e,t,r,i,o,s){const a=bd(r),c=n.firstCreatePass&&function l0(n){return n.cleanup||(n.cleanup=[])}(n),d=e[ut],h=function c0(n){return n[ms]||(n[ms]=[])}(e);let p=!0;if(3&r.type||s){const I=vn(r,e),E=s?s(I):I,P=h.length,C=s?j=>s(je(j[r.index])):r.index;let k=null;if(!s&&a&&(k=function n4(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[ms],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==k)(k.__ngLastListenerFn__||k).__ngNextListenerFn__=o,k.__ngLastListenerFn__=o,p=!1;else{o=Q0(r,e,d,o,!1);const j=t.listen(E,i,o);h.push(o,j),c&&c.push(i,C,P,P+1)}}else o=Q0(r,e,d,o,!1);const m=r.outputs;let y;if(p&&null!==m&&(y=m[i])){const I=y.length;if(I)for(let E=0;E<I;E+=2){const W=e[y[E]][y[E+1]].subscribe(o),X=h.length;h.push(o,W),c&&c.push(i,r.index,X,-(X+1))}}}(o,i,i[ce],s,n,e,r),Vt}function K0(n,e,t,r){try{return Ir(6,e,t),!1!==t(r)}catch(i){return h0(n,i),!1}finally{Ir(7,e,t)}}function Q0(n,e,t,r,i){return function o(s){if(s===Function)return r;Zu(n.componentOffset>-1?Mn(n.index,e):e);let u=K0(e,t,r,s),c=o.__ngNextListenerFn__;for(;c;)u=K0(e,t,c,s)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&s.preventDefault(),u}}function L_(n=1){return function Uj(n){return(re.lFrame.contextLView=function Bj(n,e){for(;n>0;)e=e[ys],n--;return e}(n,re.lFrame.contextLView))[ut]}(n)}function Ah(n,e){return n<<17|e<<2}function Mi(n){return n>>17&32767}function B_(n){return 2|n}function To(n){return(131068&n)>>2}function j_(n,e){return-131069&n|e<<2}function $_(n){return 1|n}function oR(n,e,t,r,i){const o=n[t+1],s=null===e;let a=r?Mi(o):To(o),u=!1;for(;0!==a&&(!1===u||s);){const d=n[a+1];d4(n[a],e)&&(u=!0,n[a+1]=r?$_(d):B_(d)),a=r?Mi(d):To(d)}u&&(n[t+1]=r?B_(o):$_(o))}function d4(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&xs(n,e)>=0}function bh(n,e){return function ur(n,e,t,r){const i=V(),o=Ee(),s=function zr(n){const e=re.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);o.firstUpdatePass&&function pR(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[on()],s=function fR(n,e){return e>=n.expandoStartIndex}(n,t);(function yR(n,e){return 0!=(n.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function I4(n,e,t,r){const i=function lm(n){const e=re.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=uc(t=G_(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=G_(i,n,e,t,r),null===o){let u=function E4(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==To(r))return n[Mi(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=G_(null,n,e,u[1],r),u=uc(u,e.attrs,r),function w4(n,e,t,r){n[Mi(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else o=function T4(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=uc(r,n[o].hostAttrs,t);return uc(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function c4(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Mi(s),u=To(s);n[r]=t;let d,c=!1;if(Array.isArray(t)?(d=t[1],(null===d||xs(t,d)>0)&&(c=!0)):d=t,i)if(0!==u){const p=Mi(n[a+1]);n[r+1]=Ah(p,a),0!==p&&(n[p+1]=j_(n[p+1],r)),n[a+1]=function a4(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Ah(a,0),0!==a&&(n[a+1]=j_(n[a+1],r)),a=r;else n[r+1]=Ah(u,0),0===a?a=r:n[u+1]=j_(n[u+1],r),u=r;c&&(n[r+1]=B_(n[r+1])),oR(n,d,r,!0),oR(n,d,r,!1),function l4(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&xs(o,e)>=0&&(t[r+1]=$_(t[r+1]))}(e,d,n,r,o),s=Ah(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}(o,n,s,r),e!==le&&Ht(i,s,e)&&function mR(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const u=n.data,c=u[a+1],d=function u4(n){return 1==(1&n)}(c)?_R(u,e,t,i,To(c),s):void 0;Sh(d)||(Sh(o)||function s4(n){return 2==(2&n)}(c)&&(o=_R(u,null,t,i,a,s)),function sG(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:Si.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Si.Important),n.setStyle(t,r,i,o))}}(r,s,Pd(on(),t),i,o))}(o,o.data[on()],i,i[ce],n,i[s+1]=function b4(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=It(function Ri(n){return n instanceof eS?n.changingThisBreaksApplicationSecurity:n}(n)))),n}(e,t),r,s)}(n,e,null,!0),bh}function G_(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=uc(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function uc(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),xn(n,s,!!t||e[++o]))}return void 0===n?null:n}function _R(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const u=n[i],c=Array.isArray(u),d=c?u[1]:u,h=null===d;let p=t[i+1];p===le&&(p=h?Te:void 0);let m=h?wm(p,r):d===r?p:void 0;if(c&&!Sh(m)&&(m=wm(u,r)),Sh(m)&&(a=m,s))return a;const y=n[i+1];i=s?Mi(y):To(y)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(a=wm(u,r))}return a}function Sh(n){return void 0!==n}function Sr(n,e=""){const t=V(),r=Ee(),i=n+me,o=r.firstCreatePass?Ws(r,i,1,e,null):r.data[i],s=vR(r,t,o,e,n);t[i]=s,Md()&&Xd(r,t,s,o),Er(o,!1)}let vR=(n,e,t,r,i)=>(bi(!0),function Qd(n,e){return n.createText(e)}(e[ce],r));function ia(n,e,t){const r=V(),i=function Qs(n,e,t,r){return Ht(n,Ds(),t)?e+ue(t)+r:le}(r,n,e,t);return i!==le&&function Yr(n,e,t){const r=Pd(e,n);!function Fb(n,e,t){n.setValue(e,t)}(n[ce],r,t)}(r,on(),i),ia}const sa="en-US";let $R=sa;function q_(n,e,t,r,i){if(n=ie(n),Array.isArray(n))for(let o=0;o<n.length;o++)q_(n[o],e,t,r,i);else{const o=Ee(),s=V(),a=Ot();let u=vo(n)?n:ie(n.provide);const c=_S(n),d=1048575&a.providerIndexes,h=a.directiveStart,p=a.providerIndexes>>20;if(vo(n)||!n.multi){const m=new ku(c,i,B),y=K_(u,e,i?d:d+p,h);-1===y?(vm(Vd(a,s),o,u),W_(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[y]=m,s[y]=m)}else{const m=K_(u,e,d+p,h),y=K_(u,e,d,d+p),E=y>=0&&t[y];if(i&&!E||!i&&!(m>=0&&t[m])){vm(Vd(a,s),o,u);const P=function Kq(n,e,t,r,i){const o=new ku(n,t,B);return o.multi=[],o.index=e,o.componentProviders=0,fP(o,i,r&&!t),o}(i?Wq:qq,t.length,i,r,c);!i&&E&&(t[y].providerFactory=P),W_(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(P),s.push(P)}else W_(o,n,m>-1?m:y,fP(t[i?y:m],c,!i&&r));!i&&r&&E&&t[y].componentProviders++}}}function W_(n,e,t,r){const i=vo(e),o=function VG(n){return!!n.useClass}(e);if(i||o){const u=(o?ie(e.useClass):e).prototype.ngOnDestroy;if(u){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const d=c.indexOf(t);-1===d?c.push(t,[r,u]):c[d+1].push(r,u)}else c.push(t,u)}}}function fP(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function K_(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function qq(n,e,t,r){return Q_(this.multi,[])}function Wq(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=_o(t,t[q],this.providerFactory.index,r);o=a.slice(0,s),Q_(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Q_(i,o);return o}function Q_(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Ye(n,e=[]){return t=>{t.providersResolver=(r,i)=>function zq(n,e,t){const r=Ee();if(r.firstCreatePass){const i=ar(n);q_(t,r.data,r.blueprint,i,!0),q_(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Co{}class pP{}class Y_ extends Co{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new v0(this);const i=Pn(e);this._bootstrapComponents=Qr(i.bootstrap),this._r3Injector=MS(e,t,[{provide:Co,useValue:this},{provide:fh,useValue:this.componentFactoryResolver},...r],It(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class J_ extends pP{constructor(e){super(),this.moduleType=e}create(e){return new Y_(this.moduleType,e,[])}}class gP extends Co{constructor(e){super(),this.componentFactoryResolver=new v0(this),this.instance=null;const t=new Us([...e.providers,{provide:Co,useValue:this},{provide:fh,useValue:this.componentFactoryResolver}],e.parent||sh(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Z_(n,e,t=null){return new gP({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let Jq=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=fS(0,t.type),i=r.length>0?Z_([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=te({token:n,providedIn:"environment",factory:()=>new n(ee(Kn))})}return n})();function mP(n){n.getStandaloneInjector=e=>e.get(Jq).getOrCreateStandaloneInjector(n)}function C3(n,e,t,r=!0){const i=e[q];if(function Z$(n,e,t,r){const i=xt+r,o=t.length;r>0&&(t[i-1][sr]=e),r<o-xt?(e[sr]=t[i],fb(t,xt+r,e)):(t.push(e),e[sr]=null),e[Qe]=t;const s=e[Su];null!==s&&t!==s&&function X$(n,e){const t=n[Is];e[ct]!==e[Qe][Qe][ct]&&(n[dA]=!0),null===t?n[Is]=[e]:t.push(e)}(s,e);const a=e[yr];null!==a&&a.insertView(n),e[de]|=128}(i,e,n,t),r){const o=Fm(t,n),s=e[ce],a=Zd(s,n[vr]);null!==a&&function Q$(n,e,t,r,i,o){r[rt]=i,r[$t]=e,zu(n,r,t,1,i,o)}(i,n[$t],s,e,a,o)}}Symbol;let Jr=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=S3}return n})();const A3=Jr,b3=class extends A3{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=function D3(n,e,t,r){const i=e.tView,a=mh(n,i,t,4096&n[de]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Su]=n[e.index];const c=n[yr];return null!==c&&(a[yr]=c.createEmbeddedView(i)),b_(i,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:r});return new tc(i)}};function S3(){return function Nh(n,e){return 4&n.type?new b3(e,n,Gs(n,e)):null}(Ot(),V())}let lr=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=O3}return n})();function O3(){return function OP(n,e){let t;const r=e[n.index];return nn(r)?t=r:(t=a0(r,e,null,n),e[n.index]=t,_h(e,t)),kP(t,e,n,r),new xP(t,n,e)}(Ot(),V())}const k3=lr,xP=class extends k3{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Gs(this._hostTNode,this._hostLView)}get injector(){return new sn(this._hostTNode,this._hostLView)}get parentInjector(){const e=Fd(this._hostTNode,this._hostLView);if(mm(e)){const t=Fu(e,this._hostLView),r=Vu(e);return new sn(t[q].data[r+8],t)}return new sn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=NP(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-xt}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,t,r,i,o){const s=e&&!function Uu(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const I=t||{};a=I.index,r=I.injector,i=I.projectableNodes,o=I.environmentInjector||I.ngModuleRef}const u=s?e:new nc(Ie(e)),c=r||this.parentInjector;if(!o&&null==u.ngModule){const E=(s?c:this.parentInjector).get(Kn,null);E&&(o=E)}Ie(u.componentType??{});const m=u.create(c,i,null,o);return this.insertImpl(m.hostView,a,false),m}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,r){const i=e._lView;if(function Tj(n){return nn(n[Qe])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[Qe],d=new xP(c,c[$t],c[Qe]);d.detach(d.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;return C3(a,i,s,!r),e.attachToViewContainerRef(),fb(ty(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=NP(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=Jd(this._lContainer,t);r&&(Bd(ty(this._lContainer),t),Nm(r[q],r))}detach(e){const t=this._adjustIndex(e,-1),r=Jd(this._lContainer,t);return r&&null!=Bd(ty(this._lContainer),t)?new tc(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function NP(n){return n[8]}function ty(n){return n[8]||(n[8]=[])}let kP=function VP(n,e,t,r){if(n[vr])return;let i;i=8&t.type?je(r):function V3(n,e){const t=n[ce],r=t.createComment(""),i=vn(e,n);return yo(t,Zd(t,i),r,function rG(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[vr]=i};const hy=new Q("Application Initializer");let fy=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=Y(hy,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const o=i();if(ac(o))t.push(o);else if(z0(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),aM=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const Zr=new Q("LocaleId",{providedIn:"root",factory:()=>Y(Zr,ge.Optional|ge.SkipSelf)||function f6(){return typeof $localize<"u"&&$localize.locale||sa}()});let uM=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new jn(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class m6{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let cM=(()=>{class n{compileModuleSync(t){return new J_(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=Qr(Pn(t).declarations).reduce((s,a)=>{const u=Ie(a);return u&&s.push(new nc(u)),s},[]);return new m6(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const fM=new Q(""),Fh=new Q("");let yy,my=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,yy||(function L6(n){yy=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Pe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||n)(ee(Pe),ee(_y),ee(Fh))};static#t=this.\u0275prov=te({token:n,factory:n.\u0275fac})}return n})(),_y=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return yy?.findTestabilityInTree(this,t,r)??null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),xi=null;const pM=new Q("AllowMultipleToken"),vy=new Q("PlatformDestroyListeners"),Iy=new Q("appBootstrapListener");class mM{constructor(e,t){this.name=e,this.token=t}}function yM(n,e,t=[]){const r=`Platform: ${e}`,i=new Q(r);return(o=[])=>{let s=Ey();if(!s||s.injector.get(pM,!1)){const a=[...t,...o,{provide:i,useValue:!0}];n?n(a):function j6(n){if(xi&&!xi.get(pM,!1))throw new U(400,!1);(function gM(){!function uj(n){TA=n}(()=>{throw new U(600,!1)})})(),xi=n;const e=n.get(IM);(function _M(n){n.get(yS,null)?.forEach(t=>t())})(n)}(function vM(n=[],e){return an.create({name:e,providers:[{provide:Qm,useValue:"platform"},{provide:vy,useValue:new Set([()=>xi=null])},...n]})}(a,r))}return function G6(n){const e=Ey();if(!e)throw new U(401,!1);return e}()}}function Ey(){return xi?.get(IM)??null}let IM=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function H6(n="zone.js",e){return"noop"===n?new _H:"zone.js"===n?new Pe(e):n}(r?.ngZone,function EM(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function Yq(n,e,t){return new Y_(n,e,t)}(t.moduleType,this.injector,function AM(n){return[{provide:Pe,useFactory:n},{provide:Qu,multi:!0,useFactory:()=>{const e=Y(q6,{optional:!0});return()=>e.initialize()}},{provide:CM,useFactory:z6},{provide:VS,useFactory:FS}]}(()=>i)),s=o.injector.get(Kr,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{s.handleError(u)}});o.onDestroy(()=>{Lh(this._modules,o),a.unsubscribe()})}),function wM(n,e,t){try{const r=t();return ac(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(fy);return a.runInitializers(),a.donePromise.then(()=>(function GR(n){$n(n,"Expected localeId to be defined"),"string"==typeof n&&($R=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Zr,sa)||sa),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,r=[]){const i=TM({},r);return function U6(n,e,t){const r=new J_(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(ca);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new U(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new U(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(vy,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||n)(ee(an))};static#t=this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function TM(n,e){return Array.isArray(e)?e.reduce(TM,n):{...n,...e}}let ca=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Y(CM),this.zoneIsStable=Y(VS),this.componentTypes=[],this.components=[],this.isStable=Y(uM).hasPendingTasks.pipe(mr(t=>t?se(!1):this.zoneIsStable),function vB(n,e=Ii){return n=n??IB,vt((t,r)=>{let i,o=!0;t.subscribe(gt(r,s=>{const a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}(),jC()),this._injector=Y(Kn)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof TS;if(!this._injector.get(fy).done)throw!i&&function gs(n){const e=Ie(n)||Mt(n)||tn(n);return null!==e&&e.standalone}(t),new U(405,!1);let s;s=i?t:this._injector.get(fh).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function B6(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Co),c=s.create(an.NULL,[],r||s.selector,a),d=c.location.nativeElement,h=c.injector.get(fM,null);return h?.registerApplication(d),c.onDestroy(()=>{this.detachView(c.hostView),Lh(this.components,c),h?.unregisterApplication(d)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new U(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Lh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(Iy,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Lh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new U(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Lh(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const CM=new Q("",{providedIn:"root",factory:()=>Y(Kr).handleError.bind(void 0)});function z6(){const n=Y(Pe),e=Y(Kr);return t=>n.runOutsideAngular(()=>e.handleError(t))}let q6=(()=>{class n{constructor(){this.zone=Y(Pe),this.applicationRef=Y(ca)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let Uh=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=K6}return n})();function K6(n){return function Q6(n,e,t){if(po(n)&&!t){const r=Mn(n.index,e);return new tc(r,r)}return 47&n.type?new tc(e[ct],e):null}(Ot(),V(),16==(16&n))}class PM{constructor(){}supports(e){return Eh(e)}create(e){return new tW(e)}}const eW=(n,e)=>e;class tW{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||eW}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<xM(r,i,o)?t:r,a=xM(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,d=u-i;if(c!=d){for(let p=0;p<c;p++){const m=p<o.length?o[p]:o[p]=0,y=m+p;d<=y&&y<c&&(o[p]=m+1)}o[s.previousIndex]=d-c}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Eh(e))throw new U(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function bz(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new nW(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new MM),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new MM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class nW{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class rW{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class MM{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new rW,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function xM(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class NM{constructor(){}supports(e){return e instanceof Map||S_(e)}create(){return new iW}}class iW{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||S_(e)))throw new U(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new oW(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class oW{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function OM(){return new $h([new PM])}let $h=(()=>{class n{static#e=this.\u0275prov=te({token:n,providedIn:"root",factory:OM});constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||OM()),deps:[[n,new $d,new Wn]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new U(901,!1)}}return n})();function kM(){return new yc([new NM])}let yc=(()=>{class n{static#e=this.\u0275prov=te({token:n,providedIn:"root",factory:kM});constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||kM()),deps:[[n,new $d,new Wn]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new U(901,!1)}}return n})();const uW=yM(null,"core",[]);let cW=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(r){return new(r||n)(ee(ca))};static#t=this.\u0275mod=Gn({type:n});static#n=this.\u0275inj=Rn({})}return n})();let by=null;function Ni(){return by}class TW{}const Yn=new Q("DocumentToken");let Sy=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=te({token:n,factory:function(){return Y(CW)},providedIn:"platform"})}return n})();const DW=new Q("Location Initialized");let CW=(()=>{class n extends Sy{constructor(){super(),this._doc=Y(Yn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ni().getBaseHref(this._doc)}onPopState(t){const r=Ni().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Ni().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=te({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function Ry(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function HM(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Xr(n){return n&&"?"!==n[0]?"?"+n:n}let bo=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=te({token:n,factory:function(){return Y(qM)},providedIn:"root"})}return n})();const zM=new Q("appBaseHref");let qM=(()=>{class n extends bo{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Y(Yn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ry(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Xr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+Xr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+Xr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(ee(Sy),ee(zM,8))};static#t=this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),AW=(()=>{class n extends bo{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ry(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+Xr(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+Xr(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(ee(Sy),ee(zM,8))};static#t=this.\u0275prov=te({token:n,factory:n.\u0275fac})}return n})(),Py=(()=>{class n{constructor(t){this._subject=new it,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function RW(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(HM(WM(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Xr(r))}normalize(t){return n.stripTrailingSlash(function SW(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,WM(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=Xr;static#t=this.joinWithSlash=Ry;static#n=this.stripTrailingSlash=HM;static#r=this.\u0275fac=function(r){return new(r||n)(ee(bo))};static#i=this.\u0275prov=te({token:n,factory:function(){return function bW(){return new Py(ee(bo))}()},providedIn:"root"})}return n})();function WM(n){return n.replace(/\/index.html$/,"")}const By=/\s+/,nx=[];let rx=(()=>{class n{constructor(t,r,i,o){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=nx,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(By):nx}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(By):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(By).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||n)(B($h),B(yc),B(Nn),B(Wr))};static#t=this.\u0275dir=oe({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class g9{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ox=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new g9(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),sx(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{sx(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(B(lr),B(Jr),B($h))};static#t=this.\u0275dir=oe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function sx(n,e){n.context.$implicit=e.item}let $9=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Gn({type:n});static#n=this.\u0275inj=Rn({})}return n})();function dx(n){return"server"===n}let q9=(()=>{class n{static#e=this.\u0275prov=te({token:n,providedIn:"root",factory:()=>new W9(ee(Yn),window)})}return n})();class W9{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function K9(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class y5 extends TW{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Wy extends y5{static makeCurrent(){!function wW(n){by||(by=n)}(new Wy)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function v5(){return wc=wc||document.querySelector("base"),wc?wc.getAttribute("href"):null}();return null==t?null:function I5(n){nf=nf||document.createElement("a"),nf.setAttribute("href",n);const e=nf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){wc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function f9(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let nf,wc=null,w5=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=te({token:n,factory:n.\u0275fac})}return n})();const Ky=new Q("EventManagerPlugins");let mx=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new U(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(ee(Ky),ee(Pe))};static#t=this.\u0275prov=te({token:n,factory:n.\u0275fac})}return n})();class _x{constructor(e){this._doc=e}}const Qy="ng-app-id";let yx=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=dx(o),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Qy}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(Qy),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Qy,this.appId),s}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(ee(Yn),ee(ah),ee(vS,8),ee(Io))};static#t=this.\u0275prov=te({token:n,factory:n.\u0275fac})}return n})();const Yy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Jy=/%COMP%/g,A5=new Q("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ix(n,e){return e.map(t=>t.replace(Jy,n))}let Ex=(()=>{class n{constructor(t,r,i,o,s,a,u,c=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=dx(a),this.defaultRenderer=new Zy(t,s,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ir.ShadowDom&&(r={...r,encapsulation:ir.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof Tx?i.applyToHost(t):i instanceof Xy&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case ir.Emulated:o=new Tx(u,c,r,this.appId,d,s,a,h);break;case ir.ShadowDom:return new P5(u,c,t,r,s,a,this.nonce,h);default:o=new Xy(u,c,r,d,s,a,h)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(ee(mx),ee(yx),ee(ah),ee(A5),ee(Yn),ee(Io),ee(Pe),ee(vS))};static#t=this.\u0275prov=te({token:n,factory:n.\u0275fac})}return n})();class Zy{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Yy[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(wx(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(wx(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new U(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=Yy[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Yy[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Si.DashCase|Si.Important)?e.style.setProperty(t,r,i&Si.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Si.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=Ni().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function wx(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class P5 extends Zy{constructor(e,t,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Ix(i.id,i.styles);for(const d of c){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Xy extends Zy{constructor(e,t,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?Ix(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Tx extends Xy{constructor(e,t,r,i,o,s,a,u){const c=i+"-"+r.id;super(e,t,r,o,s,a,u,c),this.contentAttr=function b5(n){return"_ngcontent-%COMP%".replace(Jy,n)}(c),this.hostAttr=function S5(n){return"_nghost-%COMP%".replace(Jy,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let M5=(()=>{class n extends _x{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(ee(Yn))};static#t=this.\u0275prov=te({token:n,factory:n.\u0275fac})}return n})();const Dx=["alt","control","meta","shift"],x5={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},N5={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let O5=(()=>{class n extends _x{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ni().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Dx.forEach(c=>{const d=r.indexOf(c);d>-1&&(r.splice(d,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=x5[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Dx.forEach(s=>{s!==i&&(0,N5[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(ee(Yn))};static#t=this.\u0275prov=te({token:n,factory:n.\u0275fac})}return n})();const Ax=[{provide:Io,useValue:"browser"},{provide:yS,useValue:function k5(){Wy.makeCurrent()},multi:!0},{provide:Yn,useFactory:function F5(){return function dG(n){Bm=n}(document),document},deps:[]}],L5=yM(uW,"browser",Ax),U5=new Q(""),bx=[{provide:Fh,useClass:class E5{addToWindow(e){Be.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new U(5103,!1);return o},Be.getAllAngularTestabilities=()=>e.getAllTestabilities(),Be.getAllAngularRootElements=()=>e.getAllRootElements(),Be.frameworkStabilizers||(Be.frameworkStabilizers=[]),Be.frameworkStabilizers.push(r=>{const i=Be.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Ni().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:fM,useClass:my,deps:[Pe,_y,Fh]},{provide:my,useClass:my,deps:[Pe,_y,Fh]}],Sx=[{provide:Qm,useValue:"root"},{provide:Kr,useFactory:function V5(){return new Kr},deps:[]},{provide:Ky,useClass:M5,multi:!0,deps:[Yn,Pe,Io]},{provide:Ky,useClass:O5,multi:!0,deps:[Yn]},Ex,yx,mx,{provide:CS,useExisting:Ex},{provide:class Q9{},useClass:w5,deps:[]},[]];let B5=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:ah,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(ee(U5,12))};static#t=this.\u0275mod=Gn({type:n});static#n=this.\u0275inj=Rn({providers:[...Sx,...bx],imports:[$9,cW]})}return n})(),Rx=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(ee(Yn))};static#t=this.\u0275prov=te({token:n,factory:function(r){let i=null;return i=r?new r:function $5(){return new Rx(ee(Yn))}(),i},providedIn:"root"})}return n})();typeof window<"u"&&window;const{isArray:W5}=Array,{getPrototypeOf:K5,prototype:Q5,keys:Y5}=Object;function Nx(n){if(1===n.length){const e=n[0];if(W5(e))return{args:e,keys:null};if(function J5(n){return n&&"object"==typeof n&&K5(n)===Q5}(e)){const t=Y5(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:Z5}=Array;function Ox(n){return Se(e=>function X5(n,e){return Z5(e)?n(...e):n(e)}(n,e))}function kx(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let Vx=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||n)(B(Wr),B(Nn))};static#t=this.\u0275dir=oe({type:n})}return n})(),So=(()=>{class n extends Vx{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=kt(n)))(i||n)}}();static#t=this.\u0275dir=oe({type:n,features:[Me]})}return n})();const Rr=new Q("NgValueAccessor"),n8={provide:Rr,useExisting:Ue(()=>rf),multi:!0},i8=new Q("CompositionEventMode");let rf=(()=>{class n extends Vx{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function r8(){const n=Ni()?Ni().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||n)(B(Wr),B(Nn),B(i8,8))};static#t=this.\u0275dir=oe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Vt("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Ye([n8]),Me]})}return n})();const qt=new Q("NgValidators"),Vi=new Q("NgAsyncValidators");function Wx(n){return null!=n}function Kx(n){return ac(n)?Ct(n):n}function Qx(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Yx(n,e){return e.map(t=>t(n))}function Jx(n){return n.map(e=>function s8(n){return!n.validate}(e)?e:t=>e.validate(t))}function tv(n){return null!=n?function Zx(n){if(!n)return null;const e=n.filter(Wx);return 0==e.length?null:function(t){return Qx(Yx(t,e))}}(Jx(n)):null}function nv(n){return null!=n?function Xx(n){if(!n)return null;const e=n.filter(Wx);return 0==e.length?null:function(t){return function e8(...n){const e=UC(n),{args:t,keys:r}=Nx(n),i=new Xe(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let u=s,c=s;for(let d=0;d<s;d++){let h=!1;bn(t[d]).subscribe(gt(o,p=>{h||(h=!0,c--),a[d]=p},()=>u--,void 0,()=>{(!u||!h)&&(c||o.next(r?kx(r,a):a),o.complete())}))}});return e?i.pipe(Ox(e)):i}(Yx(t,e).map(Kx)).pipe(Se(Qx))}}(Jx(n)):null}function eN(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function rv(n){return n?Array.isArray(n)?n:[n]:[]}function af(n,e){return Array.isArray(n)?n.includes(e):n===e}function rN(n,e){const t=rv(e);return rv(n).forEach(i=>{af(t,i)||t.push(i)}),t}function iN(n,e){return rv(e).filter(t=>!af(n,t))}class oN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=tv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=nv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class hn extends oN{get formDirective(){return null}get path(){return null}}class Fi extends oN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class sN{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let aN=(()=>{class n extends sN{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(B(Fi,2))};static#t=this.\u0275dir=oe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&bh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Me]})}return n})();const Tc="VALID",cf="INVALID",ha="PENDING",Dc="DISABLED";function lf(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class dN{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Tc}get invalid(){return this.status===cf}get pending(){return this.status==ha}get disabled(){return this.status===Dc}get enabled(){return this.status!==Dc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(rN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(rN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(iN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(iN(e,this._rawAsyncValidators))}hasValidator(e){return af(this._rawValidators,e)}hasAsyncValidator(e){return af(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ha,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Dc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Tc,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Tc||this.status===ha)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Dc:Tc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ha,this._hasOwnPendingAsyncValidator=!0;const t=Kx(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new it,this.statusChanges=new it}_calculateStatus(){return this._allControlsDisabled()?Dc:this.errors?cf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ha)?ha:this._anyControlsHaveStatus(cf)?cf:Tc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){lf(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function d8(n){return Array.isArray(n)?tv(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function h8(n){return Array.isArray(n)?nv(n):n||null}(this._rawAsyncValidators)}}const fa=new Q("CallSetDisabledState",{providedIn:"root",factory:()=>df}),df="always";function Cc(n,e,t=df){(function cv(n,e){const t=function tN(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(eN(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function nN(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(eN(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();pf(e._rawValidators,i),pf(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function g8(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&hN(n,e)})}(n,e),function _8(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function m8(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&hN(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function p8(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function pf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function hN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function gN(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function mN(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const _N=class extends dN{constructor(e=null,t,r){super(function sv(n){return(lf(n)?n.validators:n)||null}(t),function av(n,e){return(lf(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),lf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=mN(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){gN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){gN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){mN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},C8={provide:Fi,useExisting:Ue(()=>pv)},IN=(()=>Promise.resolve())();let pv=(()=>{class n extends Fi{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new _N,this._registered=!1,this.name="",this.update=new it,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function hv(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===rf?t=o:function I8(n){return Object.getPrototypeOf(n.constructor)===So}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function dv(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Cc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){IN.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&function la(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}(r);IN.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function hf(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(r){return new(r||n)(B(hn,9),B(qt,10),B(Vi,10),B(Rr,10),B(Uh,8),B(fa,8))};static#t=this.\u0275dir=oe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ye([C8]),Me,zn]})}return n})(),wN=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Gn({type:n});static#n=this.\u0275inj=Rn({})}return n})();const V8={provide:Rr,useExisting:Ue(()=>mf),multi:!0};function RN(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let mf=(()=>{class n extends So{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=RN(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function F8(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=kt(n)))(i||n)}}();static#t=this.\u0275dir=oe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&Vt("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ye([V8]),Me]})}return n})(),PN=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(RN(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||n)(B(Nn),B(Wr),B(mf,9))};static#t=this.\u0275dir=oe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})();const L8={provide:Rr,useExisting:Ue(()=>yv),multi:!0};function MN(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let yv=(()=>{class n extends So{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],o=r.selectedOptions;if(void 0!==o){const s=o;for(let a=0;a<s.length;a++){const c=this._getOptionValue(s[a].value);i.push(c)}}else{const s=r.options;for(let a=0;a<s.length;a++){const u=s[a];if(u.selected){const c=this._getOptionValue(u.value);i.push(c)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function U8(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=kt(n)))(i||n)}}();static#t=this.\u0275dir=oe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&Vt("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ye([L8]),Me]})}return n})(),xN=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(MN(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(MN(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static#e=this.\u0275fac=function(r){return new(r||n)(B(Nn),B(Wr),B(yv,9))};static#t=this.\u0275dir=oe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}return n})(),K8=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Gn({type:n});static#n=this.\u0275inj=Rn({imports:[wN]})}return n})(),Y8=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:fa,useValue:t.callSetDisabledState??df}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Gn({type:n});static#n=this.\u0275inj=Rn({imports:[K8]})}return n})();function Iv(...n){const e=Eu(n),t=UC(n),{args:r,keys:i}=Nx(n);if(0===r.length)return Ct([],e);const o=new Xe(function Z8(n,e,t=Ii){return r=>{$N(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)$N(e,()=>{const c=Ct(n[u],e);let d=!1;c.subscribe(gt(r,h=>{o[u]=h,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>kx(i,s):Ii));return t?o.pipe(Ox(t)):o}function $N(n,e,t){n?Br(t,n,e):e()}const _f=vu(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ev(...n){return function X8(){return fs(1)}()(Ct(n,Eu(n)))}function GN(n){return new Xe(e=>{bn(n()).subscribe(e)})}function bc(n,e){const t=Oe(n)?n:()=>n,r=i=>i.error(t());return new Xe(e?i=>e.schedule(r,0,i):r)}function wv(){return vt((n,e)=>{let t=null;n._refCount++;const r=gt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class HN extends Xe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,DC(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new gn;const t=this.getSubject();e.add(this.source.subscribe(gt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=gn.EMPTY)}return e}refCount(){return wv()(this)}}function pa(n){return n<=0?()=>gr:vt((e,t)=>{let r=0;e.subscribe(gt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Li(n,e){return vt((t,r)=>{let i=0;t.subscribe(gt(r,o=>n.call(e,o,i++)&&r.next(o)))})}function yf(n){return vt((e,t)=>{let r=!1;e.subscribe(gt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function zN(n=t7){return vt((e,t)=>{let r=!1;e.subscribe(gt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function t7(){return new _f}function Po(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Li((i,o)=>n(i,o,r)):Ii,pa(1),t?yf(e):zN(()=>new _f))}function Sc(n,e){return Oe(e)?Pt(n,e,1):Pt(n,1)}function Ft(n,e,t){const r=Oe(n)||e||t?{next:n,error:e,complete:t}:n;return r?vt((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(gt(o,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),o.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Ii}function Mo(n){return vt((e,t)=>{let o,r=null,i=!1;r=e.subscribe(gt(t,void 0,void 0,s=>{o=bn(n(s,Mo(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Tv(n){return n<=0?()=>gr:vt((e,t)=>{let r=[];e.subscribe(gt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Dv(n){return vt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const he="primary",Rc=Symbol("RouteTitle");class a7{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ga(n){return new a7(n)}function u7(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Pr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!qN(n[i],e[i]))return!1;return!0}function qN(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function WN(n){return n.length>0?n[n.length-1]:null}function Ui(n){return function J8(n){return!!n&&(n instanceof Xe||Oe(n.lift)&&Oe(n.subscribe))}(n)?n:ac(n)?Ct(Promise.resolve(n)):se(n)}const l7={exact:function YN(n,e,t){if(!xo(n.segments,e.segments)||!vf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!YN(n.children[r],e.children[r],t))return!1;return!0},subset:JN},KN={exact:function d7(n,e){return Pr(n,e)},subset:function h7(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>qN(n[t],e[t]))},ignored:()=>!0};function QN(n,e,t){return l7[t.paths](n.root,e.root,t.matrixParams)&&KN[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function JN(n,e,t){return ZN(n,e,e.segments,t)}function ZN(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!xo(i,t)||e.hasChildren()||!vf(i,t,r))}if(n.segments.length===t.length){if(!xo(n.segments,t)||!vf(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!JN(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(xo(n.segments,i)&&vf(n.segments,i,r)&&n.children[he])&&ZN(n.children[he],e,o,r)}}function vf(n,e,t){return e.every((r,i)=>KN[t](n[i].parameters,r.parameters))}class ma{constructor(e=new xe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ga(this.queryParams)),this._queryParamMap}toString(){return g7.serialize(this)}}class xe{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return If(this)}}class Pc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ga(this.parameters)),this._parameterMap}toString(){return tO(this)}}function xo(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Mc=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=te({token:n,factory:function(){return new Cv},providedIn:"root"})}return n})();class Cv{parse(e){const t=new A7(e);return new ma(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${xc(e.root,!0)}`,r=function y7(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Ef(t)}=${Ef(i)}`).join("&"):`${Ef(t)}=${Ef(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function m7(n){return encodeURI(n)}(e.fragment)}`:""}`}}const g7=new Cv;function If(n){return n.segments.map(e=>tO(e)).join("/")}function xc(n,e){if(!n.hasChildren())return If(n);if(e){const t=n.children[he]?xc(n.children[he],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==he&&r.push(`${i}:${xc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function p7(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===he&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==he&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===he?[xc(n.children[he],!1)]:[`${i}:${xc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[he]?`${If(n)}/${t[0]}`:`${If(n)}/(${t.join("//")})`}}function XN(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ef(n){return XN(n).replace(/%3B/gi,";")}function Av(n){return XN(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wf(n){return decodeURIComponent(n)}function eO(n){return wf(n.replace(/\+/g,"%20"))}function tO(n){return`${Av(n.path)}${function _7(n){return Object.keys(n).map(e=>`;${Av(e)}=${Av(n[e])}`).join("")}(n.parameters)}`}const v7=/^[^\/()?;#]+/;function bv(n){const e=n.match(v7);return e?e[0]:""}const I7=/^[^\/()?;=#]+/,w7=/^[^=?&#]+/,D7=/^[^&#]+/;class A7{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xe([],{}):new xe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[he]=new xe(e,t)),r}parseSegment(){const e=bv(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(e),new Pc(wf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function E7(n){const e=n.match(I7);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=bv(this.remaining);i&&(r=i,this.capture(r))}e[wf(t)]=wf(r)}parseQueryParam(e){const t=function T7(n){const e=n.match(w7);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function C7(n){const e=n.match(D7);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=eO(t),o=eO(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=bv(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new U(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=he);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[he]:new xe([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new U(4011,!1)}}function nO(n){return n.segments.length>0?new xe([],{[he]:n}):n}function rO(n){const e={};for(const r of Object.keys(n.children)){const o=rO(n.children[r]);if(r===he&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function b7(n){if(1===n.numberOfChildren&&n.children[he]){const e=n.children[he];return new xe(n.segments.concat(e.segments),e.children)}return n}(new xe(n.segments,e))}function No(n){return n instanceof ma}function iO(n){let e;const i=nO(function t(o){const s={};for(const u of o.children){const c=t(u);s[u.outlet]=c}const a=new xe(o.url,s);return o===n&&(e=a),a}(n.root));return e??i}function oO(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return Sv(i,i,i,t,r);const o=function R7(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new aO(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new aO(t,e,r)}(e);if(o.toRoot())return Sv(i,i,new xe([],{}),t,r);const s=function P7(n,e,t){if(n.isAbsolute)return new Df(e,!0,0);if(!t)return new Df(e,!1,NaN);if(null===t.parent)return new Df(t,!0,0);const r=Tf(n.commands[0])?0:1;return function M7(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new U(4005,!1);i=r.segments.length}return new Df(r,!1,i-o)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(o,i,n),a=s.processChildren?Oc(s.segmentGroup,s.index,o.commands):uO(s.segmentGroup,s.index,o.commands);return Sv(i,s.segmentGroup,a,t,r)}function Tf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Nc(n){return"object"==typeof n&&null!=n&&n.outlets}function Sv(n,e,t,r,i){let s,o={};r&&Object.entries(r).forEach(([u,c])=>{o[u]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`}),s=n===e?t:sO(n,e,t);const a=nO(rO(s));return new ma(a,o,i)}function sO(n,e,t){const r={};return Object.entries(n.children).forEach(([i,o])=>{r[i]=o===e?t:sO(o,e,t)}),new xe(n.segments,r)}class aO{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Tf(r[0]))throw new U(4003,!1);const i=r.find(Nc);if(i&&i!==WN(r))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Df{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function uO(n,e,t){if(n||(n=new xe([],{})),0===n.segments.length&&n.hasChildren())return Oc(n,e,t);const r=function N7(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(Nc(a))break;const u=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!lO(u,c,s))return o;r+=2}else{if(!lO(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new xe(n.segments.slice(0,r.pathIndex),{});return o.children[he]=new xe(n.segments.slice(r.pathIndex),n.children),Oc(o,0,i)}return r.match&&0===i.length?new xe(n.segments,{}):r.match&&!n.hasChildren()?Rv(n,e,t):r.match?Oc(n,0,i):Rv(n,e,t)}function Oc(n,e,t){if(0===t.length)return new xe(n.segments,{});{const r=function x7(n){return Nc(n[0])?n[0].outlets:{[he]:n}}(t),i={};if(Object.keys(r).some(o=>o!==he)&&n.children[he]&&1===n.numberOfChildren&&0===n.children[he].segments.length){const o=Oc(n.children[he],e,t);return new xe(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=uO(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new xe(n.segments,i)}}function Rv(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(Nc(o)){const u=O7(o.outlets);return new xe(r,u)}if(0===i&&Tf(t[0])){r.push(new Pc(n.segments[e].path,cO(t[0]))),i++;continue}const s=Nc(o)?o.outlets[he]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Tf(a)?(r.push(new Pc(s,cO(a))),i+=2):(r.push(new Pc(s,{})),i++)}return new xe(r,{})}function O7(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=Rv(new xe([],{}),0,r))}),e}function cO(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function lO(n,e,t){return n==t.path&&Pr(e,t.parameters)}const kc="imperative";class Mr{constructor(e,t){this.id=e,this.url=t}}class Cf extends Mr{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bi extends Mr{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Vc extends Mr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _a extends Mr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Af extends Mr{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class dO extends Mr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class k7 extends Mr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class V7 extends Mr{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class F7 extends Mr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class L7 extends Mr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class U7{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class B7{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class j7{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $7{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class G7{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class H7{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hO{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Pv{}class Mv{constructor(e){this.url=e}}class z7{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Fc,this.attachRef=null}}let Fc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new z7,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class fO{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=xv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=xv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Nv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Nv(e,this._root).map(t=>t.value)}}function xv(n,e){if(n===e.value)return e;for(const t of e.children){const r=xv(n,t);if(r)return r}return null}function Nv(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Nv(n,t);if(r.length)return r.unshift(e),r}return[]}class ni{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function ya(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class pO extends fO{constructor(e,t){super(e),this.snapshot=t,Ov(this,e)}toString(){return this.snapshot.toString()}}function gO(n,e){const t=function q7(n,e){const s=new bf([],{},{},"",{},he,e,null,{});return new _O("",new ni(s,[]))}(0,e),r=new jn([new Pc("",{})]),i=new jn({}),o=new jn({}),s=new jn({}),a=new jn(""),u=new va(r,i,s,a,o,he,e,t.root);return u.snapshot=t.root,new pO(new ni(u,[]),t)}class va{constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Se(c=>c[Rc]))??se(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Se(e=>ga(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Se(e=>ga(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function mO(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function W7(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class bf{get title(){return this.data?.[Rc]}constructor(e,t,r,i,o,s,a,u,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ga(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ga(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _O extends fO{constructor(e,t){super(t),this.url=e,Ov(this,t)}toString(){return yO(this._root)}}function Ov(n,e){e.value._routerState=n,e.children.forEach(t=>Ov(n,t))}function yO(n){const e=n.children.length>0?` { ${n.children.map(yO).join(", ")} } `:"";return`${n.value}${e}`}function kv(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Pr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Pr(e.params,t.params)||n.paramsSubject.next(t.params),function c7(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Pr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Pr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Vv(n,e){const t=Pr(n.params,e.params)&&function f7(n,e){return xo(n,e)&&n.every((t,r)=>Pr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Vv(n.parent,e.parent))}let vO=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=he,this.activateEvents=new it,this.deactivateEvents=new it,this.attachEvents=new it,this.detachEvents=new it,this.parentContexts=Y(Fc),this.location=Y(lr),this.changeDetector=Y(Uh),this.environmentInjector=Y(Kn),this.inputBinder=Y(Sf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new K7(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=oe({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[zn]})}return n})();class K7{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===va?this.route:e===Fc?this.childContexts:this.parent.get(e,t)}}const Sf=new Q("");let IO=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=Iv([r.queryParams,r.params,r.data]).pipe(mr(([o,s,a],u)=>(a={...o,...s,...a},0===u?se(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const s=function EW(n){const e=Ie(n);if(!e)return null;const t=new nc(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=te({token:n,factory:n.\u0275fac})}return n})();function Lc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Y7(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Lc(n,r,i);return Lc(n,r)})}(n,e,t);return new ni(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Lc(n,a)),s}}const r=function J7(n){return new va(new jn(n.url),new jn(n.params),new jn(n.queryParams),new jn(n.fragment),new jn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>Lc(n,o));return new ni(r,i)}}const Fv="ngNavigationCancelingError";function EO(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=No(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=wO(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function wO(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Fv]=!0,r.cancellationCode=e,t&&(r.url=t),r}function TO(n){return n&&n[Fv]}let DO=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Yg({type:n,selectors:[["ng-component"]],standalone:!0,features:[mP],decls:1,vars:0,template:function(r,i){1&r&&k_(0,"router-outlet")},dependencies:[vO],encapsulation:2})}return n})();function Lv(n){const e=n.children&&n.children.map(Lv),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==he&&(t.component=DO),t}function fr(n){return n.outlet||he}function Uc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class oK{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),kv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=ya(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ya(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ya(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=ya(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new H7(o.value.snapshot))}),e.children.length&&this.forwardEvent(new $7(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(kv(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),kv(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=Uc(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class CO{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Rf{constructor(e,t){this.component=e,this.route=t}}function sK(n,e,t){const r=n._root;return Bc(r,e?e._root:null,t,[r.value])}function Ia(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function bB(n){return null!==yd(n)}(n)?e.get(n):n:r}function Bc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=ya(e);return n.children.forEach(s=>{(function uK(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function cK(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!xo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!xo(n.url,e.url)||!Pr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vv(n,e)||!Pr(n.queryParams,e.queryParams);default:return!Vv(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new CO(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Bc(n,e,o.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Rf(a.outlet.component,s))}else s&&jc(e,a,i),i.canActivateChecks.push(new CO(r)),Bc(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>jc(a,t.getContext(s),i)),i}function jc(n,e,t){const r=ya(n),i=n.value;Object.entries(r).forEach(([o,s])=>{jc(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Rf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function $c(n){return"function"==typeof n}function AO(n){return n instanceof _f||"EmptyError"===n?.name}const Pf=Symbol("INITIAL_VALUE");function Ea(){return mr(n=>Iv(n.map(e=>e.pipe(pa(1),function e7(...n){const e=Eu(n);return vt((t,r)=>{(e?Ev(n,t,e):Ev(n,t)).subscribe(r)})}(Pf)))).pipe(Se(e=>{for(const t of e)if(!0!==t){if(t===Pf)return Pf;if(!1===t||t instanceof ma)return t}return!0}),Li(e=>e!==Pf),pa(1)))}function bO(n){return function PU(...n){return EC(n)}(Ft(e=>{if(No(e))throw EO(0,e)}),Se(e=>!0===e))}class Mf{constructor(e){this.segmentGroup=e||null}}class SO{constructor(e){this.urlTree=e}}function wa(n){return bc(new Mf(n))}function RO(n){return bc(new SO(n))}class RK{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new U(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return se(r);if(i.numberOfChildren>1||!i.children[he])return bc(new U(4e3,!1));i=i.children[he]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new ma(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new xe(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new U(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const Uv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function PK(n,e,t,r,i){const o=Bv(n,e,t);return o.matched?(r=function X7(n,e){return n.providers&&!n._injector&&(n._injector=Z_(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function AK(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?se(i.map(s=>{const a=Ia(s,n);return Ui(function gK(n){return n&&$c(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Ea(),bO()):se(!0)}(r,e,t).pipe(Se(s=>!0===s?o:{...Uv}))):se(o)}function Bv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Uv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||u7)(t,n,e);if(!i)return{...Uv};const o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function PO(n,e,t,r){return t.length>0&&function NK(n,e,t){return t.some(r=>xf(n,e,r)&&fr(r)!==he)}(n,t,r)?{segmentGroup:new xe(e,xK(r,new xe(t,n.children))),slicedSegments:[]}:0===t.length&&function OK(n,e,t){return t.some(r=>xf(n,e,r))}(n,t,r)?{segmentGroup:new xe(n.segments,MK(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new xe(n.segments,n.children),slicedSegments:t}}function MK(n,e,t,r,i){const o={};for(const s of r)if(xf(n,t,s)&&!i[fr(s)]){const a=new xe([],{});o[fr(s)]=a}return{...i,...o}}function xK(n,e){const t={};t[he]=e;for(const r of n)if(""===r.path&&fr(r)!==he){const i=new xe([],{});t[fr(r)]=i}return t}function xf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class LK{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new RK(this.urlSerializer,this.urlTree)}noMatchError(e){return new U(4002,!1)}recognize(){const e=PO(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,he).pipe(Mo(t=>{if(t instanceof SO)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Mf?this.noMatchError(t):t}),Se(t=>{const r=new bf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},he,this.rootComponentType,null,{}),i=new ni(r,t),o=new _O("",i),s=function S7(n,e,t=null,r=null){return oO(iO(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,he).pipe(Mo(r=>{throw r instanceof Mf?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=mO(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Ct(i).pipe(Sc(o=>{const s=r.children[o],a=function rK(n,e){const t=n.filter(r=>fr(r)===e);return t.push(...n.filter(r=>fr(r)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),function r7(n,e){return vt(function n7(n,e,t,r,i){return(o,s)=>{let a=t,u=e,c=0;o.subscribe(gt(s,d=>{const h=c++;u=a?n(u,d,h):(a=!0,d),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}(n,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),yf(null),function i7(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Li((i,o)=>n(i,o,r)):Ii,Tv(1),t?yf(e):zN(()=>new _f))}(),Pt(o=>{if(null===o)return wa(r);const s=MO(o);return function UK(n){n.sort((e,t)=>e.value.outlet===he?-1:t.value.outlet===he?1:e.value.outlet.localeCompare(t.value.outlet))}(s),se(s)}))}processSegment(e,t,r,i,o,s){return Ct(t).pipe(Sc(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,o,s).pipe(Mo(u=>{if(u instanceof Mf)return se(null);throw u}))),Po(a=>!!a),Mo(a=>{if(AO(a))return function VK(n,e,t){return 0===e.length&&!n.children[t]}(r,i,o)?se([]):wa(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,o,s,a){return function kK(n,e,t,r){return!!(fr(n)===r||r!==he&&xf(e,t,n))&&("**"===n.path||Bv(e,n,t).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s):wa(i):wa(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?RO(o):this.applyRedirects.lineralizeSegments(r,o).pipe(Pt(s=>{const a=new xe(s,{});return this.processSegment(e,t,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:d}=Bv(t,i,o);if(!a)return wa(t);const h=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d);return i.redirectTo.startsWith("/")?RO(h):this.applyRedirects.lineralizeSegments(i,h).pipe(Pt(p=>this.processSegment(e,r,t,p.concat(c),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a;if("**"===r.path){const u=i.length>0?WN(i).parameters:{};a=se({snapshot:new bf(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,xO(r),fr(r),r.component??r._loadedComponent??null,r,NO(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=PK(t,r,i,e).pipe(Se(({matched:u,consumedSegments:c,remainingSegments:d,parameters:h})=>u?{snapshot:new bf(c,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,xO(r),fr(r),r.component??r._loadedComponent??null,r,NO(r)),consumedSegments:c,remainingSegments:d}:null));return a.pipe(mr(u=>null===u?wa(t):this.getChildConfig(e=r._injector??e,r,i).pipe(mr(({routes:c})=>{const d=r._loadedInjector??e,{snapshot:h,consumedSegments:p,remainingSegments:m}=u,{segmentGroup:y,slicedSegments:I}=PO(t,p,m,c);if(0===I.length&&y.hasChildren())return this.processChildren(d,c,y).pipe(Se(P=>null===P?null:[new ni(h,P)]));if(0===c.length&&0===I.length)return se([new ni(h,[])]);const E=fr(r)===o;return this.processSegment(d,c,y,I,E?he:o,!0).pipe(Se(P=>[new ni(h,P)]))}))))}getChildConfig(e,t,r){return t.children?se({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?se({routes:t._loadedRoutes,injector:t._loadedInjector}):function CK(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?se(!0):se(i.map(s=>{const a=Ia(s,n);return Ui(function dK(n){return n&&$c(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Ea(),bO())}(e,t,r).pipe(Pt(i=>i?this.configLoader.loadChildren(e,t).pipe(Ft(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function SK(n){return bc(wO(!1,3))}())):se({routes:[],injector:e})}}function BK(n){const e=n.value.routeConfig;return e&&""===e.path}function MO(n){const e=[],t=new Set;for(const r of n){if(!BK(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=MO(r.children);e.push(new ni(r.value,i))}return e.filter(r=>!t.has(r))}function xO(n){return n.data||{}}function NO(n){return n.resolve||{}}function OO(n){return"string"==typeof n.title||null===n.title}function jv(n){return mr(e=>{const t=n(e);return t?Ct(t).pipe(Se(()=>e)):se(e)})}const Ta=new Q("ROUTES");let $v=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Y(cM)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return se(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Ui(t.loadComponent()).pipe(Se(kO),Ft(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Dv(()=>{this.componentLoaders.delete(t)})),i=new HN(r,()=>new rr).pipe(wv());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return se({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function WK(n,e,t,r){return Ui(n.loadChildren()).pipe(Se(kO),Pt(i=>i instanceof pP||Array.isArray(i)?se(i):Ct(e.compileModuleAsync(i))),Se(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(t).injector,s=o.get(Ta,[],{optional:!0,self:!0}).flat()),{routes:s.map(Lv),injector:o}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(Dv(()=>{this.childrenLoaders.delete(r)})),s=new HN(o,()=>new rr).pipe(wv());return this.childrenLoaders.set(r,s),s}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function kO(n){return function KK(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Nf=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new rr,this.transitionAbortSubject=new rr,this.configLoader=Y($v),this.environmentInjector=Y(Kn),this.urlSerializer=Y(Mc),this.rootContexts=Y(Fc),this.inputBindingEnabled=null!==Y(Sf,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>se(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new B7(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new U7(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new jn({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:kc,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Li(o=>0!==o.id),Se(o=>({...o,extractedUrl:t.urlHandlingStrategy.extract(o.rawUrl)})),mr(o=>{this.currentTransition=o;let s=!1,a=!1;return se(o).pipe(Ft(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),mr(u=>{const c=u.currentBrowserUrl.toString(),d=!t.navigated||u.extractedUrl.toString()!==c||c!==u.currentUrlTree.toString();if(!d&&"reload"!==(u.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const p="";return this.events.next(new _a(u.id,this.urlSerializer.serialize(u.rawUrl),p,0)),u.resolve(null),gr}if(t.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return se(u).pipe(mr(p=>{const m=this.transitions?.getValue();return this.events.next(new Cf(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?gr:Promise.resolve(p)}),function jK(n,e,t,r,i,o){return Pt(s=>function FK(n,e,t,r,i,o,s="emptyOnly"){return new LK(n,e,t,r,i,s,o).recognize()}(n,e,t,r,s.extractedUrl,i,o).pipe(Se(({state:a,tree:u})=>({...s,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Ft(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:p.urlAfterRedirects};const m=new dO(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(d&&t.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:p,extractedUrl:m,source:y,restoredState:I,extras:E}=u,P=new Cf(p,this.urlSerializer.serialize(m),y,I);this.events.next(P);const C=gO(0,this.rootComponentType).snapshot;return this.currentTransition=o={...u,targetSnapshot:C,urlAfterRedirects:m,extras:{...E,skipLocationChange:!1,replaceUrl:!1}},se(o)}{const p="";return this.events.next(new _a(u.id,this.urlSerializer.serialize(u.extractedUrl),p,1)),u.resolve(null),gr}}),Ft(u=>{const c=new k7(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),Se(u=>(this.currentTransition=o={...u,guards:sK(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},o)),function _K(n,e){return Pt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?se({...t,guardsResult:!0}):function yK(n,e,t,r){return Ct(n).pipe(Pt(i=>function DK(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?se(o.map(a=>{const u=Uc(e)??i,c=Ia(a,u);return Ui(function pK(n){return n&&$c(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):u.runInContext(()=>c(n,e,t,r))).pipe(Po())})).pipe(Ea()):se(!0)}(i.component,i.route,t,e,r)),Po(i=>!0!==i,!0))}(s,r,i,n).pipe(Pt(a=>a&&function lK(n){return"boolean"==typeof n}(a)?function vK(n,e,t,r){return Ct(e).pipe(Sc(i=>Ev(function EK(n,e){return null!==n&&e&&e(new j7(n)),se(!0)}(i.route.parent,r),function IK(n,e){return null!==n&&e&&e(new G7(n)),se(!0)}(i.route,r),function TK(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function aK(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>GN(()=>se(s.guards.map(u=>{const c=Uc(s.node)??t,d=Ia(u,c);return Ui(function fK(n){return n&&$c(n.canActivateChild)}(d)?d.canActivateChild(r,n):c.runInContext(()=>d(r,n))).pipe(Po())})).pipe(Ea())));return se(o).pipe(Ea())}(n,i.path,t),function wK(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return se(!0);const i=r.map(o=>GN(()=>{const s=Uc(e)??t,a=Ia(o,s);return Ui(function hK(n){return n&&$c(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(Po())}));return se(i).pipe(Ea())}(n,i.route,t))),Po(i=>!0!==i,!0))}(r,o,n,e):se(a)),Se(a=>({...t,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),Ft(u=>{if(o.guardsResult=u.guardsResult,No(u.guardsResult))throw EO(0,u.guardsResult);const c=new V7(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(c)}),Li(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),jv(u=>{if(u.guards.canActivateChecks.length)return se(u).pipe(Ft(c=>{const d=new F7(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),mr(c=>{let d=!1;return se(c).pipe(function $K(n,e){return Pt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return se(t);let o=0;return Ct(i).pipe(Sc(s=>function GK(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!OO(i)&&(o[Rc]=i.title),function HK(n,e,t,r){const i=function zK(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return se({});const o={};return Ct(i).pipe(Pt(s=>function qK(n,e,t,r){const i=Uc(e)??r,o=Ia(n,i);return Ui(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[s],e,t,r).pipe(Po(),Ft(a=>{o[s]=a}))),Tv(1),function o7(n){return Se(()=>n)}(o),Mo(s=>AO(s)?gr:bc(s)))}(o,n,e,r).pipe(Se(s=>(n._resolvedData=s,n.data=mO(n,t).resolve,i&&OO(i)&&(n.data[Rc]=i.title),null)))}(s.route,r,n,e)),Ft(()=>o++),Tv(1),Pt(s=>o===i.length?se(t):gr))})}(t.paramsInheritanceStrategy,this.environmentInjector),Ft({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(c,"",2)}}))}),Ft(c=>{const d=new L7(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}))}),jv(u=>{const c=d=>{const h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ft(p=>{d.component=p}),Se(()=>{})));for(const p of d.children)h.push(...c(p));return h};return Iv(c(u.targetSnapshot.root)).pipe(yf(),pa(1))}),jv(()=>this.afterPreactivation()),Se(u=>{const c=function Q7(n,e,t){const r=Lc(n,e._root,t?t._root:void 0);return new pO(r,e)}(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o={...u,targetRouterState:c},o}),Ft(()=>{this.events.next(new Pv)}),((n,e,t,r)=>Se(i=>(new oK(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),pa(1),Ft({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Bi(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),t.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),function s7(n){return vt((e,t)=>{bn(n).subscribe(gt(t,()=>t.complete(),wg)),!t.closed&&e.subscribe(t)})}(this.transitionAbortSubject.pipe(Ft(u=>{throw u}))),Dv(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Mo(u=>{if(a=!0,TO(u))this.events.next(new Vc(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),function Z7(n){return TO(n)&&No(n.url)}(u)?this.events.next(new Mv(u.url)):o.resolve(!1);else{this.events.next(new Af(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(u))}catch(c){o.reject(c)}}return gr}))}))}cancelNavigationTransition(t,r,i){const o=new Vc(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function VO(n){return n!==kc}let FO=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===he);return r}getResolvedTitleForRoute(t){return t.data[Rc]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=te({token:n,factory:function(){return Y(QK)},providedIn:"root"})}return n})(),QK=(()=>{class n extends FO{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(ee(Rx))};static#t=this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),YK=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=te({token:n,factory:function(){return Y(ZK)},providedIn:"root"})}return n})();class JK{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let ZK=(()=>{class n extends JK{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=kt(n)))(i||n)}}();static#t=this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Of=new Q("",{providedIn:"root",factory:()=>({})});let XK=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=te({token:n,factory:function(){return Y(eQ)},providedIn:"root"})}return n})(),eQ=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Gc=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Gc||{});function LO(n,e){n.events.pipe(Li(t=>t instanceof Bi||t instanceof Vc||t instanceof Af||t instanceof _a),Se(t=>t instanceof Bi||t instanceof _a?Gc.COMPLETE:t instanceof Vc&&(0===t.code||1===t.code)?Gc.REDIRECTING:Gc.FAILED),Li(t=>t!==Gc.REDIRECTING),pa(1)).subscribe(()=>{e()})}function tQ(n){throw n}function nQ(n,e,t){return e.parse("/")}const rQ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},iQ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Xn=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Y(aM),this.isNgZoneEnabled=!1,this._events=new rr,this.options=Y(Of,{optional:!0})||{},this.pendingTasks=Y(uM),this.errorHandler=this.options.errorHandler||tQ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||nQ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Y(XK),this.routeReuseStrategy=Y(YK),this.titleStrategy=Y(FO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Y(Ta,{optional:!0})?.flat()??[],this.navigationTransitions=Y(Nf),this.urlSerializer=Y(Mc),this.location=Y(Py),this.componentInputBindingEnabled=!!Y(Sf,{optional:!0}),this.eventsSubscription=new gn,this.isNgZoneEnabled=Y(Pe)instanceof Pe&&Pe.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ma,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=gO(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(UO(r)&&this._events.next(r));if(r instanceof Cf)VO(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof _a)this.rawUrlTree=i.rawUrl;else if(r instanceof dO){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof Pv)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof Vc)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof Mv){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||VO(i.source)};this.scheduleNavigation(o,kc,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Af&&this.restoreHistory(i,!0),r instanceof Bi&&(this.navigated=!0),UO(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),kc,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Lv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:s;let h,d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{h=iO(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),h=this.currentUrlTree.root}return oO(h,t,d,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=No(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,kc,null,r)}navigate(t,r={skipLocationChange:!1}){return function oQ(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new U(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...rQ}:!1===r?{...iQ}:r,No(t))return QN(this.currentUrlTree,t,i);const o=this.parseUrl(t);return QN(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,c;s?(a=s.resolve,u=s.reject,c=s.promise):c=new Promise((h,p)=>{a=h,u=p});const d=this.pendingTasks.add();return LO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function UO(n){return!(n instanceof Pv||n instanceof Mv)}class BO{}let uQ=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Li(t=>t instanceof Bi),Sc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Z_(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ct(i).pipe(fs())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):se(null);const o=i.pipe(Pt(s=>null===s?se(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?Ct([o,this.loader.loadComponent(r)]).pipe(fs()):o})}static#e=this.\u0275fac=function(r){return new(r||n)(ee(Xn),ee(cM),ee(Kn),ee(BO),ee($v))};static#t=this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Hv=new Q("");let jO=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Cf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Bi?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof _a&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof hO&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new hO(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function JS(){throw new Error("invalid")}()};static#t=this.\u0275prov=te({token:n,factory:n.\u0275fac})}return n})();function ri(n,e){return{\u0275kind:n,\u0275providers:e}}function GO(){const n=Y(an);return e=>{const t=n.get(ca);if(e!==t.components[0])return;const r=n.get(Xn),i=n.get(HO);1===n.get(zv)&&r.initialNavigation(),n.get(zO,null,ge.Optional)?.setUpPreloading(),n.get(Hv,null,ge.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const HO=new Q("",{factory:()=>new rr}),zv=new Q("",{providedIn:"root",factory:()=>1}),zO=new Q("");function hQ(n){return ri(0,[{provide:zO,useExisting:uQ},{provide:BO,useExisting:n}])}const qO=new Q("ROUTER_FORROOT_GUARD"),pQ=[Py,{provide:Mc,useClass:Cv},Xn,Fc,{provide:va,useFactory:function $O(n){return n.routerState.root},deps:[Xn]},$v,[]];function gQ(){return new mM("Router",Xn)}let WO=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[pQ,[],{provide:Ta,multi:!0,useValue:t},{provide:qO,useFactory:vQ,deps:[[Xn,new Wn,new $d]]},{provide:Of,useValue:r||{}},r?.useHash?{provide:bo,useClass:AW}:{provide:bo,useClass:qM},{provide:Hv,useFactory:()=>{const n=Y(q9),e=Y(Pe),t=Y(Of),r=Y(Nf),i=Y(Mc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new jO(i,r,n,e,t)}},r?.preloadingStrategy?hQ(r.preloadingStrategy).\u0275providers:[],{provide:mM,multi:!0,useFactory:gQ},r?.initialNavigation?IQ(r):[],r?.bindToComponentInputs?ri(8,[IO,{provide:Sf,useExisting:IO}]).\u0275providers:[],[{provide:KO,useFactory:GO},{provide:Iy,multi:!0,useExisting:KO}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Ta,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(ee(qO,8))};static#t=this.\u0275mod=Gn({type:n});static#n=this.\u0275inj=Rn({})}return n})();function vQ(n){return"guarded"}function IQ(n){return["disabled"===n.initialNavigation?ri(3,[{provide:hy,multi:!0,useFactory:()=>{const e=Y(Xn);return()=>{e.setUpLocationChangeListener()}}},{provide:zv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ri(2,[{provide:zv,useValue:0},{provide:hy,multi:!0,deps:[an],useFactory:e=>{const t=e.get(DW,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Xn),o=e.get(HO);LO(i,()=>{r(!0)}),e.get(Nf).afterPreactivation=()=>(r(!0),o.closed?se(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const KO=new Q(""),wQ=[];let TQ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Gn({type:n});static#n=this.\u0275inj=Rn({imports:[WO.forRoot(wQ),WO]})}return n})();function QO(n,e,t,r,i,o,s){try{var a=n[o](s),u=a.value}catch(c){return void t(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function O(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function s(u){QO(o,r,i,s,a,"next",u)}function a(u){QO(o,r,i,s,a,"throw",u)}s(void 0)})}}const YO=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},JO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,c=u?n[i+2]:0;let p=(15&a)<<2|c>>6,m=63&c;u||(m=64,s||(p=64)),r.push(t[o>>2],t[(3&o)<<4|a>>4],t[p],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(YO(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const o=n[t++],s=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const h=i<n.length?t[n.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==h)throw new bQ;r.push(o<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==h&&r.push(c<<6&192|h))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class bQ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kf=function(n){return function(n){const e=YO(n);return JO.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Vf=function(n){try{return JO.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},Ff=()=>{try{return function PQ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Vf(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},XO=()=>{var n;return null===(n=Ff())||void 0===n?void 0:n.config};class e1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Tn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class ji extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hc.prototype.create)}}class Hc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function WQ(n,e){return n.replace(KQ,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new ji(i,`${this.serviceName}: ${s} (${i}).`,r)}}const KQ=/\{\$([^}]+)}/g;function Wv(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],s=e[i];if(n1(o)&&n1(s)){if(!Wv(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function n1(n){return null!==n&&"object"==typeof n}function r1(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class YQ{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function JQ(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=Kv),void 0===i.error&&(i.error=Kv),void 0===i.complete&&(i.complete=Kv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kv(){}function xr(n){return n&&n._delegate?n._delegate:n}class Oo{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ko="[DEFAULT]";class rY{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new e1;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function oY(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ko})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ko){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return O(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=ko){return this.instances.has(e)}getOptions(e=ko){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===ko?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=ko){return this.component?this.component.multipleInstances?e:ko:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class sY{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new rY(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Yv=[];var ve=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ve||{});const i1={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},aY=ve.INFO,uY={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},cY=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=uY[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Jv{constructor(e){this.name=e,this._logLevel=aY,this._logHandler=cY,this._userLogHandler=null,Yv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?i1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const lY=(n,e)=>e.some(t=>n instanceof t);let o1,s1;const a1=new WeakMap,Zv=new WeakMap,u1=new WeakMap,Xv=new WeakMap,eI=new WeakMap;let tI={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Zv.get(n);if("objectStoreNames"===e)return n.objectStoreNames||u1.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return $i(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function _Y(n){return"function"==typeof n?function mY(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function hY(){return s1||(s1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(nI(this),e),$i(a1.get(this))}:function(...e){return $i(n.apply(nI(this),e))}:function(e,...t){const r=n.call(nI(this),e,...t);return u1.set(r,e.sort?e.sort():[e]),$i(r)}}(n):(n instanceof IDBTransaction&&function pY(n){if(Zv.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Zv.set(n,e)}(n),lY(n,function dY(){return o1||(o1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,tI):n)}function $i(n){if(n instanceof IDBRequest)return function fY(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t($i(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&a1.set(t,n)}).catch(()=>{}),eI.set(e,n),e}(n);if(Xv.has(n))return Xv.get(n);const e=_Y(n);return e!==n&&(Xv.set(n,e),eI.set(e,n)),e}const nI=n=>eI.get(n),vY=["get","getKey","getAll","getAllKeys","count"],IY=["put","add","delete","clear"],rI=new Map;function c1(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(rI.get(e))return rI.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=IY.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!vY.includes(t))return;const o=function(){var s=O(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(u.shift())),(yield Promise.all([d[t](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return rI.set(e,o),o}!function gY(n){tI=n(tI)}(n=>({...n,get:(e,t,r)=>c1(e,t)||n.get(e,t,r),has:(e,t)=>!!c1(e,t)||n.has(e,t)}));class EY{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function wY(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const Uf="@firebase/app",Vo=new Jv("@firebase/app"),Bf="[DEFAULT]",QY={[Uf]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Fo=new Map,zc=new Map,qc=new Map;function l1(n,e){try{n.container.addComponent(e)}catch(t){Vo.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Da(n){const e=n.name;if(qc.has(e))return Vo.debug(`There were multiple attempts to register component ${e}.`),!1;qc.set(e,n);for(const t of Fo.values())l1(t,n);for(const t of zc.values())l1(t,n);return!0}function Wc(n){return void 0!==n.settings}const er=new Hc("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ZY{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Oo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw er.create("app-deleted",{appName:this._name})}}const jf="10.12.3";function h1(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Bf,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw er.create("bad-app-name",{appName:String(i)});if(t||(t=XO()),!t)throw er.create("no-options");const o=Fo.get(i);if(o){if(Wv(t,o.options)&&Wv(r,o.config))return o;throw er.create("duplicate-app",{appName:i})}const s=new sY(i);for(const u of qc.values())s.addComponent(u);const a=new ZY(t,r,s);return Fo.set(i,a),a}function f1(n=Bf){const e=Fo.get(n);if(!e&&n===Bf&&XO())return h1();if(!e)throw er.create("no-app",{appName:n});return e}function p1(){return Array.from(Fo.values())}function Vn(n,e,t){var r;let i=null!==(r=QY[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Vo.warn(a.join(" "))}Da(new Oo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const tJ="firebase-heartbeat-database",nJ=1,Kc="firebase-heartbeat-store";let sI=null;function g1(){return sI||(sI=function yY(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(n,e),a=$i(s);return r&&s.addEventListener("upgradeneeded",u=>{r($i(s.result),u.oldVersion,u.newVersion,$i(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(tJ,nJ,{upgrade:(n,e)=>{if(0===e)try{n.createObjectStore(Kc)}catch(t){console.warn(t)}}}).catch(n=>{throw er.create("idb-open",{originalErrorMessage:n.message})})),sI}function aI(){return(aI=O(function*(n){try{const t=(yield g1()).transaction(Kc),r=yield t.objectStore(Kc).get(_1(n));return yield t.done,r}catch(e){if(e instanceof ji)Vo.warn(e.message);else{const t=er.create("idb-get",{originalErrorMessage:e?.message});Vo.warn(t.message)}}})).apply(this,arguments)}function m1(n,e){return uI.apply(this,arguments)}function uI(){return(uI=O(function*(n,e){try{const r=(yield g1()).transaction(Kc,"readwrite");yield r.objectStore(Kc).put(e,_1(n)),yield r.done}catch(t){if(t instanceof ji)Vo.warn(t.message);else{const r=er.create("idb-set",{originalErrorMessage:t?.message});Vo.warn(r.message)}}})).apply(this,arguments)}function _1(n){return`${n.name}!${n.options.appId}`}class sJ{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new uJ(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return O(function*(){var t,r;const o=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=y1();if((null!=(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||(e._heartbeatsCache=yield e._heartbeatsCachePromise,null!=(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&e._heartbeatsCache.lastSentHeartbeatDate!==s&&!e._heartbeatsCache.heartbeats.some(a=>a.date===s))return e._heartbeatsCache.heartbeats.push({date:s,agent:o}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return O(function*(){var t;if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=y1(),{heartbeatsToSend:i,unsentEntries:o}=function aJ(n,e=1024){const t=[];let r=n.slice();for(const i of n){const o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),v1(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),v1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=kf(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function y1(){return(new Date).toISOString().substring(0,10)}class uJ{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return O(function*(){return!!function HQ(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function zQ(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return O(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function rJ(n){return aI.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var t=this;return O(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return m1(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return O(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return m1(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function v1(n){return kf(JSON.stringify({version:2,heartbeats:n})).length}!function cJ(n){Da(new Oo("platform-logger",e=>new EY(e),"PRIVATE")),Da(new Oo("heartbeat",e=>new sJ(e),"PRIVATE")),Vn(Uf,"0.10.6",n),Vn(Uf,"0.10.6","esm2017"),Vn("fire-js","")}(""),Vn("firebase","10.12.3","app");class hJ extends gn{constructor(e,t){super()}schedule(e,t=0){return this}}const $f={setInterval(n,e,...t){const{delegate:r}=$f;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=$f;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class I1 extends hJ{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return $f.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&$f.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,hs(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const E1={now:()=>(E1.delegate||Date).now(),delegate:void 0};class Qc{constructor(e,t=Qc.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Qc.now=E1.now;class w1 extends Qc{constructor(e,t=Qc.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const gJ=new class pJ extends w1{}(class fJ extends I1{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),mJ=new w1(I1),cI=new Hs("ANGULARFIRE2_VERSION");const lI=(n,e)=>{const t=e?[e]:p1(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};class _J{constructor(){return lI(yJ)}}const yJ="app-check";function Ca(){}class D1{zone;delegate;constructor(e,t=gJ){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},t,r)}}class vJ{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ca,{},Ca,Ca)),t.pipe(Ft({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let C1=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new D1(Zone.current)),this.insideAngular=t.run(()=>new D1(Zone.current,mJ)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(ee(Pe))};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Aa(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Lo(n){return Aa().ngZone.run(()=>n())}function EJ(n){return function wJ(n){return function(t){return(t=t.lift(new vJ(n.ngZone))).pipe(gd(n.outsideAngular),pd(n.insideAngular))}}(Aa())(n)}const TJ=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Lo(()=>n.apply(void 0,r))},Uo=(n,e)=>function(){let t;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(t||=Lo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ca,{},Ca,Ca))),r[o]=TJ(r[o],t));const i=function IJ(n){return Aa().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof Xe){const o=Aa();return i.pipe(gd(o.outsideAngular),pd(o.insideAngular))}return Lo(()=>i)}return i instanceof Xe?i.pipe(EJ):i instanceof Promise?Lo(()=>new Promise((o,s)=>i.then(a=>Lo(()=>o(a)),a=>Lo(()=>s(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:Lo(()=>i)};class Yc{constructor(e){return e}}class A1{constructor(){return p1()}}const dI=new Q("angularfire2._apps"),CJ={provide:Yc,useFactory:function DJ(n){return n&&1===n.length?n[0]:new Yc(f1())},deps:[[new Wn,dI]]},AJ={provide:A1,deps:[[new Wn,dI]]};function bJ(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Yc(r)}}let SJ=(()=>{class n{constructor(t){Vn("angularfire",cI.full,"core"),Vn("angularfire",cI.full,"app"),Vn("angular",AS.full,t.toString())}static \u0275fac=function(r){return new(r||n)(ee(Io))};static \u0275mod=Gn({type:n});static \u0275inj=Rn({providers:[CJ,AJ]})}return n})();function RJ(n,...e){return{ngModule:SJ,providers:[{provide:dI,useFactory:bJ(n),multi:!0,deps:[Pe,an,C1,...e]}]}}const PJ=Uo(h1,!0);const MJ=function b1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},S1=new Hc("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Gf=new Jv("@firebase/auth");function Hf(n,...e){Gf.logLevel<=ve.ERROR&&Gf.error(`Auth (${jf}): ${n}`,...e)}function Dn(n,...e){throw fI(n,...e)}function tr(n,...e){return fI(n,...e)}function hI(n,e,t){const r=Object.assign(Object.assign({},MJ()),{[e]:t});return new Hc("auth","Firebase",r).create(e,{appName:n.name})}function At(n){return hI(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fI(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return S1.create(n,...e)}function $(n,e,...t){if(!n)throw fI(e,...t)}function Nr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Hf(e),new Error(e)}function Gi(n,e){n||Nr(e)}function R1(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function NJ(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function pI(){return"http:"===R1()||"https:"===R1()}()||function jQ(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class Zc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Gi(t>e,"Short delay should be less than long delay!"),this.isMobile=function LQ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tn())}()||function $Q(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return NJ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class P1{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},VJ=new Zc(3e4,6e4);function ze(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function qe(n,e,t,r){return mI.apply(this,arguments)}function mI(){return(mI=O(function*(n,e,t,r,i={}){return M1(n,i,O(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=r1(Object.assign({key:n.config.apiKey},s)).slice(1),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),P1.fetch()(x1(n,n.config.apiHost,t,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function M1(n,e,t){return _I.apply(this,arguments)}function _I(){return(_I=O(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},kJ),e);try{const i=new LJ(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Xc(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw Xc(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===u)throw Xc(n,"email-already-in-use",s);if("USER_DISABLED"===u)throw Xc(n,"user-disabled",s);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw hI(n,d,c);Dn(n,d)}}catch(i){if(i instanceof ji)throw i;Dn(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function x1(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?function gI(n,e){Gi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,i):`${n.config.apiScheme}://${i}`}class LJ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(tr(this.auth,"network-request-failed")),VJ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Xc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=tr(n,e,r);return i.customData._tokenResponse=t,i}function EI(){return(EI=O(function*(n,e){return qe(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function F1(n,e){return TI.apply(this,arguments)}function TI(){return(TI=O(function*(n,e){return qe(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function el(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function DI(){return(DI=O(function*(n,e=!1){const t=xr(n),r=yield t.getIdToken(e),i=zf(r);$(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:el(CI(i.auth_time)),issuedAtTime:el(CI(i.iat)),expirationTime:el(CI(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function CI(n){return 1e3*Number(n)}function zf(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Hf("JWT malformed, contained fewer than 3 sections"),null;try{const i=Vf(t);return i?JSON.parse(i):(Hf("Failed to decode base64 JWT payload"),null)}catch(i){return Hf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function L1(n){const e=zf(n);return $(e,"internal-error"),$(typeof e.exp<"u","internal-error"),$(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function oi(n,e){return AI.apply(this,arguments)}function AI(){return(AI=O(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof ji&&function GJ({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class HJ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(O(function*(){yield t.iteration()}),r)}iteration(){var e=this;return O(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class bI{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=el(this.lastLoginAt),this.creationTime=el(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function tl(n){return SI.apply(this,arguments)}function SI(){return(SI=O(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield oi(n,F1(t,{idToken:r}));$(i?.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?U1(o.providerUserInfo):[],a=function qJ(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,s),d=!!n.isAnonymous&&!(n.email&&o.passwordHash||a?.length),h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new bI(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,h)})).apply(this,arguments)}function RI(){return(RI=O(function*(n){const e=xr(n);yield tl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function U1(n){return n.map(e=>{var{providerId:t}=e,r=Pg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function PI(){return(PI=O(function*(n,e){const t=yield M1(n,{},O(function*(){const r=r1({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=x1(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",P1.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function MI(){return(MI=O(function*(n,e){return qe(n,"POST","/v2/accounts:revokeToken",ze(n,e))})).apply(this,arguments)}class Sa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$(e.idToken,"internal-error"),$(typeof e.idToken<"u","internal-error"),$(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):L1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){$(0!==e.length,"internal-error");const t=L1(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){var r=this;return O(function*(){return t||!r.accessToken||r.isExpired?($(r.refreshToken,e,"user-token-expired"),r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null):r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return O(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function WJ(n,e){return PI.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new Sa;return r&&($("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&($("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&($("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sa,this.toJSON())}_performRefresh(){return Nr("not implemented")}}function Hi(n,e){$("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class si{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Pg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new HJ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new bI(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return O(function*(){const r=yield oi(t,t.stsTokenManager.getToken(t.auth,e));return $(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function $J(n){return DI.apply(this,arguments)}(this,e)}reload(){return function zJ(n){return RI.apply(this,arguments)}(this)}_assign(e){this!==e&&($(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new si(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return O(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield tl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return O(function*(){if(Wc(e.auth.app))return Promise.reject(At(e.auth));const t=yield e.getIdToken();return yield oi(e,function BJ(n,e){return EI.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,c,d;const h=null!==(r=t.displayName)&&void 0!==r?r:void 0,p=null!==(i=t.email)&&void 0!==i?i:void 0,m=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,y=null!==(s=t.photoURL)&&void 0!==s?s:void 0,I=null!==(a=t.tenantId)&&void 0!==a?a:void 0,E=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,P=null!==(c=t.createdAt)&&void 0!==c?c:void 0,C=null!==(d=t.lastLoginAt)&&void 0!==d?d:void 0,{uid:k,emailVerified:j,isAnonymous:W,providerData:X,stsTokenManager:D}=t;$(k&&D,e,"internal-error");const v=Sa.fromJSON(this.name,D);$("string"==typeof k,e,"internal-error"),Hi(h,e.name),Hi(p,e.name),$("boolean"==typeof j,e,"internal-error"),$("boolean"==typeof W,e,"internal-error"),Hi(m,e.name),Hi(y,e.name),Hi(I,e.name),Hi(E,e.name),Hi(P,e.name),Hi(C,e.name);const w=new si({uid:k,auth:e,email:p,emailVerified:j,displayName:h,isAnonymous:W,photoURL:y,phoneNumber:m,tenantId:I,stsTokenManager:v,createdAt:P,lastLoginAt:C});return X&&Array.isArray(X)&&(w.providerData=X.map(A=>Object.assign({},A))),E&&(w._redirectEventId=E),w}static _fromIdTokenResponse(e,t,r=!1){return O(function*(){const i=new Sa;i.updateFromServerResponse(t);const o=new si({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield tl(o),o})()}static _fromGetAccountInfoResponse(e,t,r){return O(function*(){const i=t.users[0];$(void 0!==i.localId,"internal-error");const o=void 0!==i.providerUserInfo?U1(i.providerUserInfo):[],s=!(i.email&&i.passwordHash||o?.length),a=new Sa;a.updateFromIdToken(r);const u=new si({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new bI(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||o?.length)};return Object.assign(u,c),u})()}}const B1=new Map;function ai(n){Gi(n instanceof Function,"Expected a class definition");let e=B1.get(n);return e?(Gi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,B1.set(n,e),e)}const j1=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return O(function*(){return!0})()}_set(t,r){var i=this;return O(function*(){i.storage[t]=r})()}_get(t){var r=this;return O(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return O(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function qf(n,e,t){return`firebase:${n}:${e}:${t}`}class Ra{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=qf(this.userKey,i.apiKey,o),this.fullPersistenceKey=qf("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return O(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?si._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return O(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return O(function*(){if(!t.length)return new Ra(ai(j1),e,r);const i=(yield Promise.all(t.map(function(){var c=O(function*(d){if(yield d._isAvailable())return d});return function(d){return c.apply(this,arguments)}}()))).filter(c=>c);let o=i[0]||ai(j1);const s=qf(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const d=yield c._get(s);if(d){const h=si._fromJSON(e,d);c!==o&&(a=h),o=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return o._shouldAllowMigration&&u.length?(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(function(){var c=O(function*(d){if(d!==o)try{yield d._remove(s)}catch{}});return function(d){return c.apply(this,arguments)}}())),new Ra(o,e,r)):new Ra(o,e,r)})()}}function $1(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function z1(n=Tn()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function G1(n=Tn()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function W1(n=Tn()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function K1(n=Tn()){return/webos/i.test(n)}(e))return"Webos";if(function xI(n=Tn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function H1(n=Tn()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function q1(n=Tn()){return/android/i.test(n)}(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function Q1(n,e=[]){let t;switch(n){case"Browser":t=$1(Tn());break;case"Worker":t=`${$1(Tn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${jf}/${r}`}class JJ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return O(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function NI(){return(NI=O(function*(n,e={}){return qe(n,"GET","/v2/passwordPolicy",ze(n,e))})).apply(this,arguments)}class eZ{constructor(e){var t,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(t=u.meetsMinPasswordLength)||void 0===t||t),u.isValid&&(u.isValid=null===(r=u.meetsMaxPasswordLength)||void 0===r||r),u.isValid&&(u.isValid=null===(i=u.containsLowercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(o=u.containsUppercaseLetter)||void 0===o||o),u.isValid&&(u.isValid=null===(s=u.containsNumericCharacter)||void 0===s||s),u.isValid&&(u.isValid=null===(a=u.containsNonAlphanumericCharacter)||void 0===a||a),u}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class tZ{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Y1(this),this.idTokenSubscription=new Y1(this),this.beforeStateQueue=new JJ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=S1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=ai(t)),this._initializationPromise=this.queue(O(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Ra.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return O(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUserFromIdToken(e){var t=this;return O(function*(){try{const r=yield F1(t,{idToken:e}),i=yield si._fromGetAccountInfoResponse(t,r,e);yield t.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield t.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var t=this;return O(function*(){var r;if(Wc(t.app)){const a=t.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>t.initializeCurrentUserFromIdToken(a).then(u,u))}):t.directlySetCurrentUser(null)}const i=yield t.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,u=o?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(o=c.user,s=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(o)}catch(a){o=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return $(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return O(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return O(function*(){try{yield tl(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function OJ(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return O(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return O(function*(){if(Wc(t.app))return Promise.reject(At(t));const r=e?xr(e):null;return r&&$(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return O(function*(){if(!r._deleted)return e&&$(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(O(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return O(function*(){return Wc(e.app)?Promise.reject(At(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var t=this;return Wc(this.app)?Promise.reject(At(this)):this.queue(O(function*(){yield t.assertedPersistence.setPersistence(ai(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return O(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return O(function*(){const t=yield function ZJ(n){return NI.apply(this,arguments)}(e),r=new eZ(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Hc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){var t=this;return O(function*(){if(t.currentUser){const r=yield t.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=t.tenantId&&(i.tenantId=t.tenantId),yield function KJ(n,e){return MI.apply(this,arguments)}(t,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return O(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return O(function*(){if(!t.redirectPersistenceManager){const r=e&&ai(e)||t._popupRedirectResolver;$(r,t,"argument-error"),t.redirectPersistenceManager=yield Ra.create(t,[ai(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return O(function*(){var r,i;return t._isInitialized&&(yield t.queue(O(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return O(function*(){if(e===t.currentUser)return t.queue(O(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if($(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof t){const u=e.addObserver(t,r,i);return()=>{s=!0,u()}}{const u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){var t=this;return O(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Q1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return O(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return O(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function xJ(n,...e){Gf.logLevel<=ve.WARN&&Gf.warn(`Auth (${jf}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}class Y1{constructor(e){this.auth=e,this.observer=null,this.addObserver=function QQ(n,e){const t=new YQ(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let nl={loadJS:()=>O(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};(function J1(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new Zc(3e4,6e4),new Zc(2e3,1e4),new Zc(3e4,6e4),new Zc(5e3,15e3),encodeURIComponent("fac");var Sk="@firebase/auth";class iee{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return O(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}Ff(),function nZ(n){nl=n}({loadJS:n=>new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=tr("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",function lee(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function see(n){Da(new Oo("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;$(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Q1(n)},c=new tZ(r,i,o,u);return function lZ(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ai);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Da(new Oo("auth-internal",e=>{const t=function dt(n){return xr(n)}(e.getProvider("auth").getImmediate());return new iee(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vn(Sk,"1.7.5",function oee(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(n)),Vn(Sk,"1.7.5","esm2017")}("Browser");class xk{constructor(){return lI("auth")}}var Go,kk,Nk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ok={};(function(){var n;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(D,v,w){w||(w=0);var A=Array(16);if("string"==typeof v)for(var b=0;16>b;++b)A[b]=v.charCodeAt(w++)|v.charCodeAt(w++)<<8|v.charCodeAt(w++)<<16|v.charCodeAt(w++)<<24;else for(b=0;16>b;++b)A[b]=v[w++]|v[w++]<<8|v[w++]<<16|v[w++]<<24;var M=D.g[3],T=(v=D.g[0])+(M^(w=D.g[1])&((b=D.g[2])^M))+A[0]+3614090360&4294967295;T=(w=(b=(M=(v=(w=(b=(M=(v=(w=(b=(M=(v=(w=(b=(M=(v=(w=(b=(M=(v=(w=(b=(M=(v=(w=(b=(M=(v=(w=(b=(M=(v=(w=(b=(M=(v=(w=(b=(M=(v=(w=(b=(M=(v=(w=(b=(M=(v=(w=(b=(M=(v=(w=(b=(M=(v=(w=(b=(M=(v=w+(T<<7&4294967295|T>>>25))+((T=M+(b^v&(w^b))+A[1]+3905402710&4294967295)<<12&4294967295|T>>>20))+((T=b+(w^M&(v^w))+A[2]+606105819&4294967295)<<17&4294967295|T>>>15))+((T=w+(v^b&(M^v))+A[3]+3250441966&4294967295)<<22&4294967295|T>>>10))+((T=v+(M^w&(b^M))+A[4]+4118548399&4294967295)<<7&4294967295|T>>>25))+((T=M+(b^v&(w^b))+A[5]+1200080426&4294967295)<<12&4294967295|T>>>20))+((T=b+(w^M&(v^w))+A[6]+2821735955&4294967295)<<17&4294967295|T>>>15))+((T=w+(v^b&(M^v))+A[7]+4249261313&4294967295)<<22&4294967295|T>>>10))+((T=v+(M^w&(b^M))+A[8]+1770035416&4294967295)<<7&4294967295|T>>>25))+((T=M+(b^v&(w^b))+A[9]+2336552879&4294967295)<<12&4294967295|T>>>20))+((T=b+(w^M&(v^w))+A[10]+4294925233&4294967295)<<17&4294967295|T>>>15))+((T=w+(v^b&(M^v))+A[11]+2304563134&4294967295)<<22&4294967295|T>>>10))+((T=v+(M^w&(b^M))+A[12]+1804603682&4294967295)<<7&4294967295|T>>>25))+((T=M+(b^v&(w^b))+A[13]+4254626195&4294967295)<<12&4294967295|T>>>20))+((T=b+(w^M&(v^w))+A[14]+2792965006&4294967295)<<17&4294967295|T>>>15))+((T=w+(v^b&(M^v))+A[15]+1236535329&4294967295)<<22&4294967295|T>>>10))+((T=v+(b^M&(w^b))+A[1]+4129170786&4294967295)<<5&4294967295|T>>>27))+((T=M+(w^b&(v^w))+A[6]+3225465664&4294967295)<<9&4294967295|T>>>23))+((T=b+(v^w&(M^v))+A[11]+643717713&4294967295)<<14&4294967295|T>>>18))+((T=w+(M^v&(b^M))+A[0]+3921069994&4294967295)<<20&4294967295|T>>>12))+((T=v+(b^M&(w^b))+A[5]+3593408605&4294967295)<<5&4294967295|T>>>27))+((T=M+(w^b&(v^w))+A[10]+38016083&4294967295)<<9&4294967295|T>>>23))+((T=b+(v^w&(M^v))+A[15]+3634488961&4294967295)<<14&4294967295|T>>>18))+((T=w+(M^v&(b^M))+A[4]+3889429448&4294967295)<<20&4294967295|T>>>12))+((T=v+(b^M&(w^b))+A[9]+568446438&4294967295)<<5&4294967295|T>>>27))+((T=M+(w^b&(v^w))+A[14]+3275163606&4294967295)<<9&4294967295|T>>>23))+((T=b+(v^w&(M^v))+A[3]+4107603335&4294967295)<<14&4294967295|T>>>18))+((T=w+(M^v&(b^M))+A[8]+1163531501&4294967295)<<20&4294967295|T>>>12))+((T=v+(b^M&(w^b))+A[13]+2850285829&4294967295)<<5&4294967295|T>>>27))+((T=M+(w^b&(v^w))+A[2]+4243563512&4294967295)<<9&4294967295|T>>>23))+((T=b+(v^w&(M^v))+A[7]+1735328473&4294967295)<<14&4294967295|T>>>18))+((T=w+(M^v&(b^M))+A[12]+2368359562&4294967295)<<20&4294967295|T>>>12))+((T=v+(w^b^M)+A[5]+4294588738&4294967295)<<4&4294967295|T>>>28))+((T=M+(v^w^b)+A[8]+2272392833&4294967295)<<11&4294967295|T>>>21))+((T=b+(M^v^w)+A[11]+1839030562&4294967295)<<16&4294967295|T>>>16))+((T=w+(b^M^v)+A[14]+4259657740&4294967295)<<23&4294967295|T>>>9))+((T=v+(w^b^M)+A[1]+2763975236&4294967295)<<4&4294967295|T>>>28))+((T=M+(v^w^b)+A[4]+1272893353&4294967295)<<11&4294967295|T>>>21))+((T=b+(M^v^w)+A[7]+4139469664&4294967295)<<16&4294967295|T>>>16))+((T=w+(b^M^v)+A[10]+3200236656&4294967295)<<23&4294967295|T>>>9))+((T=v+(w^b^M)+A[13]+681279174&4294967295)<<4&4294967295|T>>>28))+((T=M+(v^w^b)+A[0]+3936430074&4294967295)<<11&4294967295|T>>>21))+((T=b+(M^v^w)+A[3]+3572445317&4294967295)<<16&4294967295|T>>>16))+((T=w+(b^M^v)+A[6]+76029189&4294967295)<<23&4294967295|T>>>9))+((T=v+(w^b^M)+A[9]+3654602809&4294967295)<<4&4294967295|T>>>28))+((T=M+(v^w^b)+A[12]+3873151461&4294967295)<<11&4294967295|T>>>21))+((T=b+(M^v^w)+A[15]+530742520&4294967295)<<16&4294967295|T>>>16))+((T=w+(b^M^v)+A[2]+3299628645&4294967295)<<23&4294967295|T>>>9))+((T=v+(b^(w|~M))+A[0]+4096336452&4294967295)<<6&4294967295|T>>>26))+((T=M+(w^(v|~b))+A[7]+1126891415&4294967295)<<10&4294967295|T>>>22))+((T=b+(v^(M|~w))+A[14]+2878612391&4294967295)<<15&4294967295|T>>>17))+((T=w+(M^(b|~v))+A[5]+4237533241&4294967295)<<21&4294967295|T>>>11))+((T=v+(b^(w|~M))+A[12]+1700485571&4294967295)<<6&4294967295|T>>>26))+((T=M+(w^(v|~b))+A[3]+2399980690&4294967295)<<10&4294967295|T>>>22))+((T=b+(v^(M|~w))+A[10]+4293915773&4294967295)<<15&4294967295|T>>>17))+((T=w+(M^(b|~v))+A[1]+2240044497&4294967295)<<21&4294967295|T>>>11))+((T=v+(b^(w|~M))+A[8]+1873313359&4294967295)<<6&4294967295|T>>>26))+((T=M+(w^(v|~b))+A[15]+4264355552&4294967295)<<10&4294967295|T>>>22))+((T=b+(v^(M|~w))+A[6]+2734768916&4294967295)<<15&4294967295|T>>>17))+((T=w+(M^(b|~v))+A[13]+1309151649&4294967295)<<21&4294967295|T>>>11))+((M=(v=w+((T=v+(b^(w|~M))+A[4]+4149444226&4294967295)<<6&4294967295|T>>>26))+((T=M+(w^(v|~b))+A[11]+3174756917&4294967295)<<10&4294967295|T>>>22))^((b=M+((T=b+(v^(M|~w))+A[2]+718787259&4294967295)<<15&4294967295|T>>>17))|~v))+A[9]+3951481745&4294967295,D.g[0]=D.g[0]+v&4294967295,D.g[1]=D.g[1]+(b+(T<<21&4294967295|T>>>11))&4294967295,D.g[2]=D.g[2]+b&4294967295,D.g[3]=D.g[3]+M&4294967295}function s(D,v){this.h=v;for(var w=[],A=!0,b=D.length-1;0<=b;b--){var M=0|D[b];A&&M==v||(w[b]=M,A=!1)}this.g=w}(function e(D,v){function w(){}w.prototype=v.prototype,D.D=v.prototype,D.prototype=new w,D.prototype.constructor=D,D.C=function(A,b,M){for(var T=Array(arguments.length-2),_i=2;_i<arguments.length;_i++)T[_i-2]=arguments[_i];return v.prototype[b].apply(A,T)}})(r,function t(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(D,v){void 0===v&&(v=D.length);for(var w=v-this.blockSize,A=this.B,b=this.h,M=0;M<v;){if(0==b)for(;M<=w;)i(this,D,M),M+=this.blockSize;if("string"==typeof D){for(;M<v;)if(A[b++]=D.charCodeAt(M++),b==this.blockSize){i(this,A),b=0;break}}else for(;M<v;)if(A[b++]=D[M++],b==this.blockSize){i(this,A),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var v=1;v<D.length-8;++v)D[v]=0;var w=8*this.o;for(v=D.length-8;v<D.length;++v)D[v]=255&w,w/=256;for(this.u(D),D=Array(16),v=w=0;4>v;++v)for(var A=0;32>A;A+=8)D[w++]=this.g[v]>>>A&255;return D};var a={};function u(D){return-128<=D&&128>D?function o(D,v){var w=a;return Object.prototype.hasOwnProperty.call(w,D)?w[D]:w[D]=v(D)}(D,function(v){return new s([0|v],0>v?-1:0)}):new s([0|D],0>D?-1:0)}function c(D){if(isNaN(D)||!isFinite(D))return h;if(0>D)return E(c(-D));for(var v=[],w=1,A=0;D>=w;A++)v[A]=D/w|0,w*=4294967296;return new s(v,0)}var h=u(0),p=u(1),m=u(16777216);function y(D){if(0!=D.h)return!1;for(var v=0;v<D.g.length;v++)if(0!=D.g[v])return!1;return!0}function I(D){return-1==D.h}function E(D){for(var v=D.g.length,w=[],A=0;A<v;A++)w[A]=~D.g[A];return new s(w,~D.h).add(p)}function P(D,v){return D.add(E(v))}function C(D,v){for(;(65535&D[v])!=D[v];)D[v+1]+=D[v]>>>16,D[v]&=65535,v++}function k(D,v){this.g=D,this.h=v}function j(D,v){if(y(v))throw Error("division by zero");if(y(D))return new k(h,h);if(I(D))return v=j(E(D),v),new k(E(v.g),E(v.h));if(I(v))return v=j(D,E(v)),new k(E(v.g),v.h);if(30<D.g.length){if(I(D)||I(v))throw Error("slowDivide_ only works with positive integers.");for(var w=p,A=v;0>=A.l(D);)w=W(w),A=W(A);var b=X(w,1),M=X(A,1);for(A=X(A,2),w=X(w,2);!y(A);){var T=M.add(A);0>=T.l(D)&&(b=b.add(w),M=T),A=X(A,1),w=X(w,1)}return v=P(D,b.j(v)),new k(b,v)}for(b=h;0<=D.l(v);){for(w=Math.max(1,Math.floor(D.m()/v.m())),A=48>=(A=Math.ceil(Math.log(w)/Math.LN2))?1:Math.pow(2,A-48),T=(M=c(w)).j(v);I(T)||0<T.l(D);)T=(M=c(w-=A)).j(v);y(M)&&(M=p),b=b.add(M),D=P(D,T)}return new k(b,D)}function W(D){for(var v=D.g.length+1,w=[],A=0;A<v;A++)w[A]=D.i(A)<<1|D.i(A-1)>>>31;return new s(w,D.h)}function X(D,v){var w=v>>5;v%=32;for(var A=D.g.length-w,b=[],M=0;M<A;M++)b[M]=0<v?D.i(M+w)>>>v|D.i(M+w+1)<<32-v:D.i(M+w);return new s(b,D.h)}(n=s.prototype).m=function(){if(I(this))return-E(this).m();for(var D=0,v=1,w=0;w<this.g.length;w++){var A=this.i(w);D+=(0<=A?A:4294967296+A)*v,v*=4294967296}return D},n.toString=function(D){if(2>(D=D||10)||36<D)throw Error("radix out of range: "+D);if(y(this))return"0";if(I(this))return"-"+E(this).toString(D);for(var v=c(Math.pow(D,6)),w=this,A="";;){var b=j(w,v).g,M=((0<(w=P(w,b.j(v))).g.length?w.g[0]:w.h)>>>0).toString(D);if(y(w=b))return M+A;for(;6>M.length;)M="0"+M;A=M+A}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h},n.l=function(D){return I(D=P(this,D))?-1:y(D)?0:1},n.abs=function(){return I(this)?E(this):this},n.add=function(D){for(var v=Math.max(this.g.length,D.g.length),w=[],A=0,b=0;b<=v;b++){var M=A+(65535&this.i(b))+(65535&D.i(b)),T=(M>>>16)+(this.i(b)>>>16)+(D.i(b)>>>16);A=T>>>16,w[b]=(T&=65535)<<16|(M&=65535)}return new s(w,-2147483648&w[w.length-1]?-1:0)},n.j=function(D){if(y(this)||y(D))return h;if(I(this))return I(D)?E(this).j(E(D)):E(E(this).j(D));if(I(D))return E(this.j(E(D)));if(0>this.l(m)&&0>D.l(m))return c(this.m()*D.m());for(var v=this.g.length+D.g.length,w=[],A=0;A<2*v;A++)w[A]=0;for(A=0;A<this.g.length;A++)for(var b=0;b<D.g.length;b++){var M=this.i(A)>>>16,T=65535&this.i(A),_i=D.i(b)>>>16,zl=65535&D.i(b);w[2*A+2*b]+=T*zl,C(w,2*A+2*b),w[2*A+2*b+1]+=M*zl,C(w,2*A+2*b+1),w[2*A+2*b+1]+=T*_i,C(w,2*A+2*b+1),w[2*A+2*b+2]+=M*_i,C(w,2*A+2*b+2)}for(A=0;A<v;A++)w[A]=w[2*A+1]<<16|w[2*A];for(A=v;A<2*v;A++)w[A]=0;return new s(w,0)},n.A=function(D){return j(this,D).h},n.and=function(D){for(var v=Math.max(this.g.length,D.g.length),w=[],A=0;A<v;A++)w[A]=this.i(A)&D.i(A);return new s(w,this.h&D.h)},n.or=function(D){for(var v=Math.max(this.g.length,D.g.length),w=[],A=0;A<v;A++)w[A]=this.i(A)|D.i(A);return new s(w,this.h|D.h)},n.xor=function(D){for(var v=Math.max(this.g.length,D.g.length),w=[],A=0;A<v;A++)w[A]=this.i(A)^D.i(A);return new s(w,this.h^D.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,kk=Ok.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=function d(D,v){if(0==D.length)throw Error("number format error: empty string");if(2>(v=v||10)||36<v)throw Error("radix out of range: "+v);if("-"==D.charAt(0))return E(d(D.substring(1),v));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=c(Math.pow(v,8)),A=h,b=0;b<D.length;b+=8){var M=Math.min(8,D.length-b),T=parseInt(D.substring(b,b+M),v);8>M?(M=c(Math.pow(v,M)),A=A.j(M).add(c(T))):A=(A=A.j(w)).add(c(T))}return A},Go=Ok.Integer=s}).apply(typeof Nk<"u"?Nk:typeof self<"u"?self:typeof window<"u"?window:{});var Vk,Fk,ul,Lk,sp,Cw,Uk,Bk,jk,op=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ci={};(function(){var n,e="function"==typeof Object.defineProperties?Object.defineProperty:function(l,f,g){return l==Array.prototype||l==Object.prototype||(l[f]=g.value),l},r=function t(l){l=["object"==typeof globalThis&&globalThis,l,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof op&&op];for(var f=0;f<l.length;++f){var g=l[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}(this);!function i(l,f){if(f)e:{var g=r;l=l.split(".");for(var _=0;_<l.length-1;_++){var S=l[_];if(!(S in g))break e;g=g[S]}(f=f(_=g[l=l[l.length-1]]))!=_&&null!=f&&e(g,l,{configurable:!0,writable:!0,value:f})}}("Array.prototype.values",function(l){return l||function(){return function o(l,f){l instanceof String&&(l+="");var g=0,_=!1,S={next:function(){if(!_&&g<l.length){var N=g++;return{value:f(N,l[N]),done:!1}}return _=!0,{done:!0,value:void 0}}};return S[Symbol.iterator]=function(){return S},S}(this,function(f,g){return g})}});var s=s||{},a=this||self;function u(l){var f=typeof l;return"array"==(f="object"!=f?f:l?Array.isArray(l)?"array":f:"null")||"object"==f&&"number"==typeof l.length}function c(l){var f=typeof l;return"object"==f&&null!=l||"function"==f}function d(l,f,g){return l.call.apply(l.bind,arguments)}function h(l,f,g){if(!l)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var S=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(S,_),l.apply(f,S)}}return function(){return l.apply(f,arguments)}}function p(l,f,g){return(p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:h).apply(null,arguments)}function m(l,f){var g=Array.prototype.slice.call(arguments,1);return function(){var _=g.slice();return _.push.apply(_,arguments),l.apply(this,_)}}function y(l,f){function g(){}g.prototype=f.prototype,l.aa=f.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(_,S,N){for(var H=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)H[Le-2]=arguments[Le];return f.prototype[S].apply(_,H)}}function I(l){const f=l.length;if(0<f){const g=Array(f);for(let _=0;_<f;_++)g[_]=l[_];return g}return[]}function E(l,f){for(let g=1;g<arguments.length;g++){const _=arguments[g];if(u(_)){const S=l.length||0,N=_.length||0;l.length=S+N;for(let H=0;H<N;H++)l[S+H]=_[H]}else l.push(_)}}function C(l){return/^[\s\xa0]*$/.test(l)}function k(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function j(l){return j[" "](l),l}j[" "]=function(){};var W=!(-1==k().indexOf("Gecko")||-1!=k().toLowerCase().indexOf("webkit")&&-1==k().indexOf("Edge")||-1!=k().indexOf("Trident")||-1!=k().indexOf("MSIE")||-1!=k().indexOf("Edge"));function X(l,f,g){for(const _ in l)f.call(g,l[_],_,l)}function v(l){const f={};for(const g in l)f[g]=l[g];return f}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(l,f){let g,_;for(let S=1;S<arguments.length;S++){for(g in _=arguments[S],_)l[g]=_[g];for(let N=0;N<w.length;N++)g=w[N],Object.prototype.hasOwnProperty.call(_,g)&&(l[g]=_[g])}}function b(l){var f=1;l=l.split(":");const g=[];for(;0<f&&l.length;)g.push(l.shift()),f--;return l.length&&g.push(l.join(":")),g}function M(l){a.setTimeout(()=>{throw l},0)}function T(){var l=qD;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}var zl=new class P{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}(()=>new Tie,l=>l.reset());class Tie{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let ql,Wl=!1,qD=new class _i{constructor(){this.h=this.g=null}add(f,g){const _=zl.get();_.set(f,g),this.h?this.h.next=_:this.g=_,this.h=_}},E2=()=>{const l=a.Promise.resolve(void 0);ql=()=>{l.then(Die)}};var Die=()=>{for(var l;l=T();){try{l.h.call(l.g)}catch(g){M(g)}var f=zl;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}Wl=!1};function so(){this.s=this.s,this.C=this.C}function Jt(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}so.prototype.s=!1,so.prototype.ma=function(){this.s||(this.s=!0,this.N())},so.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Jt.prototype.h=function(){this.defaultPrevented=!0};var Cie=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return l}();function Kl(l,f){if(Jt.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,_=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(W){e:{try{j(f.nodeName);var S=!0;break e}catch{}S=!1}S||(f=null)}}else"mouseover"==g?f=l.fromElement:"mouseout"==g&&(f=l.toElement);this.relatedTarget=f,_?(this.clientX=void 0!==_.clientX?_.clientX:_.pageX,this.clientY=void 0!==_.clientY?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType="string"==typeof l.pointerType?l.pointerType:Aie[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Kl.aa.h.call(this)}}y(Kl,Jt);var Aie={2:"touch",3:"pen",4:"mouse"};Kl.prototype.h=function(){Kl.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ql="closure_listenable_"+(1e6*Math.random()|0),bie=0;function Sie(l,f,g,_,S){this.listener=l,this.proxy=null,this.src=f,this.type=g,this.capture=!!_,this.ha=S,this.key=++bie,this.da=this.fa=!1}function og(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function sg(l){this.src=l,this.g={},this.h=0}function WD(l,f){var g=f.type;if(g in l.g){var N,_=l.g[g],S=Array.prototype.indexOf.call(_,f,void 0);(N=0<=S)&&Array.prototype.splice.call(_,S,1),N&&(og(f),0==l.g[g].length&&(delete l.g[g],l.h--))}}function KD(l,f,g,_){for(var S=0;S<l.length;++S){var N=l[S];if(!N.da&&N.listener==f&&N.capture==!!g&&N.ha==_)return S}return-1}sg.prototype.add=function(l,f,g,_,S){var N=l.toString();(l=this.g[N])||(l=this.g[N]=[],this.h++);var H=KD(l,f,_,S);return-1<H?(f=l[H],g||(f.fa=!1)):((f=new Sie(f,this.src,N,!!_,S)).fa=g,l.push(f)),f};var QD="closure_lm_"+(1e6*Math.random()|0),YD={};function w2(l,f,g,_,S){if(_&&_.once)return D2(l,f,g,_,S);if(Array.isArray(f)){for(var N=0;N<f.length;N++)w2(l,f[N],g,_,S);return null}return g=eC(g),l&&l[Ql]?l.K(f,g,c(_)?!!_.capture:!!_,S):T2(l,f,g,!1,_,S)}function T2(l,f,g,_,S,N){if(!f)throw Error("Invalid event type");var H=c(S)?!!S.capture:!!S,Le=ZD(l);if(Le||(l[QD]=Le=new sg(l)),(g=Le.add(f,g,_,H,N)).proxy)return g;if(_=function Rie(){const f=Pie;return function l(g){return f.call(l.src,l.listener,g)}}(),g.proxy=_,_.src=l,_.listener=g,l.addEventListener)Cie||(S=H),void 0===S&&(S=!1),l.addEventListener(f.toString(),_,S);else if(l.attachEvent)l.attachEvent(A2(f.toString()),_);else{if(!l.addListener||!l.removeListener)throw Error("addEventListener and attachEvent are unavailable.");l.addListener(_)}return g}function D2(l,f,g,_,S){if(Array.isArray(f)){for(var N=0;N<f.length;N++)D2(l,f[N],g,_,S);return null}return g=eC(g),l&&l[Ql]?l.L(f,g,c(_)?!!_.capture:!!_,S):T2(l,f,g,!0,_,S)}function C2(l,f,g,_,S){if(Array.isArray(f))for(var N=0;N<f.length;N++)C2(l,f[N],g,_,S);else _=c(_)?!!_.capture:!!_,g=eC(g),l&&l[Ql]?(l=l.i,(f=String(f).toString())in l.g&&-1<(g=KD(N=l.g[f],g,_,S))&&(og(N[g]),Array.prototype.splice.call(N,g,1),0==N.length&&(delete l.g[f],l.h--))):l&&(l=ZD(l))&&(f=l.g[f.toString()],l=-1,f&&(l=KD(f,g,_,S)),(g=-1<l?f[l]:null)&&JD(g))}function JD(l){if("number"!=typeof l&&l&&!l.da){var f=l.src;if(f&&f[Ql])WD(f.i,l);else{var g=l.type,_=l.proxy;f.removeEventListener?f.removeEventListener(g,_,l.capture):f.detachEvent?f.detachEvent(A2(g),_):f.addListener&&f.removeListener&&f.removeListener(_),(g=ZD(f))?(WD(g,l),0==g.h&&(g.src=null,f[QD]=null)):og(l)}}}function A2(l){return l in YD?YD[l]:YD[l]="on"+l}function Pie(l,f){if(l.da)l=!0;else{f=new Kl(f,this);var g=l.listener,_=l.ha||l.src;l.fa&&JD(l),l=g.call(_,f)}return l}function ZD(l){return(l=l[QD])instanceof sg?l:null}var XD="__closure_events_fn_"+(1e9*Math.random()>>>0);function eC(l){return"function"==typeof l?l:(l[XD]||(l[XD]=function(f){return l.handleEvent(f)}),l[XD])}function Zt(){so.call(this),this.i=new sg(this),this.M=this,this.F=null}function fn(l,f){var g,_=l.F;if(_)for(g=[];_;_=_.F)g.push(_);if(l=l.M,_=f.type||f,"string"==typeof f)f=new Jt(f,l);else if(f instanceof Jt)f.target=f.target||l;else{var S=f;A(f=new Jt(_,l),S)}if(S=!0,g)for(var N=g.length-1;0<=N;N--){var H=f.g=g[N];S=ag(H,_,!0,f)&&S}if(S=ag(H=f.g=l,_,!0,f)&&S,S=ag(H,_,!1,f)&&S,g)for(N=0;N<g.length;N++)S=ag(H=f.g=g[N],_,!1,f)&&S}function ag(l,f,g,_){if(!(f=l.i.g[String(f)]))return!0;f=f.concat();for(var S=!0,N=0;N<f.length;++N){var H=f[N];if(H&&!H.da&&H.capture==g){var Le=H.listener,jt=H.ha||H.src;H.fa&&WD(l.i,H),S=!1!==Le.call(jt,_)&&S}}return S&&!_.defaultPrevented}function b2(l,f,g){if("function"==typeof l)g&&(l=p(l,g));else{if(!l||"function"!=typeof l.handleEvent)throw Error("Invalid listener argument");l=p(l.handleEvent,l)}return 2147483647<Number(f)?-1:a.setTimeout(l,f||0)}function S2(l){l.g=b2(()=>{l.g=null,l.i&&(l.i=!1,S2(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}y(Zt,so),Zt.prototype[Ql]=!0,Zt.prototype.removeEventListener=function(l,f,g,_){C2(this,l,f,g,_)},Zt.prototype.N=function(){if(Zt.aa.N.call(this),this.i){var f,l=this.i;for(f in l.g){for(var g=l.g[f],_=0;_<g.length;_++)og(g[_]);delete l.g[f],l.h--}}this.F=null},Zt.prototype.K=function(l,f,g,_){return this.i.add(String(l),f,!1,g,_)},Zt.prototype.L=function(l,f,g,_){return this.i.add(String(l),f,!0,g,_)};class Mie extends so{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:S2(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yl(l){so.call(this),this.h=l,this.g={}}y(Yl,so);var R2=[];function P2(l){X(l.g,function(f,g){this.g.hasOwnProperty(g)&&JD(f)},l),l.g={}}Yl.prototype.N=function(){Yl.aa.N.call(this),P2(this)},Yl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tC=a.JSON.stringify,xie=a.JSON.parse,Nie=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function nC(){}function x2(){}nC.prototype.h=null;var Jl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function rC(){Jt.call(this,"d")}function iC(){Jt.call(this,"c")}y(rC,Jt),y(iC,Jt);var us={},N2=null;function ug(){return N2=N2||new Zt}function O2(l){Jt.call(this,us.La,l)}function Zl(l){const f=ug();fn(f,new O2(f))}function k2(l,f){Jt.call(this,us.STAT_EVENT,l),this.stat=f}function pn(l){const f=ug();fn(f,new k2(f,l))}function V2(l,f){Jt.call(this,us.Ma,l),this.size=f}function Xl(l,f){if("function"!=typeof l)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},f)}function ed(){this.g=!0}function gu(l,f,g,_){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+function Fie(l,f){if(!l.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g)for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var _=g[l];if(!(2>_.length)){var S=_[1];if(Array.isArray(S)&&!(1>S.length)){var N=S[0];if("noop"!=N&&"stop"!=N&&"close"!=N)for(var H=1;H<S.length;H++)S[H]=""}}}return tC(g)}catch{return f}}(l,g)+(_?" "+_:"")})}us.La="serverreachability",y(O2,Jt),us.STAT_EVENT="statevent",y(k2,Jt),us.Ma="timingevent",y(V2,Jt),ed.prototype.xa=function(){this.g=!1},ed.prototype.info=function(){};var oC,cg={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},F2={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function lg(){}function ao(l,f,g,_){this.j=l,this.i=f,this.l=g,this.R=_||1,this.U=new Yl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new L2}function L2(){this.i=null,this.g="",this.h=!1}y(lg,nC),lg.prototype.g=function(){return new XMLHttpRequest},lg.prototype.i=function(){return{}},oC=new lg;var U2={},sC={};function aC(l,f,g){l.L=1,l.v=pg(yi(f)),l.m=g,l.P=!0,B2(l,null)}function B2(l,f){l.F=Date.now(),dg(l),l.A=yi(l.v);var g=l.A,_=l.R;Array.isArray(_)||(_=[String(_)]),eU(g.i,"t",_),l.C=0,g=l.j.J,l.h=new L2,l.g=yU(l.j,g?f:null,!l.m),0<l.O&&(l.M=new Mie(p(l.Y,l,l.g),l.O)),f=l.U,g=l.g,_=l.ca;var S="readystatechange";Array.isArray(S)||(S&&(R2[0]=S.toString()),S=R2);for(var N=0;N<S.length;N++){var H=w2(g,S[N],_||f.handleEvent,!1,f.h||f);if(!H)break;f.g[H.key]=H}f=l.H?v(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),Zl(),function Oie(l,f,g,_,S,N){l.info(function(){if(l.g)if(N)for(var H="",Le=N.split("&"),jt=0;jt<Le.length;jt++){var De=Le[jt].split("=");if(1<De.length){var Xt=De[0];De=De[1];var en=Xt.split("_");H=2<=en.length&&"type"==en[1]?H+(Xt+"=")+De+"&":H+(Xt+"=redacted&")}}else H=null;else H=N;return"XMLHTTP REQ ("+_+") [attempt "+S+"]: "+f+"\n"+g+"\n"+H})}(l.i,l.u,l.A,l.l,l.R,l.m)}function j2(l){return!!l.g&&"GET"==l.u&&2!=l.L&&l.j.Ca}function Lie(l,f){var g=l.C,_=f.indexOf("\n",g);return-1==_?sC:(g=Number(f.substring(g,_)),isNaN(g)?U2:(_+=1)+g>f.length?sC:(f=f.slice(_,_+g),l.C=_+g,f))}function dg(l){l.S=Date.now()+l.I,$2(l,l.I)}function $2(l,f){if(null!=l.B)throw Error("WatchDog timer not null");l.B=Xl(p(l.ba,l),f)}function uC(l){l.B&&(a.clearTimeout(l.B),l.B=null)}function td(l){0==l.j.G||l.J||pU(l.j,l)}function cs(l){uC(l);var f=l.M;f&&"function"==typeof f.ma&&f.ma(),l.M=null,P2(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function cC(l,f){try{var g=l.j;if(0!=g.G&&(g.g==l||lC(g.h,l)))if(!l.K&&lC(g.h,l)&&3==g.G){try{var _=g.Da.g.parse(f)}catch{_=null}if(Array.isArray(_)&&3==_.length){var S=_;if(0==S[0]){e:if(!g.u){if(g.g){if(!(g.g.F+3e3<l.F))break e;vg(g),_g(g)}pC(g),pn(18)}}else g.za=S[1],0<g.za-g.T&&37500>S[2]&&g.F&&0==g.v&&!g.C&&(g.C=Xl(p(g.Za,g),6e3));if(1>=z2(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else ds(g,11)}else if((l.K||g.g==l)&&vg(g),!C(f))for(S=g.Da.g.parse(f),f=0;f<S.length;f++){let De=S[f];if(g.T=De[0],De=De[1],2==g.G)if("c"==De[0]){g.K=De[1],g.ia=De[2];const Xt=De[3];null!=Xt&&(g.la=Xt,g.j.info("VER="+g.la));const en=De[4];null!=en&&(g.Aa=en,g.j.info("SVER="+g.Aa));const yu=De[5];null!=yu&&"number"==typeof yu&&0<yu&&(g.L=_=1.5*yu,g.j.info("backChannelRequestTimeoutMs_="+_)),_=g;const pr=l.g;if(pr){const Eg=pr.g?pr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Eg){var N=_.h;N.g||-1==Eg.indexOf("spdy")&&-1==Eg.indexOf("quic")&&-1==Eg.indexOf("h2")||(N.j=N.l,N.g=new Set,N.h&&(dC(N,N.h),N.h=null))}if(_.D){const mC=pr.g?pr.g.getResponseHeader("X-HTTP-Session-Id"):null;mC&&(_.ya=mC,Ke(_.I,_.D,mC))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms"));var H=l;if((_=g).qa=_U(_,_.J?_.ia:null,_.W),H.K){q2(_.h,H);var Le=H,jt=_.L;jt&&(Le.I=jt),Le.B&&(uC(Le),dg(Le)),_.g=H}else hU(_);0<g.i.length&&yg(g)}else"stop"!=De[0]&&"close"!=De[0]||ds(g,7);else 3==g.G&&("stop"==De[0]||"close"==De[0]?"stop"==De[0]?ds(g,7):fC(g):"noop"!=De[0]&&g.l&&g.l.ta(De),g.v=0)}Zl()}catch{}}function G2(l){this.l=l||10,l=a.PerformanceNavigationTiming?0<(l=a.performance.getEntriesByType("navigation")).length&&("hq"==l[0].nextHopProtocol||"h2"==l[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function H2(l){return!!l.h||!!l.g&&l.g.size>=l.j}function z2(l){return l.h?1:l.g?l.g.size:0}function lC(l,f){return l.h?l.h==f:!!l.g&&l.g.has(f)}function dC(l,f){l.g?l.g.add(f):l.h=f}function q2(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}function W2(l){if(null!=l.h)return l.i.concat(l.h.D);if(null!=l.g&&0!==l.g.size){let f=l.i;for(const g of l.g.values())f=f.concat(g.D);return f}return I(l.i)}function K2(l,f){if(l.forEach&&"function"==typeof l.forEach)l.forEach(f,void 0);else if(u(l)||"string"==typeof l)Array.prototype.forEach.call(l,f,void 0);else for(var g=function jie(l){if(l.na&&"function"==typeof l.na)return l.na();if(!l.V||"function"!=typeof l.V){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||"string"==typeof l){var f=[];l=l.length;for(var g=0;g<l;g++)f.push(g);return f}f=[],g=0;for(const _ in l)f[g++]=_;return f}}}(l),_=function Bie(l){if(l.V&&"function"==typeof l.V)return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if("string"==typeof l)return l.split("");if(u(l)){for(var f=[],g=l.length,_=0;_<g;_++)f.push(l[_]);return f}for(_ in f=[],g=0,l)f[g++]=l[_];return f}(l),S=_.length,N=0;N<S;N++)f.call(void 0,_[N],g&&g[N],l)}ao.prototype.ca=function(l){l=l.target;const f=this.M;f&&3==vi(l)?f.j():this.Y(l)},ao.prototype.Y=function(l){try{if(l==this.g)e:{const en=vi(this.g);var f=this.g.Ba();if(this.g.Z(),!(3>en)&&(3!=en||this.g&&(this.h.h||this.g.oa()||aU(this.g)))){this.J||4!=en||7==f||Zl(),uC(this);var g=this.g.Z();this.X=g;t:if(j2(this)){var _=aU(this.g);l="";var S=_.length,N=4==vi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){cs(this),td(this);var H="";break t}this.h.i=new a.TextDecoder}for(f=0;f<S;f++)this.h.h=!0,l+=this.h.i.decode(_[f],{stream:!(N&&f==S-1)});_.length=0,this.h.g+=l,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=200==g,function kie(l,f,g,_,S,N,H){l.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+S+"]: "+f+"\n"+g+"\n"+N+" "+H})}(this.i,this.u,this.A,this.l,this.R,en,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,jt=this.g;if((Le=jt.g?jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(Le)){var De=Le;break t}}De=null}if(!(g=De)){this.o=!1,this.s=3,pn(12),cs(this),td(this);break e}gu(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cC(this,g)}if(this.P){let pr;for(g=!0;!this.J&&this.C<H.length;){if(pr=Lie(this,H),pr==sC){4==en&&(this.s=4,pn(14),g=!1),gu(this.i,this.l,null,"[Incomplete Response]");break}if(pr==U2){this.s=4,pn(15),gu(this.i,this.l,H,"[Invalid Chunk]"),g=!1;break}gu(this.i,this.l,pr,null),cC(this,pr)}if(j2(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=en||0!=H.length||this.h.h||(this.s=1,pn(16),g=!1),this.o=this.o&&g,g){if(0<H.length&&!this.W){this.W=!0;var Xt=this.j;Xt.g==this&&Xt.ba&&!Xt.M&&(Xt.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),gC(Xt),Xt.M=!0,pn(11))}}else gu(this.i,this.l,H,"[Invalid Chunked Response]"),cs(this),td(this)}else gu(this.i,this.l,H,null),cC(this,H);4==en&&cs(this),this.o&&!this.J&&(4==en?pU(this.j,this):(this.o=!1,dg(this)))}else(function toe(l){const f={};l=(l.g&&2<=vi(l)&&l.g.getAllResponseHeaders()||"").split("\r\n");for(let _=0;_<l.length;_++){if(C(l[_]))continue;var g=b(l[_]);const S=g[0];if("string"!=typeof(g=g[1]))continue;g=g.trim();const N=f[S]||[];f[S]=N,N.push(g)}!function D(l,f){for(const g in l)f.call(void 0,l[g],g,l)}(f,function(_){return _.join(", ")})})(this.g),400==g&&0<H.indexOf("Unknown SID")?(this.s=3,pn(12)):(this.s=0,pn(13)),cs(this),td(this)}}}catch{}},ao.prototype.cancel=function(){this.J=!0,cs(this)},ao.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(function Vie(l,f){l.info(function(){return"TIMEOUT: "+f})}(this.i,this.A),2!=this.L&&(Zl(),pn(17)),cs(this),this.s=2,td(this)):$2(this,this.S-l)},G2.prototype.cancel=function(){if(this.i=W2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const l of this.g.values())l.cancel();this.g.clear()}};var Q2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ls(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ls){this.h=l.h,hg(this,l.j),this.o=l.o,this.g=l.g,fg(this,l.s),this.l=l.l;var f=l.i,g=new id;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),Y2(this,g),this.m=l.m}else l&&(f=String(l).match(Q2))?(this.h=!1,hg(this,f[1]||"",!0),this.o=nd(f[2]||""),this.g=nd(f[3]||"",!0),fg(this,f[4]),this.l=nd(f[5]||"",!0),Y2(this,f[6]||"",!0),this.m=nd(f[7]||"")):(this.h=!1,this.i=new id(null,this.h))}function yi(l){return new ls(l)}function hg(l,f,g){l.j=g?nd(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function fg(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function Y2(l,f,g){f instanceof id?(l.i=f,function Kie(l,f){f&&!l.j&&(uo(l),l.i=null,l.g.forEach(function(g,_){var S=_.toLowerCase();_!=S&&(Z2(this,_),eU(this,S,g))},l)),l.j=f}(l.i,l.h)):(g||(f=rd(f,qie)),l.i=new id(f,l.h))}function Ke(l,f,g){l.i.set(f,g)}function pg(l){return Ke(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function nd(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function rd(l,f,g){return"string"==typeof l?(l=encodeURI(l).replace(f,Gie),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Gie(l){return"%"+((l=l.charCodeAt(0))>>4&15).toString(16)+(15&l).toString(16)}ls.prototype.toString=function(){var l=[],f=this.j;f&&l.push(rd(f,J2,!0),":");var g=this.g;return(g||"file"==f)&&(l.push("//"),(f=this.o)&&l.push(rd(f,J2,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(g=this.s)&&l.push(":",String(g))),(g=this.l)&&(this.g&&"/"!=g.charAt(0)&&l.push("/"),l.push(rd(g,"/"==g.charAt(0)?zie:Hie,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",rd(g,Wie)),l.join("")};var l,J2=/[#\/\?@]/g,Hie=/[#\?:]/g,zie=/[#\?]/g,qie=/[#\?@]/g,Wie=/#/g;function id(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function uo(l){l.g||(l.g=new Map,l.h=0,l.i&&function $ie(l,f){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var _=l[g].indexOf("="),S=null;if(0<=_){var N=l[g].substring(0,_);S=l[g].substring(_+1)}else N=l[g];f(N,S?decodeURIComponent(S.replace(/\+/g," ")):"")}}}(l.i,function(f,g){l.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}function Z2(l,f){uo(l),f=mu(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function X2(l,f){return uo(l),f=mu(l,f),l.g.has(f)}function eU(l,f,g){Z2(l,f),0<g.length&&(l.i=null,l.g.set(mu(l,f),I(g)),l.h+=g.length)}function mu(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function co(l,f,g,_,S){try{S&&(S.onload=null,S.onerror=null,S.onabort=null,S.ontimeout=null),_(g)}catch{}}function Jie(){this.g=new Nie}function Zie(l,f,g){const _=g||"";try{K2(l,function(S,N){let H=S;c(S)&&(H=tC(S)),f.push(_+N+"="+encodeURIComponent(H))})}catch(S){throw f.push(_+"type="+encodeURIComponent("_badmap")),S}}function od(l){this.l=l.Ub||null,this.j=l.eb||!1}function gg(l,f){Zt.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function tU(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}function sd(l){l.readyState=4,l.l=null,l.j=null,l.v=null,ad(l)}function ad(l){l.onreadystatechange&&l.onreadystatechange.call(l)}function nU(l){let f="";return X(l,function(g,_){f+=_,f+=":",f+=g,f+="\r\n"}),f}function hC(l,f,g){e:{for(_ in g){var _=!1;break e}_=!0}_||(g=nU(g),"string"==typeof l?null!=g&&encodeURIComponent(String(g)):Ke(l,f,g))}function at(l){Zt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=id.prototype).add=function(l,f){uo(this),this.i=null,l=mu(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(f),this.h+=1,this},n.forEach=function(l,f){uo(this),this.g.forEach(function(g,_){g.forEach(function(S){l.call(f,S,_,this)},this)},this)},n.na=function(){uo(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let _=0;_<f.length;_++){const S=l[_];for(let N=0;N<S.length;N++)g.push(f[_])}return g},n.V=function(l){uo(this);let f=[];if("string"==typeof l)X2(this,l)&&(f=f.concat(this.g.get(mu(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)f=f.concat(l[g])}return f},n.set=function(l,f){return uo(this),this.i=null,X2(this,l=mu(this,l))&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},n.get=function(l,f){return l&&0<(l=this.V(l)).length?String(l[0]):f},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var _=f[g];const N=encodeURIComponent(String(_)),H=this.V(_);for(_=0;_<H.length;_++){var S=N;""!==H[_]&&(S+="="+encodeURIComponent(String(H[_]))),l.push(S)}}return this.i=l.join("&")},y(od,nC),od.prototype.g=function(){return new gg(this.l,this.j)},od.prototype.i=(l={},function(){return l}),y(gg,Zt),(n=gg.prototype).open=function(l,f){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,ad(this)},n.send=function(l){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sd(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ad(this)),this.g&&(this.readyState=3,ad(this),this.g)))if("arraybuffer"===this.responseType)l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tU(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?sd(this):ad(this),3==this.readyState&&tU(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,sd(this))},n.Qa=function(l){this.g&&(this.response=l,sd(this))},n.ga=function(){this.g&&sd(this)},n.setRequestHeader=function(l,f){this.u.append(l,f)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var g=f.next();!g.done;)l.push((g=g.value)[0]+": "+g[1]),g=f.next();return l.join("\r\n")},Object.defineProperty(gg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(l){this.m=l?"include":"same-origin"}}),y(at,Zt);var Xie=/^https?$/i,eoe=["POST","PUT"];function rU(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,iU(l),mg(l)}function iU(l){l.A||(l.A=!0,fn(l,"complete"),fn(l,"error"))}function oU(l){if(l.h&&typeof s<"u"&&(!l.v[1]||4!=vi(l)||2!=l.Z()))if(l.u&&4==vi(l))b2(l.Ea,0,l);else if(fn(l,"readystatechange"),4==vi(l)){l.h=!1;try{const H=l.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var _;if(_=0===H){var S=String(l.D).match(Q2)[1]||null;!S&&a.self&&a.self.location&&(S=a.self.location.protocol.slice(0,-1)),_=!Xie.test(S?S.toLowerCase():"")}g=_}if(g)fn(l,"complete"),fn(l,"success");else{l.m=6;try{var N=2<vi(l)?l.g.statusText:""}catch{N=""}l.l=N+" ["+l.Z()+"]",iU(l)}}finally{mg(l)}}}function mg(l,f){if(l.g){sU(l);const g=l.g,_=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||fn(l,"ready");try{g.onreadystatechange=_}catch{}}}function sU(l){l.I&&(a.clearTimeout(l.I),l.I=null)}function vi(l){return l.g?l.g.readyState:0}function aU(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function ud(l,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||f}function uU(l){this.Aa=0,this.i=[],this.j=new ed,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ud("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ud("baseRetryDelayMs",5e3,l),this.cb=ud("retryDelaySeedMs",1e4,l),this.Wa=ud("forwardChannelMaxRetries",2,l),this.wa=ud("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new G2(l&&l.concurrentRequestLimit),this.Da=new Jie,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function fC(l){if(cU(l),3==l.G){var f=l.U++,g=yi(l.I);if(Ke(g,"SID",l.K),Ke(g,"RID",f),Ke(g,"TYPE","terminate"),cd(l,g),(f=new ao(l,l.j,f)).L=2,f.v=pg(yi(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&((new Image).src=f.v,g=!0),g||(f.g=yU(f.j,null),f.g.ea(f.v)),f.F=Date.now(),dg(f)}mU(l)}function _g(l){l.g&&(gC(l),l.g.cancel(),l.g=null)}function cU(l){_g(l),l.u&&(a.clearTimeout(l.u),l.u=null),vg(l),l.h.cancel(),l.s&&("number"==typeof l.s&&a.clearTimeout(l.s),l.s=null)}function yg(l){if(!H2(l.h)&&!l.s){l.s=!0;var f=l.Ga;ql||E2(),Wl||(ql(),Wl=!0),qD.add(f,l),l.B=0}}function lU(l,f){var g;g=f?f.l:l.U++;const _=yi(l.I);Ke(_,"SID",l.K),Ke(_,"RID",g),Ke(_,"AID",l.T),cd(l,_),l.m&&l.o&&hC(_,l.m,l.o),g=new ao(l,l.j,g,l.B+1),null===l.m&&(g.H=l.o),f&&(l.i=f.D.concat(l.i)),f=dU(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),dC(l.h,g),aC(g,_,f)}function cd(l,f){l.H&&X(l.H,function(g,_){Ke(f,_,g)}),l.l&&K2({},function(g,_){Ke(f,_,g)})}function dU(l,f,g){g=Math.min(l.i.length,g);var _=l.l?p(l.l.Na,l.l,l):null;e:{var S=l.i;let N=-1;for(;;){const H=["count="+g];-1==N?0<g?(N=S[0].g,H.push("ofs="+N)):N=0:H.push("ofs="+N);let Le=!0;for(let jt=0;jt<g;jt++){let De=S[jt].g;const Xt=S[jt].map;if(De-=N,0>De)N=Math.max(0,S[jt].g-100),Le=!1;else try{Zie(Xt,H,"req"+De+"_")}catch{_&&_(Xt)}}if(Le){_=H.join("&");break e}}}return l=l.i.splice(0,g),f.D=l,_}function hU(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;ql||E2(),Wl||(ql(),Wl=!0),qD.add(f,l),l.v=0}}function pC(l){return!(l.g||l.u||3<=l.v||(l.Y++,l.u=Xl(p(l.Fa,l),gU(l,l.v)),l.v++,0))}function gC(l){null!=l.A&&(a.clearTimeout(l.A),l.A=null)}function fU(l){l.g=new ao(l,l.j,"rpc",l.Y),null===l.m&&(l.g.H=l.o),l.g.O=0;var f=yi(l.qa);Ke(f,"RID","rpc"),Ke(f,"SID",l.K),Ke(f,"AID",l.T),Ke(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ke(f,"TO",l.ja),Ke(f,"TYPE","xmlhttp"),cd(l,f),l.m&&l.o&&hC(f,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=pg(yi(f)),g.m=null,g.P=!0,B2(g,l)}function vg(l){null!=l.C&&(a.clearTimeout(l.C),l.C=null)}function pU(l,f){var g=null;if(l.g==f){vg(l),gC(l),l.g=null;var _=2}else{if(!lC(l.h,f))return;g=f.D,q2(l.h,f),_=1}if(0!=l.G)if(f.o)if(1==_){g=f.m?f.m.length:0,f=Date.now()-f.F;var S=l.B;fn(_=ug(),new V2(_,g)),yg(l)}else hU(l);else if(3==(S=f.s)||0==S&&0<f.X||!(1==_&&function noe(l,f){return!(z2(l.h)>=l.h.j-(l.s?1:0)||(l.s?(l.i=f.D.concat(l.i),0):1==l.G||2==l.G||l.B>=(l.Va?0:l.Wa)||(l.s=Xl(p(l.Ga,l,f),gU(l,l.B)),l.B++,0)))}(l,f)||2==_&&pC(l)))switch(g&&0<g.length&&(f=l.h,f.i=f.i.concat(g)),S){case 1:ds(l,5);break;case 4:ds(l,10);break;case 3:ds(l,6);break;default:ds(l,2)}}function gU(l,f){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*f}function ds(l,f){if(l.j.info("Error code "+f),2==f){var g=p(l.fb,l),_=l.Xa;const S=!_;_=new ls(_||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||hg(_,"https"),pg(_),S?function Qie(l,f){const g=new ed;if(a.Image){const _=new Image;_.onload=m(co,g,"TestLoadImage: loaded",!0,f,_),_.onerror=m(co,g,"TestLoadImage: error",!1,f,_),_.onabort=m(co,g,"TestLoadImage: abort",!1,f,_),_.ontimeout=m(co,g,"TestLoadImage: timeout",!1,f,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=l}else f(!1)}(_.toString(),g):function Yie(l,f){new ed;const _=new AbortController,S=setTimeout(()=>{_.abort(),co(0,0,!1,f)},1e4);fetch(l,{signal:_.signal}).then(N=>{clearTimeout(S),co(0,0,!!N.ok,f)}).catch(()=>{clearTimeout(S),co(0,0,!1,f)})}(_.toString(),g)}else pn(2);l.G=0,l.l&&l.l.sa(f),mU(l),cU(l)}function mU(l){if(l.G=0,l.ka=[],l.l){const f=W2(l.h);(0!=f.length||0!=l.i.length)&&(E(l.ka,f),E(l.ka,l.i),l.h.i.length=0,I(l.i),l.i.length=0),l.l.ra()}}function _U(l,f,g){var _=g instanceof ls?yi(g):new ls(g);if(""!=_.g)f&&(_.g=f+"."+_.g),fg(_,_.s);else{var S=a.location;_=S.protocol,f=f?f+"."+S.hostname:S.hostname,S=+S.port;var N=new ls(null);_&&hg(N,_),f&&(N.g=f),S&&fg(N,S),g&&(N.l=g),_=N}return f=l.ya,(g=l.D)&&f&&Ke(_,g,f),Ke(_,"VER",l.la),cd(l,_),_}function yU(l,f,g){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return(f=new at(l.Ca&&!l.pa?new od({eb:g}):l.pa)).Ha(l.J),f}function vU(){}function Ig(){}function Bn(l,f){Zt.call(this),this.g=new uU(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!C(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!C(f)&&(this.g.D=f,null!==(l=this.h)&&f in l&&f in(l=this.h)&&delete l[f]),this.j=new _u(this)}function IU(l){rC.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const g in f){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,f=null!==f&&l in f?f[l]:void 0),this.data=f}else this.data=l}function EU(){iC.call(this),this.status=1}function _u(l){this.g=l}(n=at.prototype).Ha=function(l){this.J=l},n.ea=function(l,f,g,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():oC.g(),this.v=function M2(l){return l.h||(l.h=l.i())}(this.o?this.o:oC),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(N){return void rU(this,N)}if(l=g||"",g=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var S in _)g.set(S,_[S]);else{if("function"!=typeof _.keys||"function"!=typeof _.get)throw Error("Unknown input type for opt_headers: "+String(_));for(const N of _.keys())g.set(N,_.get(N))}_=Array.from(g.keys()).find(N=>"content-type"==N.toLowerCase()),S=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(eoe,f,void 0))||_||S||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[N,H]of g)this.g.setRequestHeader(N,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sU(this),this.u=!0,this.g.send(l),this.u=!1}catch(N){rU(this,N)}},n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,fn(this,"complete"),fn(this,"abort"),mg(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mg(this,!0)),at.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?oU(this):this.bb())},n.bb=function(){oU(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<vi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&0==f.indexOf(l)&&(f=f.substring(l.length)),xie(f)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=uU.prototype).la=8,n.G=1,n.connect=function(l,f,g,_){pn(0),this.W=l,this.H=f||{},g&&void 0!==_&&(this.H.OSID=g,this.H.OAID=_),this.F=this.X,this.I=_U(this,null,this.W),yg(this)},n.Ga=function(l){if(this.s)if(this.s=null,1==this.G){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const S=new ao(this,this.j,l);let N=this.o;if(this.S&&(N?(N=v(N),A(N,this.S)):N=this.S),null!==this.m||this.O||(S.H=N,N=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){var _=this.i[g];if(void 0===(_="__data__"in _.map&&"string"==typeof(_=_.map.__data__)?_.length:void 0))break;if(4096<(f+=_)){f=g;break e}if(4096===f||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=dU(this,S,f),Ke(g=yi(this.I),"RID",l),Ke(g,"CVER",22),this.D&&Ke(g,"X-HTTP-Session-Id",this.D),cd(this,g),N&&(this.O?f="headers="+encodeURIComponent(String(nU(N)))+"&"+f:this.m&&hC(g,this.m,N)),dC(this.h,S),this.Ua&&Ke(g,"TYPE","init"),this.P?(Ke(g,"$req",f),Ke(g,"SID","null"),S.T=!0,aC(S,g,null)):aC(S,g,f),this.G=2}}else 3==this.G&&(l?lU(this,l):0==this.i.length||H2(this.h)||lU(this))},n.Fa=function(){if(this.u=null,fU(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Xl(p(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pn(10),_g(this),fU(this))},n.Za=function(){null!=this.C&&(this.C=null,_g(this),pC(this),pn(19))},n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),pn(2)):(this.j.info("Failed to ping google.com"),pn(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=vU.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},Ig.prototype.g=function(l,f){return new Bn(l,f)},y(Bn,Zt),Bn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bn.prototype.close=function(){fC(this.g)},Bn.prototype.o=function(l){var f=this.g;if("string"==typeof l){var g={};g.__data__=l,l=g}else this.u&&((g={}).__data__=tC(l),l=g);f.i.push(new class{constructor(l,f){this.g=l,this.map=f}}(f.Ya++,l)),3==f.G&&yg(f)},Bn.prototype.N=function(){this.g.l=null,delete this.j,fC(this.g),delete this.g,Bn.aa.N.call(this)},y(IU,rC),y(EU,iC),y(_u,vU),_u.prototype.ua=function(){fn(this.g,"a")},_u.prototype.ta=function(l){fn(this.g,new IU(l))},_u.prototype.sa=function(l){fn(this.g,new EU)},_u.prototype.ra=function(){fn(this.g,"b")},Ig.prototype.createWebChannel=Ig.prototype.g,Bn.prototype.send=Bn.prototype.o,Bn.prototype.open=Bn.prototype.m,Bn.prototype.close=Bn.prototype.close,jk=ci.createWebChannelTransport=function(){return new Ig},Bk=ci.getStatEventTarget=function(){return ug()},Uk=ci.Event=us,Cw=ci.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cg.NO_ERROR=0,cg.TIMEOUT=8,cg.HTTP_ERROR=6,sp=ci.ErrorCode=cg,F2.COMPLETE="complete",Lk=ci.EventType=F2,x2.EventType=Jl,Jl.OPEN="a",Jl.CLOSE="b",Jl.ERROR="c",Jl.MESSAGE="d",Zt.prototype.listen=Zt.prototype.K,ul=ci.WebChannel=x2,Fk=ci.FetchXmlHttpFactory=od,at.prototype.listenOnce=at.prototype.L,at.prototype.getLastError=at.prototype.Ka,at.prototype.getLastErrorCode=at.prototype.Ba,at.prototype.getStatus=at.prototype.Z,at.prototype.getResponseJson=at.prototype.Oa,at.prototype.getResponseText=at.prototype.oa,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Ha,Vk=ci.XhrIo=at}).apply(typeof op<"u"?op:typeof self<"u"?self:typeof window<"u"?window:{});const $k="@firebase/firestore";class bt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bt.UNAUTHENTICATED=new bt(null),bt.GOOGLE_CREDENTIALS=new bt("google-credentials-uid"),bt.FIRST_PARTY=new bt("first-party-uid"),bt.MOCK_USER=new bt("mock-user");let Pa="10.12.3";const zi=new Jv("@firebase/firestore");function Ma(){return zi.logLevel}function F(n,...e){if(zi.logLevel<=ve.DEBUG){const t=e.map(Aw);zi.debug(`Firestore (${Pa}): ${n}`,...t)}}function ht(n,...e){if(zi.logLevel<=ve.ERROR){const t=e.map(Aw);zi.error(`Firestore (${Pa}): ${n}`,...t)}}function Fn(n,...e){if(zi.logLevel<=ve.WARN){const t=e.map(Aw);zi.warn(`Firestore (${Pa}): ${n}`,...t)}}function Aw(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function K(n="Unexpected state"){const e=`FIRESTORE (${Pa}) INTERNAL ASSERTION FAILED: `+n;throw ht(e),new Error(e)}function J(n,e){n||K()}function G(n,e){return n}const x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class L extends ji{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Tt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Gk{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(bt.UNAUTHENTICATED))}shutdown(){}}class gee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class mee{constructor(e){this.t=e,this.currentUser=bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const o=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let s=new Tt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Tt,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(O(function*(){yield c.promise,yield o(r.currentUser)}))},u=c=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Tt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(J("string"==typeof r.accessToken),new Gk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return J(null===e||"string"==typeof e),new bt(e)}}class _ee{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=bt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class yee{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new _ee(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Hk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vee{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=o=>{null!=o.error&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,F("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(J("string"==typeof t.token),this.R=t.token,new Hk(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Iee(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class zk{static newId(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=Iee(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function ae(n,e){return n<e?-1:n>e?1:0}function xa(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class tt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new L(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new L(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new L(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new tt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Z(e)}static min(){return new Z(new tt(0,0))}static max(){return new Z(new tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class cl{constructor(e,t,r){void 0===t?t=0:t>e.length&&K(),void 0===r?r=e.length-t:r>e.length-t&&K(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===cl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof cl?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class _e extends cl{construct(e,t,r){return new _e(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new L(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new _e(t)}static emptyPath(){return new _e([])}}const Eee=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends cl{construct(e,t,r){return new Je(e,t,r)}static isValidIdentifier(e){return Eee.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Je(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(0===r.length)throw new L(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new L(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new L(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new L(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Je(t)}static emptyPath(){return new Je([])}}class z{constructor(e){this.path=e}static fromPath(e){return new z(_e.fromString(e))}static fromName(e){return new z(_e.fromString(e).popFirst(5))}static empty(){return new z(_e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===_e.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return _e.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new z(new _e(e.slice()))}}function Kk(n){return new Ln(n.readTime,n.key,-1)}class Ln{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ln(Z.min(),z.empty(),-1)}static max(){return new Ln(Z.max(),z.empty(),-1)}}function Sw(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=z.comparator(n.documentKey,e.documentKey),0!==t?t:ae(n.largestBatchId,e.largestBatchId))}const Qk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Dee{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function qi(n){return Rw.apply(this,arguments)}function Rw(){return Rw=O(function*(n){if(n.code!==x.FAILED_PRECONDITION||n.message!==Qk)throw n;F("LocalStore","Unexpectedly lost primary lease")}),Rw.apply(this,arguments)}class R{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&K(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new R((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof R?t:R.resolve(t)}catch(t){return R.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):R.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):R.reject(t)}static resolve(e){return new R((t,r)=>{t(e)})}static reject(e){return new R((t,r)=>{r(e)})}static waitFor(e){return new R((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=R.resolve(!1);for(const r of e)t=t.next(i=>i?R.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new R((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;t(e[c]).next(d=>{s[c]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,t){return new R((r,i)=>{const o=()=>{!0===e()?t().next(()=>{o()},i):r()};o()})}}function Wi(n){return"IndexedDbTransactionError"===n.name}let Un=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function dl(n){return null==n}function hl(n){return 0===n&&1/n==-1/0}function oV(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ki(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function aV(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class He{constructor(e,t){this.comparator=e,this.root=t||Lt.EMPTY}insert(e,t){return new He(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new He(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cp(this.root,e,this.comparator,!1)}getReverseIterator(){return new cp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cp(this.root,e,this.comparator,!0)}}class cp{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Lt.RED,this.left=i??Lt.EMPTY,this.right=o??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Lt(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Lt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw K();const e=this.left.check();if(e!==this.right.check())throw K();return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1,Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw K()}get value(){throw K()}get color(){throw K()}get left(){throw K()}get right(){throw K()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Lt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ke{constructor(e){this.comparator=e,this.data=new He(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new uV(this.data.getIterator())}getIteratorFrom(e){return new uV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ke)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ke(this.comparator);return t.data=e,t}}class uV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cn{constructor(e){this.fields=e,e.sort(Je.comparator)}static empty(){return new Cn([])}unionWith(e){let t=new ke(Je.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Cn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return xa(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class cV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Dt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new cV("Invalid base64 string: "+o):o}}(e);return new Dt(t)}static fromUint8Array(e){const t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Dt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dt.EMPTY_BYTE_STRING=new Dt("");const Kee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function li(n){if(J(!!n),"string"==typeof n){let e=0;const t=Kee.exec(n);if(J(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:st(n.seconds),nanos:st(n.nanos)}}function st(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function di(n){return"string"==typeof n?Dt.fromBase64String(n):Dt.fromUint8Array(n)}function lp(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function dp(n){const e=n.mapValue.fields.__previous_value__;return lp(e)?dp(e):e}function fl(n){const e=li(n.mapValue.fields.__local_write_time__.timestampValue);return new tt(e.seconds,e.nanos)}class Qee{constructor(e,t,r,i,o,s,a,u,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Wo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Wo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Wo&&e.projectId===this.projectId&&e.database===this.database}}const Qi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Yi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?lp(n)?4:fV(n)?9007199254740991:10:K()}function Vr(n,e){if(n===e)return!0;const t=Yi(n);if(t!==Yi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return fl(n).isEqual(fl(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=li(i.timestampValue),a=li(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,di(n.bytesValue).isEqual(di(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return st(i.geoPointValue.latitude)===st(o.geoPointValue.latitude)&&st(i.geoPointValue.longitude)===st(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return st(i.integerValue)===st(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=st(i.doubleValue),a=st(o.doubleValue);return s===a?hl(s)===hl(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return xa(n.arrayValue.values||[],e.arrayValue.values||[],Vr);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(oV(s)!==oV(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(void 0===a[u]||!Vr(s[u],a[u])))return!1;return!0}(n,e);default:return K()}var o}function pl(n,e){return void 0!==(n.values||[]).find(t=>Vr(t,e))}function Ji(n,e){if(n===e)return 0;const t=Yi(n),r=Yi(e);if(t!==r)return ae(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ae(n.booleanValue,e.booleanValue);case 2:return function(o,s){const a=st(o.integerValue||o.doubleValue),u=st(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return lV(n.timestampValue,e.timestampValue);case 4:return lV(fl(n),fl(e));case 5:return ae(n.stringValue,e.stringValue);case 6:return function(o,s){const a=di(o),u=di(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=ae(a[c],u[c]);if(0!==d)return d}return ae(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){const a=ae(st(o.latitude),st(s.latitude));return 0!==a?a:ae(st(o.longitude),st(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],u=s.values||[];for(let c=0;c<a.length&&c<u.length;++c){const d=Ji(a[c],u[c]);if(d)return d}return ae(a.length,u.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Qi.mapValue&&s===Qi.mapValue)return 0;if(o===Qi.mapValue)return 1;if(s===Qi.mapValue)return-1;const a=o.fields||{},u=Object.keys(a),c=s.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let h=0;h<u.length&&h<d.length;++h){const p=ae(u[h],d[h]);if(0!==p)return p;const m=Ji(a[u[h]],c[d[h]]);if(0!==m)return m}return ae(u.length,d.length)}(n.mapValue,e.mapValue);default:throw K()}}function lV(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ae(n,e);const t=li(n),r=li(e),i=ae(t.seconds,r.seconds);return 0!==i?i:ae(t.nanos,r.nanos)}function Va(n){return xw(n)}function xw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=li(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?di(n.bytesValue).toBase64():"referenceValue"in n?z.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=xw(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${xw(t.fields[s])}`;return i+"}"}(n.mapValue):K()}function Nw(n){return!!n&&"integerValue"in n}function gl(n){return!!n&&"arrayValue"in n}function dV(n){return!!n&&"nullValue"in n}function hV(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function pp(n){return!!n&&"mapValue"in n}function ml(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ki(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ml(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ml(n.arrayValue.values[t]);return e}return Object.assign({},n)}function fV(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ut{constructor(e){this.value=e}static empty(){return new Ut({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!pp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ml(t)}setAll(e){let t=Je.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=ml(s):i.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());pp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];pp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ki(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Ut(ml(this.value))}}function mV(n){const e=[];return Ki(n.fields,(t,r)=>{const i=new Je([t]);if(pp(r)){const o=mV(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Cn(e)}class We{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new We(e,0,Z.min(),Z.min(),Z.min(),Ut.empty(),0)}static newFoundDocument(e,t,r,i){return new We(e,1,t,Z.min(),r,i,0)}static newNoDocument(e,t){return new We(e,2,t,Z.min(),Z.min(),Ut.empty(),0)}static newUnknownDocument(e,t){return new We(e,3,t,Z.min(),Z.min(),Ut.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Z.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ut.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ut.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof We&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zi{constructor(e,t){this.position=e,this.inclusive=t}}function _V(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],s=n.position[i];if(r=o.field.isKeyField()?z.comparator(z.fromName(s.referenceValue),t.key):Ji(s,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function yV(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Vr(n.position[t],e.position[t]))return!1;return!0}class _l{constructor(e,t="asc"){this.field=e,this.dir=t}}function Zee(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class vV{}class ye extends vV{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Xee(e,t,r):"array-contains"===t?new nte(e,r):"in"===t?new CV(e,r):"not-in"===t?new rte(e,r):"array-contains-any"===t?new ite(e,r):new ye(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new ete(e,r):new tte(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ji(t,this.value)):null!==t&&Yi(this.value)===Yi(t)&&this.matchesComparison(Ji(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return K()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ne extends vV{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Ne(e,t)}matches(e){return Fa(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Fa(n){return"and"===n.op}function kw(n){return function IV(n){for(const e of n.filters)if(e instanceof Ne)return!1;return!0}(n)&&Fa(n)}function Vw(n){if(n instanceof ye)return n.field.canonicalString()+n.op.toString()+Va(n.value);if(kw(n))return n.filters.map(e=>Vw(e)).join(",");{const e=n.filters.map(t=>Vw(t)).join(",");return`${n.op}(${e})`}}function EV(n,e){return n instanceof ye?(r=n,(i=e)instanceof ye&&r.op===i.op&&r.field.isEqual(i.field)&&Vr(r.value,i.value)):n instanceof Ne?function(r,i){return i instanceof Ne&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&EV(s,i.filters[a]),!0)}(n,e):void K();var r,i}function TV(n){return n instanceof ye?`${(t=n).field.canonicalString()} ${t.op} ${Va(t.value)}`:n instanceof Ne?function(t){return t.op.toString()+" {"+t.getFilters().map(TV).join(" ,")+"}"}(n):"Filter";var t}class Xee extends ye{constructor(e,t,r){super(e,t,r),this.key=z.fromName(r.referenceValue)}matches(e){const t=z.comparator(e.key,this.key);return this.matchesComparison(t)}}class ete extends ye{constructor(e,t){super(e,"in",t),this.keys=DV(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class tte extends ye{constructor(e,t){super(e,"not-in",t),this.keys=DV(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function DV(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>z.fromName(r.referenceValue))}class nte extends ye{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return gl(t)&&pl(t.arrayValue,this.value)}}class CV extends ye{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&pl(this.value.arrayValue,t)}}class rte extends ye{constructor(e,t){super(e,"not-in",t)}matches(e){if(pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!pl(this.value.arrayValue,t)}}class ite extends ye{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!gl(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>pl(this.value.arrayValue,r))}}class ote{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function Fw(n,e=null,t=[],r=[],i=null,o=null,s=null){return new ote(n,e,t,r,i,o,s)}function Qo(n){const e=G(n);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Vw(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),dl(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Va(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Va(r)).join(",")),e.ue=t}return e.ue}function yl(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Zee(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!EV(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!yV(n.startAt,e.startAt)&&yV(n.endAt,e.endAt)}function gp(n){return z.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class hi{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null}}function La(n){return new hi(n)}function RV(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Ua(n){const e=G(n);if(null===e.ce){e.ce=[];const t=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ke(Je.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new _l(o,r))}),t.has(Je.keyField().canonicalString())||e.ce.push(new _l(Je.keyField(),r))}return e.ce}function Kt(n){const e=G(n);return e.le||(e.le=function MV(n,e){if("F"===n.limitType)return Fw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new _l(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new Zi(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Zi(n.startAt.position,n.startAt.inclusive):null;return Fw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,Ua(n))),e.le}function _p(n,e,t){return new hi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function vl(n,e){return yl(Kt(n),Kt(e))&&n.limitType===e.limitType}function xV(n){return`${Qo(Kt(n))}|lt:${n.limitType}`}function Ba(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>TV(i)).join(", ")}]`),dl(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Va(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Va(i)).join(",")),`Target(${r})`}(Kt(n))}; limitType=${n.limitType})`}function Il(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):z.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of Ua(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(s,a,u){const c=_V(s,a,u);return s.inclusive?c<=0:c<0}(r.startAt,Ua(r),i)||r.endAt&&!function(s,a,u){const c=_V(s,a,u);return s.inclusive?c>=0:c>0}(r.endAt,Ua(r),i)));var r,i}function OV(n){return(e,t)=>{let r=!1;for(const i of Ua(n)){const o=ste(i,e,t);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function ste(n,e,t){const r=n.field.isKeyField()?z.comparator(e.key,t.key):function(o,s,a){const u=s.data.field(o),c=a.data.field(o);return null!==u&&null!==c?Ji(u,c):K()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return K()}}class fi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ki(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return aV(this.inner)}size(){return this.innerSize}}const ate=new He(z.comparator);function An(){return ate}const kV=new He(z.comparator);function El(...n){let e=kV;for(const t of n)e=e.insert(t.key,t);return e}function VV(n){let e=kV;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Fr(){return wl()}function FV(){return wl()}function wl(){return new fi(n=>n.toString(),(n,e)=>n.isEqual(e))}const ute=new He(z.comparator),cte=new ke(z.comparator);function fe(...n){let e=cte;for(const t of n)e=e.add(t);return e}const lte=new ke(ae);function LV(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hl(e)?"-0":e}}function UV(n){return{integerValue:""+n}}function BV(n,e){return function Zk(n){return"number"==typeof n&&Number.isInteger(n)&&!hl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?UV(e):LV(n,e)}class yp{constructor(){this._=void 0}}function dte(n,e,t){return n instanceof ja?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&lp(o)&&(o=dp(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Yo?$V(n,e):n instanceof Jo?GV(n,e):function(i,o){const s=jV(i,o),a=HV(s)+HV(i.Pe);return Nw(s)&&Nw(i.Pe)?UV(a):LV(i.serializer,a)}(n,e)}function hte(n,e,t){return n instanceof Yo?$V(n,e):n instanceof Jo?GV(n,e):t}function jV(n,e){return n instanceof $a?Nw(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class ja extends yp{}class Yo extends yp{constructor(e){super(),this.elements=e}}function $V(n,e){const t=zV(e);for(const r of n.elements)t.some(i=>Vr(i,r))||t.push(r);return{arrayValue:{values:t}}}class Jo extends yp{constructor(e){super(),this.elements=e}}function GV(n,e){let t=zV(e);for(const r of n.elements)t=t.filter(i=>!Vr(i,r));return{arrayValue:{values:t}}}class $a extends yp{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function HV(n){return st(n.integerValue||n.doubleValue)}function zV(n){return gl(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class pte{constructor(e,t){this.version=e,this.transformResults=t}}class Ze{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ze}static exists(e){return new Ze(void 0,e)}static updateTime(e){return new Ze(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Ip{}function qV(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ha(n.key,Ze.none()):new Ga(n.key,n.data,Ze.none());{const t=n.data,r=Ut.empty();let i=new ke(Je.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new pi(n.key,r,new Cn(i.toArray()),Ze.none())}}function gte(n,e,t){n instanceof Ga?function(i,o,s){const a=i.value.clone(),u=QV(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof pi?function(i,o,s){if(!vp(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=QV(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(KV(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Dl(n,e,t,r){return n instanceof Ga?function(o,s,a,u){if(!vp(o.precondition,s))return a;const c=o.value.clone(),d=YV(o.fieldTransforms,u,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof pi?function(o,s,a,u){if(!vp(o.precondition,s))return a;const c=YV(o.fieldTransforms,u,s),d=s.data;return d.setAll(KV(o)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(n,e,t,r):(a=t,vp(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function mte(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=jV(r.transform,i||null);null!=o&&(null===t&&(t=Ut.empty()),t.set(r.field,o))}return t||null}function WV(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&xa(r,i,(o,s)=>function fte(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof Yo&&i instanceof Yo||r instanceof Jo&&i instanceof Jo?xa(r.elements,i.elements,Vr):r instanceof $a&&i instanceof $a?Vr(r.Pe,i.Pe):r instanceof ja&&i instanceof ja);var r,i}(o,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class Ga extends Ip{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class pi extends Ip{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function KV(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function QV(n,e,t){const r=new Map;J(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,hte(s,a,t[i]))}return r}function YV(n,e,t){const r=new Map;for(const i of n){const o=i.transform,s=t.data.field(i.field);r.set(i.field,dte(o,s,e))}return r}class Ha extends Ip{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jw extends Ip{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $w{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&gte(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Dl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Dl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=FV();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;const u=qV(s,a);null!==u&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),fe())}isEqual(e){return this.batchId===e.batchId&&xa(this.mutations,e.mutations,(t,r)=>WV(t,r))&&xa(this.baseMutations,e.baseMutations,(t,r)=>WV(t,r))}}class Gw{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){J(e.mutations.length===r.length);let i=ute;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Gw(e,t,r,i)}}class Hw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class _te{constructor(e,t){this.count=e,this.unchangedNames=t}}var yt,we;function XV(n){if(void 0===n)return ht("GRPC error has no .code"),x.UNKNOWN;switch(n){case yt.OK:return x.OK;case yt.CANCELLED:return x.CANCELLED;case yt.UNKNOWN:return x.UNKNOWN;case yt.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case yt.INTERNAL:return x.INTERNAL;case yt.UNAVAILABLE:return x.UNAVAILABLE;case yt.UNAUTHENTICATED:return x.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case yt.NOT_FOUND:return x.NOT_FOUND;case yt.ALREADY_EXISTS:return x.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return x.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case yt.ABORTED:return x.ABORTED;case yt.OUT_OF_RANGE:return x.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return x.UNIMPLEMENTED;case yt.DATA_LOSS:return x.DATA_LOSS;default:return K()}}(we=yt||(yt={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";const yte=new Go([4294967295,4294967295],0);function tF(n){const e=function eF(){return new TextEncoder}().encode(n),t=new kk;return t.update(e),new Uint8Array(t.digest())}function nF(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Go([t,r],0),new Go([i,o],0)]}class zw{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Cl(`Invalid padding: ${t}`);if(r<0)throw new Cl(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Cl(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Cl(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Go.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(Go.fromNumber(r)));return 1===i.compare(yte)&&(i=new Go([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=tF(e),[r,i]=nF(t);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new zw(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Ie)return;const t=tF(e),[r,i]=nF(t);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Al{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,bl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Al(Z.min(),i,new He(ae),An(),fe())}}class bl{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new bl(r,t,fe(),fe(),fe())}}class wp{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class rF{constructor(e,t){this.targetId=e,this.me=t}}class iF{constructor(e,t,r=Dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class oF{constructor(){this.fe=0,this.ge=aF(),this.pe=Dt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=fe(),t=fe(),r=fe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:K()}}),new bl(this.pe,this.ye,e,t,r)}ve(){this.we=!1,this.ge=aF()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,J(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class vte{constructor(e){this.Le=e,this.Be=new Map,this.ke=An(),this.qe=sF(),this.Qe=new He(ae)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:K()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){const t=e.targetId,r=e.me.count,i=this.Je(t);if(i){const o=i.target;if(gp(o))if(0===r){const s=new z(o.path);this.Ue(t,s,We.newNoDocument(s,Z.min()))}else J(1===r);else{const s=this.Ye(t);if(s!==r){const a=this.Ze(e),u=a?this.Xe(a,e,s):1;0!==u&&(this.je(t),this.Qe=this.Qe.insert(t,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let s,a;try{s=di(r).toUint8Array()}catch(u){if(u instanceof cV)return Fn("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new zw(s,i,o)}catch(u){return Fn(u instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Ie?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){const t=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&gp(a.target)){const u=new z(a.target.path);null!==this.ke.get(u)||this.it(s,u)||this.Ue(s,u,We.newNoDocument(u,e))}o.be&&(t.set(s,o.Ce()),o.ve())}});let r=fe();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const c=this.Je(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Al(e,t,this.Qe,this.ke,r);return this.ke=An(),this.qe=sF(),this.Qe=new He(ae),i}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new oF,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new ke(ae),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||F("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new oF),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function sF(){return new He(z.comparator)}function aF(){return new He(z.comparator)}const Ite={asc:"ASCENDING",desc:"DESCENDING"},Ete={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wte={and:"AND",or:"OR"};class Tte{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function qw(n,e){return n.useProto3Json||dl(e)?e:{value:e}}function za(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uF(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Dte(n,e){return za(n,e.toTimestamp())}function ft(n){return J(!!n),Z.fromTimestamp(function(t){const r=li(t);return new tt(r.seconds,r.nanos)}(n))}function Ww(n,e){return Kw(n,e).canonicalString()}function Kw(n,e){const t=(i=n,new _e(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?t:t.child(e)}function cF(n){const e=_e.fromString(n);return J(IF(e)),e}function Sl(n,e){return Ww(n.databaseId,e.path)}function Lr(n,e){const t=cF(e);if(t.get(1)!==n.databaseId.projectId)throw new L(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new L(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new z(hF(t))}function lF(n,e){return Ww(n.databaseId,e)}function Qw(n){return new _e(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function hF(n){return J(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function fF(n,e,t){return{name:Sl(n,e),fields:t.value.mapValue.fields}}function gF(n,e){return{documents:[lF(n,e.path)]}}function Tp(n,e){const t={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=lF(n,i);const o=function(c){if(0!==c.length)return vF(Ne.create(c,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const s=function(c){if(0!==c.length)return c.map(d=>{return{field:Xi((p=d).field),direction:Rte(p.dir)};var p})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const a=qw(n,e.limit);return null!==a&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:t,parent:i};var c}function _F(n){let e=function dF(n){const e=cF(n);return 4===e.length?_e.emptyPath():hF(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){J(1===r);const d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];t.where&&(o=function(h){const p=yF(h);return p instanceof Ne&&kw(p)?p.getFilters():[p]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(p=>{return new _l(qa((y=p).field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction));var y}));let a=null;t.limit&&(a=function(h){let p;return p="object"==typeof h?h.value:h,dl(p)?null:p}(t.limit));let u=null;var h;t.startAt&&(u=new Zi((h=t.startAt).values||[],!!h.before));let c=null;return t.endAt&&(c=function(h){return new Zi(h.values||[],!h.before)}(t.endAt)),function SV(n,e,t,r,i,o,s,a){return new hi(n,e,t,r,i,o,s,a)}(e,i,s,o,a,"F",u,c)}function yF(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=qa(t.unaryFilter.field);return ye.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=qa(t.unaryFilter.field);return ye.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=qa(t.unaryFilter.field);return ye.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=qa(t.unaryFilter.field);return ye.create(s,"!=",{nullValue:"NULL_VALUE"});default:return K()}}(n):void 0!==n.fieldFilter?ye.create(qa((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return K()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Ne.create(t.compositeFilter.filters.map(r=>yF(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return K()}}(t.compositeFilter.op))}(n):K();var t}function Rte(n){return Ite[n]}function Pte(n){return Ete[n]}function Mte(n){return wte[n]}function Xi(n){return{fieldPath:n.canonicalString()}}function qa(n){return Je.fromServerFormat(n.fieldPath)}function vF(n){return n instanceof ye?function(t){if("=="===t.op){if(hV(t.value))return{unaryFilter:{field:Xi(t.field),op:"IS_NAN"}};if(dV(t.value))return{unaryFilter:{field:Xi(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(hV(t.value))return{unaryFilter:{field:Xi(t.field),op:"IS_NOT_NAN"}};if(dV(t.value))return{unaryFilter:{field:Xi(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xi(t.field),op:Pte(t.op),value:t.value}}}(n):n instanceof Ne?function(t){const r=t.getFilters().map(i=>vF(i));return 1===r.length?r[0]:{compositeFilter:{op:Mte(t.op),filters:r}}}(n):K()}function xte(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function IF(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class gi{constructor(e,t,r,i,o=Z.min(),s=Z.min(),a=Dt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class EF{constructor(e){this.ct=e}}function Jw(n){const e=_F({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?_p(e,e.limit,"L"):e}class ts{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(st(e.integerValue));else if("doubleValue"in e){const r=st(e.doubleValue);isNaN(r)?this.Et(t,13):(this.Et(t,15),hl(r)?t.dt(0):t.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(t,20),"string"==typeof r&&(r=li(r)),t.At(`${r.seconds||""}`),t.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(di(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(t,45),t.dt(r.latitude||0),t.dt(r.longitude||0)}else"mapValue"in e?fV(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):K()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const r=e.fields||{};this.Et(t,55);for(const i of Object.keys(r))this.Rt(i,t),this.It(r[i],t)}wt(e,t){const r=e.values||[];this.Et(t,50);for(const i of r)this.It(i,t)}gt(e,t){this.Et(t,37),z.fromName(e).path.forEach(r=>{this.Et(t,60),this.St(r,t)})}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}ts.bt=new ts;class Bte{constructor(){this._n=new rT}addToCollectionParentIndex(e,t){return this._n.add(t),R.resolve()}getCollectionParents(e,t){return R.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return R.resolve()}deleteFieldIndex(e,t){return R.resolve()}deleteAllFieldIndexes(e){return R.resolve()}createTargetIndexes(e,t){return R.resolve()}getDocumentsMatchingTarget(e,t){return R.resolve(null)}getIndexType(e,t){return R.resolve(0)}getFieldIndexes(e,t){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,t){return R.resolve(Ln.min())}getMinOffsetFromCollectionGroup(e,t){return R.resolve(Ln.min())}updateCollectionGroup(e,t,r){return R.resolve()}updateIndexEntries(e,t){return R.resolve()}}class rT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ke(_e.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ke(_e.comparator)).toArray()}}new Uint8Array(0);class Qt{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Qt(e,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Qt.DEFAULT_COLLECTION_PERCENTILE=10,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qt.DEFAULT=new Qt(41943040,Qt.DEFAULT_COLLECTION_PERCENTILE,Qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qt.DISABLED=new Qt(-1,0,0);class rs{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new rs(0)}static Ln(){return new rs(-1)}}class qte{constructor(){this.changes=new fi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,We.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?R.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Qte{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class KF{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Dl(r.mutation,i,Cn.empty(),tt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,t,r=fe()){const i=Fr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=El();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const r=Fr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,fe()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=An();const s=wl(),a=wl();return t.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(void 0===d||d.mutation instanceof pi)?o=o.insert(c.key,c):void 0!==d?(s.set(c.key,d.mutation.getFieldMask()),Dl(d.mutation,c,d.mutation.getFieldMask(),tt.now())):s.set(c.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,d)=>s.set(c,d)),t.forEach((c,d)=>{var h;return a.set(c,new Qte(d,null!==(h=s.get(c))&&void 0!==h?h:null))}),a))}recalculateAndSaveOverlays(e,t){const r=wl();let i=new He((s,a)=>s-a),o=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(u=>{const c=t.get(u);if(null===c)return;let d=r.get(u)||Cn.empty();d=a.applyToLocalView(c,d),r.set(u,d);const h=(i.get(a.batchId)||fe()).add(u);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,h=FV();d.forEach(p=>{if(!o.has(p)){const m=qV(t.get(p),r.get(p));null!==m&&h.set(p,m),o=o.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,h))}return R.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return z.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function Lw(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var s}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):R.resolve(Fr());let a=-1,u=o;return s.next(c=>R.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(d)?R.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{u=u.insert(d,p)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,fe())).next(d=>({batchId:a,changes:VV(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new z(t)).next(r=>{let i=El();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let s=El();return this.indexManager.getCollectionParents(e,o).next(a=>R.forEach(a,u=>{const c=(h=t,p=u.child(o),new hi(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt));var h,p;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,p)=>{s=s.insert(h,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,c)=>{const d=c.getKey();null===s.get(d)&&(s=s.insert(d,We.newInvalidDocument(d)))});let a=El();return s.forEach((u,c)=>{const d=o.get(u);void 0!==d&&Dl(d.mutation,c,Cn.empty(),tt.now()),Il(t,c)&&(a=a.insert(u,c))}),a})}}class Yte{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return R.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,{id:(i=t).id,version:i.version,createTime:ft(i.createTime)}),R.resolve();var i}getNamedQuery(e,t){return R.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,{name:(i=t).name,query:Jw(i.bundledQuery),readTime:ft(i.readTime)}),R.resolve();var i}}class Jte{constructor(){this.overlays=new He(z.comparator),this.hr=new Map}getOverlay(e,t){return R.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Fr();return R.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),R.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.hr.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),R.resolve()}getOverlaysForCollection(e,t,r){const i=Fr(),o=t.length+1,s=new z(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return R.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new He((c,d)=>c-d);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let d=o.get(c.largestBatchId);null===d&&(d=Fr(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Fr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return R.resolve(a)}ht(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Hw(t,r));let o=this.hr.get(t);void 0===o&&(o=fe(),this.hr.set(t,o)),this.hr.set(t,o.add(r.key))}}class iT{constructor(){this.Pr=new ke(Rt.Ir),this.Tr=new ke(Rt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const r=new Rt(e,t);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ar(new Rt(e,t))}Rr(e,t){e.forEach(r=>this.removeReference(r,t))}Vr(e){const t=new z(new _e([])),r=new Rt(t,e),i=new Rt(t,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new z(new _e([])),r=new Rt(t,e),i=new Rt(t,e+1);let o=fe();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Rt(e,0),r=this.Pr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Rt{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return z.comparator(e.key,t.key)||ae(e.pr,t.pr)}static Er(e,t){return ae(e.pr,t.pr)||z.comparator(e.key,t.key)}}class Zte{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new ke(Rt.Ir)}checkEmpty(e){return R.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const o=this.yr;this.yr++;const s=new $w(o,t,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new Rt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return R.resolve(s)}lookupMutationBatch(e,t){return R.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.br(t+1),o=i<0?0:i;return R.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Rt(t,0),i=new Rt(t,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),R.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ke(ae);return t.forEach(i=>{const o=new Rt(i,0),s=new Rt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),R.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;z.isDocumentKey(o)||(o=o.child(""));const s=new Rt(new z(o),0);let a=new ke(ae);return this.wr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.pr)),!0)},s),R.resolve(this.Dr(a))}Dr(e){const t=[];return e.forEach(r=>{const i=this.Sr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){J(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.wr;return R.forEach(t.mutations,i=>{const o=new Rt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,t){const r=new Rt(t,0),i=this.wr.firstAfterOrEqual(r);return R.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return R.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Xte{constructor(e){this.vr=e,this.docs=new He(z.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return R.resolve(r?r.document.mutableCopy():We.newInvalidDocument(t))}getEntries(e,t){let r=An();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():We.newInvalidDocument(i))}),R.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=An();const s=t.path,a=new z(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||Sw(Kk(d),r)<=0||(i.has(d.key)||Il(t,d))&&(o=o.insert(d.key,d.mutableCopy()))}return R.resolve(o)}getAllFromCollectionGroup(e,t,r,i){K()}Fr(e,t){return R.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new ene(this)}getSize(e){return R.resolve(this.size)}}class ene extends qte{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),R.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class tne{constructor(e){this.persistence=e,this.Mr=new fi(t=>Qo(t),yl),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Or=0,this.Nr=new iT,this.targetCount=0,this.Lr=rs.Nn()}forEachTarget(e,t){return this.Mr.forEach((r,i)=>t(i)),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Or&&(this.Or=t),R.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new rs(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,R.resolve()}updateTargetData(e,t){return this.qn(t),R.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),R.waitFor(o).next(()=>i)}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,t){const r=this.Mr.get(t)||null;return R.resolve(r)}addMatchingKeys(e,t,r){return this.Nr.dr(t,r),R.resolve()}removeMatchingKeys(e,t,r){this.Nr.Rr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),R.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),R.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Nr.gr(t);return R.resolve(r)}containsKey(e,t){return R.resolve(this.Nr.containsKey(t))}}class oT{constructor(e,t){this.Br={},this.overlays={},this.kr=new Un(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new tne(this),this.indexManager=new Bte,this.remoteDocumentCache=new Xte(r=>this.referenceDelegate.Kr(r)),this.serializer=new EF(t),this.$r=new Yte(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Jte,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new Zte(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,r){F("MemoryPersistence","Starting transaction:",e);const i=new nne(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,t){return R.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}}class nne extends Dee{constructor(e){super(),this.currentSequenceNumber=e}}class Mp{constructor(e){this.persistence=e,this.zr=new iT,this.jr=null}static Hr(e){return new Mp(e)}get Jr(){if(this.jr)return this.jr;throw K()}addReference(e,t,r){return this.zr.addReference(r,t),this.Jr.delete(r.toString()),R.resolve()}removeReference(e,t,r){return this.zr.removeReference(r,t),this.Jr.add(r.toString()),R.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),R.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.Jr,r=>{const i=z.fromPath(r);return this.Yr(e,i).next(o=>{o||t.removeEntry(i,Z.min())})}).next(()=>(this.jr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Yr(e,t).next(r=>{r?this.Jr.delete(t.toString()):this.Jr.add(t.toString())})}Kr(e){return 0}Yr(e,t){return R.or([()=>R.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class cT{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.qi=r,this.Qi=i}static Ki(e,t){let r=fe(),i=fe();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new cT(e,t.fromCache,r,i)}}class ine{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class YF{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function GQ(){return!function UQ(){var n;const e=null===(n=Ff())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:function Yk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}(Tn())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.ji(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new ine;return this.Ji(e,t,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,t,s,a.size)})}).next(()=>o.result)}Yi(e,t,r,i){return r.documentReadCount<this.Wi?(Ma()<=ve.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",Ba(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),R.resolve()):(Ma()<=ve.DEBUG&&F("QueryEngine","Query:",Ba(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Ma()<=ve.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",Ba(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kt(t))):R.resolve())}ji(e,t){if(RV(t))return R.resolve(null);let r=Kt(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=_p(t,null,"F"),r=Kt(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=fe(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Zi(t,a);return this.Xi(t,c,s,u.readTime)?this.ji(e,_p(t,null,"F")):this.es(e,c,t,u)}))})))}Hi(e,t,r,i){return RV(t)||i.isEqual(Z.min())?R.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(t,o);return this.Xi(t,s,r,i)?R.resolve(null):(Ma()<=ve.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ba(t)),this.es(e,s,t,function Wk(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Z.fromTimestamp(1e9===r?new tt(t+1,0):new tt(t,r));return new Ln(i,z.empty(),e)}(i,-1)).next(a=>a))})}Zi(e,t){let r=new ke(OV(e));return t.forEach((i,o)=>{Il(e,o)&&(r=r.add(o))}),r}Xi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,t,r){return Ma()<=ve.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",Ba(t)),this.zi.getDocumentsMatchingQuery(e,t,Ln.min(),r)}es(e,t,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class one{constructor(e,t,r,i){this.persistence=e,this.ts=t,this.serializer=i,this.ns=new He(ae),this.rs=new fi(o=>Qo(o),yl),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KF(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ns))}}function ZF(n,e){return lT.apply(this,arguments)}function lT(){return lT=O(function*(n,e){const t=G(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t._s(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=fe();for(const c of i){s.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of o){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return t.localDocuments.getDocuments(r,u).next(c=>({us:c,removedBatchIds:s,addedBatchIds:a}))})})}),lT.apply(this,arguments)}function XF(n){const e=G(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Qr.getLastRemoteSnapshotVersion(t))}function une(n,e){const t=G(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Za(n,e,t){return dT.apply(this,arguments)}function dT(){return dT=O(function*(n,e,t){const r=G(n),i=r.ns.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Wi(s))throw s;F("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}),dT.apply(this,arguments)}function Op(n,e,t){const r=G(n);let i=Z.min(),o=fe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,d){const h=G(u),p=h.rs.get(d);return void 0!==p?R.resolve(h.ns.get(p)):h.Qr.getTargetData(c,d)}(r,s,Kt(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,t?i:Z.min(),t?o:fe())).next(a=>(function rL(n,e,t){let r=n.ss.get(e)||Z.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.ss.set(e,r)}(r,function NV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,hs:o})))}class mT{constructor(){this.activeTargetIds=function Bw(){return lte}()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sL{constructor(){this.no=new mT,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,r){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new mT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dne{io(e){}shutdown(){}}class aL{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){F("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){F("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Fp=null;function yT(){return null===Fp?Fp=268435456+Math.round(2147483648*Math.random()):Fp++,"0x"+Fp.toString(16)}const hne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fne{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const Yt="WebChannelConnection";class pne extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+t.host,this.So=`projects/${i}/databases/${o}`,this.bo="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Do(){return!1}Co(t,r,i,o,s){const a=yT(),u=this.vo(t,r.toUriEncodedString());F("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(c,o,s),this.Mo(t,u,c,i).then(d=>(F("RestConnection",`Received RPC '${t}' ${a}: `,d),d),d=>{throw Fn("RestConnection",`RPC '${t}' ${a} failed with error: `,d,"url: ",u,"request:",i),d})}xo(t,r,i,o,s,a){return this.Co(t,r,i,o,s)}Fo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Pa,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}vo(t,r){return`${this.wo}/v1/${r}:${hne[t]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,t,r,i){const o=yT();return new Promise((s,a)=>{const u=new Vk;u.setWithCredentials(!0),u.listenOnce(Lk.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case sp.NO_ERROR:const d=u.getResponseJson();F(Yt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case sp.TIMEOUT:F(Yt,`RPC '${e}' ${o} timed out`),a(new L(x.DEADLINE_EXCEEDED,"Request time out"));break;case sp.HTTP_ERROR:const h=u.getStatus();if(F(Yt,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p?.error;if(m&&m.status&&m.message){const y=function(E){const P=E.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(P)>=0?P:x.UNKNOWN}(m.status);a(new L(y,m.message))}else a(new L(x.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new L(x.UNAVAILABLE,"Connection failed."));break;default:K()}}finally{F(Yt,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);F(Yt,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",c,r,15)})}Oo(e,t,r){const i=yT(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=jk(),a=Bk(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new Fk({})),this.Fo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const d=o.join("");F(Yt,`Creating RPC '${e}' stream ${i}: ${d}`,u);const h=s.createWebChannel(d,u);let p=!1,m=!1;const y=new fne({lo:E=>{m?F(Yt,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(p||(F(Yt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),F(Yt,`RPC '${e}' stream ${i} sending:`,E),h.send(E))},ho:()=>h.close()}),I=(E,P,C)=>{E.listen(P,k=>{try{C(k)}catch(j){setTimeout(()=>{throw j},0)}})};return I(h,ul.EventType.OPEN,()=>{m||(F(Yt,`RPC '${e}' stream ${i} transport opened.`),y.mo())}),I(h,ul.EventType.CLOSE,()=>{m||(m=!0,F(Yt,`RPC '${e}' stream ${i} transport closed`),y.po())}),I(h,ul.EventType.ERROR,E=>{m||(m=!0,Fn(Yt,`RPC '${e}' stream ${i} transport errored:`,E),y.po(new L(x.UNAVAILABLE,"The operation could not be completed")))}),I(h,ul.EventType.MESSAGE,E=>{var P;if(!m){const C=E.data[0];J(!!C);const j=C.error||(null===(P=C[0])||void 0===P?void 0:P.error);if(j){F(Yt,`RPC '${e}' stream ${i} received error:`,j);const W=j.status;let X=function(w){const A=yt[w];if(void 0!==A)return XV(A)}(W),D=j.message;void 0===X&&(X=x.INTERNAL,D="Unknown error status: "+W+" with message "+j.message),m=!0,y.po(new L(X,D)),h.close()}else F(Yt,`RPC '${e}' stream ${i} received:`,C),y.yo(C)}}),I(a,Uk.STAT_EVENT,E=>{E.stat===Cw.PROXY?F(Yt,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===Cw.NOPROXY&&F(Yt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.fo()},0),y}}function Lp(){return typeof document<"u"?document:null}function Fl(n){return new Tte(n,!0)}class vT{constructor(e,t,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=t,this.No=r,this.Lo=i,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const t=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,t-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class cL{constructor(e,t,r,i,o,s,a,u){this.oi=e,this.Go=r,this.zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new vT(e,t)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var e=this;return O(function*(){e.Zo()&&(yield e.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){var e=this;return O(function*(){if(e.Xo())return e.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,t){var r=this;return O(function*(){r.s_(),r.o_(),r.Yo.cancel(),r.jo++,4!==e?r.Yo.reset():t&&t.code===x.RESOURCE_EXHAUSTED?(ht(t.toString()),ht("Using maximum backoff delay to prevent overloading the backend."),r.Yo.Ko()):t&&t.code===x.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.__(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ao(t)})()}__(){}auth(){this.state=1;const e=this.a_(this.jo),t=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===t&&this.u_(r,i)},r=>{e(()=>{const i=new L(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,t){const r=this.a_(this.jo);this.stream=this.l_(e,t),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){var e=this;this.state=5,this.Yo.$o(O(function*(){e.state=0,e.start()}))}c_(e){return F("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return t=>{this.oi.enqueueAndForget(()=>this.jo===e?t():(F("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gne extends cL{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}l_(e,t){return this.connection.Oo("Listen",e,t)}onMessage(e){this.Yo.reset();const t=function Ate(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:K(),i=e.targetChange.targetIds||[],o=function(c,d){return c.useProto3Json?(J(void 0===d||"string"==typeof d),Dt.fromBase64String(d||"")):(J(void 0===d||d instanceof Buffer||d instanceof Uint8Array),Dt.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const d=void 0===c.code?x.UNKNOWN:XV(c.code);return new L(d,c.message||"")}(s);t=new iF(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Lr(n,r.document.name),o=ft(r.document.updateTime),s=r.document.createTime?ft(r.document.createTime):Z.min(),a=new Ut({mapValue:{fields:r.document.fields}}),u=We.newFoundDocument(i,o,s,a);t=new wp(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Lr(n,r.document),o=r.readTime?ft(r.readTime):Z.min(),s=We.newNoDocument(i,o);t=new wp([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=Lr(n,r.document);t=new wp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return K();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new _te(i,o);t=new rF(r.targetId,s)}}var c;return t}(this.serializer,e),r=function(o){if(!("targetChange"in o))return Z.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Z.min():s.readTime?ft(s.readTime):Z.min()}(e);return this.listener.h_(t,r)}P_(e){const t={};t.database=Qw(this.serializer),t.addTarget=function(o,s){let a;const u=s.target;if(a=gp(u)?{documents:gF(o,u)}:{query:Tp(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=uF(o,s.resumeToken);const c=qw(o,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(Z.min())>0){a.readTime=za(o,s.snapshotVersion.toTimestamp());const c=qw(o,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function Ste(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return K()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.i_(t)}I_(e){const t={};t.database=Qw(this.serializer),t.removeTarget=e,this.i_(t)}}class mne extends cL{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,t){return this.connection.Oo("Write",e,t)}onMessage(e){if(J(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const t=function bte(n,e){return n&&n.length>0?(J(void 0!==e),n.map(t=>function(i,o){let s=ft(i.updateTime?i.updateTime:o);return s.isEqual(Z.min())&&(s=ft(o)),new pte(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ft(e.commitTime);return this.listener.A_(r,t)}return J(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=Qw(this.serializer),this.i_(e)}d_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Rl(n,e){let t;if(e instanceof Ga)t={update:fF(n,e.key,e.value)};else if(e instanceof Ha)t={delete:Sl(n,e.key)};else if(e instanceof pi)t={update:fF(n,e.key,e.data),updateMask:xte(e.fieldMask)};else{if(!(e instanceof jw))return K();t={verify:Sl(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof ja)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Yo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Jo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof $a)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw K()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Dte(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:K()),t;var o}(this.serializer,r))};this.i_(t)}}class _ne extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new L(x.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,t,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,Kw(t,r),i,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(x.UNKNOWN,o.toString())})}xo(e,t,r,i,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.xo(e,Kw(t,r),i,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(x.UNKNOWN,s.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class yne{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(ht(t),this.y_=!1):F("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class vne{constructor(e,t,r,i,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(a=>{r.enqueueAndForget(O(function*(){var u;ro(s)&&(F("RemoteStore","Restarting streams for network reachability change."),yield(u=O(function*(d){const h=G(d);h.M_.add(4),yield Xa(h),h.N_.set("Unknown"),h.M_.delete(4),yield Ll(h)}),function c(d){return u.apply(this,arguments)})(s))}))}),this.N_=new yne(r,i)}}function Ll(n){return IT.apply(this,arguments)}function IT(){return IT=O(function*(n){if(ro(n))for(const e of n.x_)yield e(!0)}),IT.apply(this,arguments)}function Xa(n){return ET.apply(this,arguments)}function ET(){return ET=O(function*(n){for(const e of n.x_)yield e(!1)}),ET.apply(this,arguments)}function Up(n,e){const t=G(n);t.F_.has(e.targetId)||(t.F_.set(e.targetId,e),DT(t)?TT(t):nu(t).Xo()&&wT(t,e))}function eu(n,e){const t=G(n),r=nu(t);t.F_.delete(e),r.Xo()&&lL(t,e),0===t.F_.size&&(r.Xo()?r.n_():ro(t)&&t.N_.set("Unknown"))}function wT(n,e){if(n.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Z.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}nu(n).P_(e)}function lL(n,e){n.L_.xe(e),nu(n).I_(e)}function TT(n){n.L_=new vte({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.F_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),nu(n).start(),n.N_.w_()}function DT(n){return ro(n)&&!nu(n).Zo()&&n.F_.size>0}function ro(n){return 0===G(n).M_.size}function dL(n){n.L_=void 0}function Ine(n){return CT.apply(this,arguments)}function CT(){return CT=O(function*(n){n.N_.set("Online")}),CT.apply(this,arguments)}function Ene(n){return AT.apply(this,arguments)}function AT(){return AT=O(function*(n){n.F_.forEach((e,t)=>{wT(n,e)})}),AT.apply(this,arguments)}function wne(n,e){return bT.apply(this,arguments)}function bT(){return bT=O(function*(n,e){dL(n),DT(n)?(n.N_.D_(e),TT(n)):n.N_.set("Unknown")}),bT.apply(this,arguments)}function Tne(n,e,t){return ST.apply(this,arguments)}function ST(){return ST=O(function*(n,e,t){if(n.N_.set("Online"),e instanceof iF&&2===e.state&&e.cause)try{yield(r=O(function*(o,s){const a=s.cause;for(const u of s.targetIds)o.F_.has(u)&&(yield o.remoteSyncer.rejectListen(u,a),o.F_.delete(u),o.L_.removeTarget(u))}),function i(o,s){return r.apply(this,arguments)})(n,e)}catch(r){F("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Bp(n,r)}else if(e instanceof wp?n.L_.Ke(e):e instanceof rF?n.L_.He(e):n.L_.We(e),!t.isEqual(Z.min()))try{const r=yield XF(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){const a=o.L_.rt(s);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=o.F_.get(c);d&&o.F_.set(c,d.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,c)=>{const d=o.F_.get(u);if(!d)return;o.F_.set(u,d.withResumeToken(Dt.EMPTY_BYTE_STRING,d.snapshotVersion)),lL(o,u);const h=new gi(d.target,u,c,d.sequenceNumber);wT(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){F("RemoteStore","Failed to raise snapshot:",r),yield Bp(n,r)}var r}),ST.apply(this,arguments)}function Bp(n,e,t){return RT.apply(this,arguments)}function RT(){return RT=O(function*(n,e,t){if(!Wi(e))throw e;n.M_.add(1),yield Xa(n),n.N_.set("Offline"),t||(t=()=>XF(n.localStore)),n.asyncQueue.enqueueRetryable(O(function*(){F("RemoteStore","Retrying IndexedDB access"),yield t(),n.M_.delete(1),yield Ll(n)}))}),RT.apply(this,arguments)}function hL(n,e){return e().catch(t=>Bp(n,t,e))}function tu(n){return PT.apply(this,arguments)}function PT(){return PT=O(function*(n){const e=G(n),t=io(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;Dne(e);)try{const i=yield une(e.localStore,r);if(null===i){0===e.v_.length&&t.n_();break}r=i.batchId,Cne(e,i)}catch(i){yield Bp(e,i)}fL(e)&&pL(e)}),PT.apply(this,arguments)}function Dne(n){return ro(n)&&n.v_.length<10}function Cne(n,e){n.v_.push(e);const t=io(n);t.Xo()&&t.E_&&t.d_(e.mutations)}function fL(n){return ro(n)&&!io(n).Zo()&&n.v_.length>0}function pL(n){io(n).start()}function Ane(n){return MT.apply(this,arguments)}function MT(){return MT=O(function*(n){io(n).V_()}),MT.apply(this,arguments)}function bne(n){return xT.apply(this,arguments)}function xT(){return xT=O(function*(n){const e=io(n);for(const t of n.v_)e.d_(t.mutations)}),xT.apply(this,arguments)}function Sne(n,e,t){return NT.apply(this,arguments)}function NT(){return NT=O(function*(n,e,t){const r=n.v_.shift(),i=Gw.from(r,e,t);yield hL(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield tu(n)}),NT.apply(this,arguments)}function Rne(n,e){return OT.apply(this,arguments)}function OT(){return OT=O(function*(n,e){var t;e&&io(n).E_&&(yield(t=O(function*(i,o){if(function ZV(n){switch(n){default:return K();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}(a=o.code)&&a!==x.ABORTED){const s=i.v_.shift();io(i).t_(),yield hL(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield tu(i)}var a}),function r(i,o){return t.apply(this,arguments)})(n,e)),fL(n)&&pL(n)}),OT.apply(this,arguments)}function gL(n,e){return kT.apply(this,arguments)}function kT(){return kT=O(function*(n,e){const t=G(n);t.asyncQueue.verifyOperationInProgress(),F("RemoteStore","RemoteStore received new credentials");const r=ro(t);t.M_.add(3),yield Xa(t),r&&t.N_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.M_.delete(3),yield Ll(t)}),kT.apply(this,arguments)}function FT(){return FT=O(function*(n,e){const t=G(n);e?(t.M_.delete(2),yield Ll(t)):e||(t.M_.add(2),yield Xa(t),t.N_.set("Unknown"))}),FT.apply(this,arguments)}function nu(n){return n.B_||(n.B_=function(t,r,i){const o=G(t);return o.f_(),new gne(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Po:Ine.bind(null,n),To:Ene.bind(null,n),Ao:wne.bind(null,n),h_:Tne.bind(null,n)}),n.x_.push(function(){var e=O(function*(t){t?(n.B_.t_(),DT(n)?TT(n):n.N_.set("Unknown")):(yield n.B_.stop(),dL(n))});return function(t){return e.apply(this,arguments)}}())),n.B_}function io(n){return n.k_||(n.k_=function(t,r,i){const o=G(t);return o.f_(),new mne(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Po:()=>Promise.resolve(),To:Ane.bind(null,n),Ao:Rne.bind(null,n),R_:bne.bind(null,n),A_:Sne.bind(null,n)}),n.x_.push(function(){var e=O(function*(t){t?(n.k_.t_(),yield tu(n)):(yield n.k_.stop(),n.v_.length>0&&(F("RemoteStore",`Stopping write stream with ${n.v_.length} pending writes`),n.v_=[]))});return function(t){return e.apply(this,arguments)}}())),n.k_}class LT{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Tt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const s=Date.now()+r,a=new LT(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new L(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ru(n,e){if(ht("AsyncQueue",`${e}: ${n}`),Wi(n))return new L(x.UNAVAILABLE,`${e}: ${n}`);throw n}class iu{constructor(e){this.comparator=e?(t,r)=>e(t,r)||z.comparator(t.key,r.key):(t,r)=>z.comparator(t.key,r.key),this.keyedMap=El(),this.sortedSet=new He(this.comparator)}static emptySet(e){return new iu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof iu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new iu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class mL{constructor(){this.q_=new He(z.comparator)}track(e){const t=e.doc.key,r=this.q_.get(t);r?0!==e.type&&3===r.type?this.q_=this.q_.insert(t,e):3===e.type&&1!==r.type?this.q_=this.q_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.q_=this.q_.remove(t):1===e.type&&2===r.type?this.q_=this.q_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):K():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal((t,r)=>{e.push(r)}),e}}class ou{constructor(e,t,r,i,o,s,a,u,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new ou(e,t,iu.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Pne{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class Mne{constructor(){this.queries=new fi(e=>xV(e),vl),this.onlineState="Unknown",this.z_=new Set}}function BT(){return BT=O(function*(n,e){const t=G(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.W_()&&e.G_()&&(r=2):(o=new Pne,r=e.G_()?0:1);try{switch(r){case 0:o.K_=yield t.onListen(i,!0);break;case 1:o.K_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){const a=ru(s,`Initialization of query '${Ba(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.U_.push(e),e.j_(t.onlineState),o.K_&&e.H_(o.K_)&&GT(t)}),BT.apply(this,arguments)}function $T(){return $T=O(function*(n,e){const t=G(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const s=o.U_.indexOf(e);s>=0&&(o.U_.splice(s,1),0===o.U_.length?i=e.G_()?0:1:!o.W_()&&e.G_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}),$T.apply(this,arguments)}function xne(n,e){const t=G(n);let r=!1;for(const i of e){const s=t.queries.get(i.query);if(s){for(const a of s.U_)a.H_(i)&&(r=!0);s.K_=i}}r&&GT(t)}function Nne(n,e,t){const r=G(n),i=r.queries.get(e);if(i)for(const o of i.U_)o.onError(t);r.queries.delete(e)}function GT(n){n.z_.forEach(e=>{e.next()})}var HT,_L;(_L=HT||(HT={})).J_="default",_L.Cache="cache";class zT{constructor(e,t,r){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new ou(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){return!e.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ea(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(e){e=ou.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==HT.Cache}}class IL{constructor(e){this.key=e}}class EL{constructor(e){this.key=e}}class wL{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=fe(),this.mutatedKeys=fe(),this.Ia=OV(e),this.Ta=new iu(this.Ia)}get Ea(){return this.la}da(e,t){const r=t?t.Aa:new mL,i=t?t.Ta:this.Ta;let o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const p=i.get(d),m=Il(this.query,h)?h:null,y=!!p&&this.mutatedKeys.has(p.key),I=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;p&&m?p.data.isEqual(m.data)?y!==I&&(r.track({type:3,doc:m}),E=!0):this.Ra(p,m)||(r.track({type:2,doc:m}),E=!0,(u&&this.Ia(m,u)>0||c&&this.Ia(m,c)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),E=!0):p&&!m&&(r.track({type:1,doc:p}),E=!0,(u||c)&&(a=!0)),E&&(m?(s=s.add(m),o=I?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const d="F"===this.query.limitType?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ta:s,Aa:r,Xi:a,mutatedKeys:o}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort((d,h)=>function(m,y){const I=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return K()}};return I(m)-I(y)}(d.type,h.type)||this.Ia(d.doc,h.doc)),this.Va(r),i=null!=i&&i;const a=t&&!i?this.ma():[],u=0===this.Pa.size&&this.current&&!i?1:0,c=u!==this.ha;return this.ha=u,0!==s.length||c?{snapshot:new ou(this.query,e.Ta,o,s,e.mutatedKeys,0===u,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new mL,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(t=>this.la=this.la.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.la=this.la.delete(t)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=fe(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const t=[];return e.forEach(r=>{this.Pa.has(r)||t.push(new EL(r))}),this.Pa.forEach(r=>{e.has(r)||t.push(new IL(r))}),t}pa(e){this.la=e.hs,this.Pa=fe();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return ou.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class Vne{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Fne{constructor(e){this.key=e,this.wa=!1}}class Lne{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new fi(a=>xV(a),vl),this.Da=new Map,this.Ca=new Set,this.va=new He(z.comparator),this.Fa=new Map,this.Ma=new iT,this.xa={},this.Oa=new Map,this.Na=rs.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function Une(n,e){return qT.apply(this,arguments)}function qT(){return qT=O(function*(n,e,t=!0){const r=jp(n);let i;const o=r.ba.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=yield TL(r,e,t,!0),i}),qT.apply(this,arguments)}function Bne(n,e){return WT.apply(this,arguments)}function WT(){return WT=O(function*(n,e){const t=jp(n);yield TL(t,e,!0,!1)}),WT.apply(this,arguments)}function TL(n,e,t,r){return KT.apply(this,arguments)}function KT(){return KT=O(function*(n,e,t,r){const i=yield function Ja(n,e){const t=G(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Qr.getTargetData(r,e).next(o=>o?(i=o,R.resolve(i)):t.Qr.allocateTargetId(r).next(s=>(i=new gi(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ns.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ns=t.ns.insert(r.targetId,r),t.rs.set(e,r.targetId)),r})}(n.localStore,Kt(e)),o=i.targetId,s=t?n.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=yield function QT(n,e,t,r,i){return YT.apply(this,arguments)}(n,e,o,"current"===s,i.resumeToken)),n.isPrimaryClient&&t&&Up(n.remoteStore,i),a}),KT.apply(this,arguments)}function YT(){return YT=O(function*(n,e,t,r,i){n.Ba=(h,p,m)=>{return(y=O(function*(E,P,C,k){let j=P.view.da(C);j.Xi&&(j=yield Op(E.localStore,P.query,!1).then(({documents:v})=>P.view.da(v,j)));const W=k&&k.targetChanges.get(P.targetId),X=k&&null!=k.targetMismatches.get(P.targetId),D=P.view.applyChanges(j,E.isPrimaryClient,W,X);return aD(E,P.targetId,D.fa),D.snapshot}),function I(E,P,C,k){return y.apply(this,arguments)})(n,h,p,m);var y};const o=yield Op(n.localStore,e,!0),s=new wL(e,o.hs),a=s.da(o.documents),u=bl.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=s.applyChanges(a,n.isPrimaryClient,u);aD(n,t,c.fa);const d=new Vne(e,t,s);return n.ba.set(e,d),n.Da.has(t)?n.Da.get(t).push(e):n.Da.set(t,[e]),c.snapshot}),YT.apply(this,arguments)}function jne(n,e,t){return JT.apply(this,arguments)}function JT(){return JT=O(function*(n,e,t){const r=G(n),i=r.ba.get(e),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(s=>!vl(s,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Za(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&eu(r.remoteStore,i.targetId),su(r,i.targetId)}).catch(qi))):(su(r,i.targetId),yield Za(r.localStore,i.targetId,!0))}),JT.apply(this,arguments)}function $ne(n,e){return ZT.apply(this,arguments)}function ZT(){return ZT=O(function*(n,e){const t=G(n),r=t.ba.get(e),i=t.Da.get(r.targetId);t.isPrimaryClient&&1===i.length&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),eu(t.remoteStore,r.targetId))}),ZT.apply(this,arguments)}function XT(){return XT=O(function*(n,e,t){const r=function yD(n){const e=G(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zne.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qne.bind(null,e),e}(n);try{const i=yield function(s,a){const u=G(s),c=tt.now(),d=a.reduce((m,y)=>m.add(y.key),fe());let h,p;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=An(),I=fe();return u.os.getEntries(m,d).next(E=>{y=E,y.forEach((P,C)=>{C.isValidDocument()||(I=I.add(P))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,y)).next(E=>{h=E;const P=[];for(const C of a){const k=mte(C,h.get(C.key).overlayedDocument);null!=k&&P.push(new pi(C.key,k,mV(k.value.mapValue),Ze.exists(!0)))}return u.mutationQueue.addMutationBatch(m,c,P,a)}).next(E=>{p=E;const P=E.applyToLocalDocumentSet(h,I);return u.documentOverlayCache.saveOverlays(m,E.batchId,P)})}).then(()=>({batchId:p.batchId,changes:VV(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let c=s.xa[s.currentUser.toKey()];c||(c=new He(ae)),c=c.insert(a,u),s.xa[s.currentUser.toKey()]=c}(r,i.batchId,t),yield mi(r,i.changes),yield tu(r.remoteStore)}catch(i){const o=ru(i,"Failed to persist write");t.reject(o)}}),XT.apply(this,arguments)}function DL(n,e){return eD.apply(this,arguments)}function eD(){return eD=O(function*(n,e){const t=G(n);try{const r=yield function ane(n,e){const t=G(n),r=e.snapshotVersion;let i=t.ns;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.os.newChangeBuffer({trackRemovals:!0});i=t.ns;const a=[];e.targetChanges.forEach((d,h)=>{const p=i.get(h);if(!p)return;a.push(t.Qr.removeMatchingKeys(o,d.removedDocuments,h).next(()=>t.Qr.addMatchingKeys(o,d.addedDocuments,h)));let m=p.withSequenceNumber(o.currentSequenceNumber);var I,E,P;null!==e.targetMismatches.get(h)?m=m.withResumeToken(Dt.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),E=m,P=d,(0===(I=p).resumeToken.approximateByteSize()||E.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8||P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0)&&a.push(t.Qr.updateTargetData(o,m))});let u=An(),c=fe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(function eL(n,e,t){let r=fe(),i=fe();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=An();return t.forEach((a,u)=>{const c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(Z.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):F("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{cs:s,ls:i}})}(o,s,e.documentUpdates).next(d=>{u=d.cs,c=d.ls})),!r.isEqual(Z.min())){const d=t.Qr.getLastRemoteSnapshotVersion(o).next(h=>t.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return R.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(t.ns=i,o))}(t.localStore,e);e.targetChanges.forEach((i,o)=>{const s=t.Fa.get(o);s&&(J(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.wa=!0:i.modifiedDocuments.size>0?J(s.wa):i.removedDocuments.size>0&&(J(s.wa),s.wa=!1))}),yield mi(t,r,e)}catch(r){yield qi(r)}}),eD.apply(this,arguments)}function CL(n,e,t){const r=G(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ba.forEach((o,s)=>{const a=s.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=G(s);u.onlineState=a;let c=!1;u.queries.forEach((d,h)=>{for(const p of h.U_)p.j_(a)&&(c=!0)}),c&&GT(u)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Hne(n,e,t){return tD.apply(this,arguments)}function tD(){return tD=O(function*(n,e,t){const r=G(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Fa.get(e),o=i&&i.key;if(o){let s=new He(z.comparator);s=s.insert(o,We.newNoDocument(o,Z.min()));const a=fe().add(o),u=new Al(Z.min(),new Map,new He(ae),s,a);yield DL(r,u),r.va=r.va.remove(o),r.Fa.delete(e),uD(r)}else yield Za(r.localStore,e,!1).then(()=>su(r,e,t)).catch(qi)}),tD.apply(this,arguments)}function zne(n,e){return nD.apply(this,arguments)}function nD(){return nD=O(function*(n,e){const t=G(n),r=e.batch.batchId;try{const i=yield function sne(n,e){const t=G(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.os.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const h=c.batch,p=h.keys();let m=R.resolve();return p.forEach(y=>{m=m.next(()=>d.getEntry(u,y)).next(I=>{const E=c.docVersions.get(y);J(null!==E),I.version.compareTo(E)<0&&(h.applyToRemoteDocument(I,c),I.isValidDocument()&&(I.setReadTime(c.commitVersion),d.addEntry(I)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(u,h))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=fe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);sD(t,r,null),oD(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield mi(t,i)}catch(i){yield qi(i)}}),nD.apply(this,arguments)}function qne(n,e,t){return rD.apply(this,arguments)}function rD(){return rD=O(function*(n,e,t){const r=G(n);try{const i=yield function(s,a){const u=G(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(h=>(J(null!==h),d=h.keys(),u.mutationQueue.removeMutationBatch(c,h))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);sD(r,e,t),oD(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield mi(r,i)}catch(i){yield qi(i)}}),rD.apply(this,arguments)}function oD(n,e){(n.Oa.get(e)||[]).forEach(t=>{t.resolve()}),n.Oa.delete(e)}function sD(n,e,t){const r=G(n);let i=r.xa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function su(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Da.get(e))n.ba.delete(r),t&&n.Sa.ka(r,t);n.Da.delete(e),n.isPrimaryClient&&n.Ma.Vr(e).forEach(r=>{n.Ma.containsKey(r)||AL(n,r)})}function AL(n,e){n.Ca.delete(e.path.canonicalString());const t=n.va.get(e);null!==t&&(eu(n.remoteStore,t),n.va=n.va.remove(e),n.Fa.delete(t),uD(n))}function aD(n,e,t){for(const r of t)r instanceof IL?(n.Ma.addReference(r.key,e),Kne(n,r)):r instanceof EL?(F("SyncEngine","Document no longer in limbo: "+r.key),n.Ma.removeReference(r.key,e),n.Ma.containsKey(r.key)||AL(n,r.key)):K()}function Kne(n,e){const t=e.key,r=t.path.canonicalString();n.va.get(t)||n.Ca.has(r)||(F("SyncEngine","New document in limbo: "+t),n.Ca.add(r),uD(n))}function uD(n){for(;n.Ca.size>0&&n.va.size<n.maxConcurrentLimboResolutions;){const e=n.Ca.values().next().value;n.Ca.delete(e);const t=new z(_e.fromString(e)),r=n.Na.next();n.Fa.set(r,new Fne(t)),n.va=n.va.insert(t,r),Up(n.remoteStore,new gi(Kt(La(t.path)),r,"TargetPurposeLimboResolution",Un.oe))}}function mi(n,e,t){return cD.apply(this,arguments)}function cD(){return cD=O(function*(n,e,t){const r=G(n),i=[],o=[],s=[];var a;r.ba.isEmpty()||(r.ba.forEach((a,u)=>{s.push(r.Ba(u,e,t).then(c=>{var d;if((c||t)&&r.isPrimaryClient){const h=c?!c.fromCache:null===(d=t?.targetChanges.get(u.targetId))||void 0===d?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(c){i.push(c);const h=cT.Ki(u.targetId,c);o.push(h)}}))}),yield Promise.all(s),r.Sa.h_(i),yield(a=O(function*(c,d){const h=G(c);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>R.forEach(d,m=>R.forEach(m.qi,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>R.forEach(m.Qi,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Wi(p))throw p;F("LocalStore","Failed to update sequence numbers: "+p)}for(const p of d){const m=p.targetId;if(!p.fromCache){const y=h.ns.get(m),E=y.withLastLimboFreeSnapshotVersion(y.snapshotVersion);h.ns=h.ns.insert(m,E)}}}),function u(c,d){return a.apply(this,arguments)})(r.localStore,o))}),cD.apply(this,arguments)}function Qne(n,e){return lD.apply(this,arguments)}function lD(){return lD=O(function*(n,e){const t=G(n);if(!t.currentUser.isEqual(e)){F("SyncEngine","User change. New user:",e.toKey());const r=yield ZF(t.localStore,e);t.currentUser=e,(o=t).Oa.forEach(a=>{a.forEach(u=>{u.reject(new L(x.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Oa.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield mi(t,r.us)}var o}),lD.apply(this,arguments)}function Yne(n,e){const t=G(n),r=t.Fa.get(e);if(r&&r.wa)return fe().add(r.key);{let i=fe();const o=t.Da.get(e);if(!o)return i;for(const s of o){const a=t.ba.get(s);i=i.unionWith(a.view.Ea)}return i}}function jp(n){const e=G(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=DL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yne.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Hne.bind(null,e),e.Sa.h_=xne.bind(null,e.eventManager),e.Sa.ka=Nne.bind(null,e.eventManager),e}class $p{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return O(function*(){t.serializer=Fl(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function JF(n,e,t,r){return new one(n,e,t,r)}(this.persistence,new YF,e.initialUser,this.serializer)}createPersistence(e){return new oT(Mp.Hr,this.serializer)}createSharedClientState(e){return new sL}terminate(){var e=this;return O(function*(){var t,r;null===(t=e.gcScheduler)||void 0===t||t.stop(),null===(r=e.indexBackfillerScheduler)||void 0===r||r.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class au{initialize(e,t){var r=this;return O(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>CL(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Qne.bind(null,r.syncEngine),yield function VT(n,e){return FT.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Mne}createDatastore(e){const t=Fl(e.databaseInfo.databaseId),r=new pne(e.databaseInfo);return new _ne(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,o=e.asyncQueue,s=t=>CL(this.syncEngine,t,0),a=aL.D()?new aL:new dne,new vne(r,i,o,s,a);var r,i,o,s,a}createSyncEngine(e,t){return function(i,o,s,a,u,c,d){const h=new Lne(i,o,s,a,u,c);return d&&(h.La=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){var e=this;return O(function*(){var t,r;yield(r=O(function*(o){const s=G(o);F("RemoteStore","RemoteStore shutting down."),s.M_.add(5),yield Xa(s),s.O_.shutdown(),s.N_.set("Unknown")}),function i(o){return r.apply(this,arguments)})(e.remoteStore),null===(t=e.datastore)||void 0===t||t.terminate()})()}}class Gp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):ht("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class cre{constructor(e,t,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=bt.UNAUTHENTICATED,this.clientId=zk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=O(function*(a){F("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(F("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Tt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(O(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=ru(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Hp(n,e){return vD.apply(this,arguments)}function vD(){return vD=O(function*(n,e){n.asyncQueue.verifyOperationInProgress(),F("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=O(function*(o){r.isEqual(o)||(yield ZF(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),vD.apply(this,arguments)}function ID(n,e){return ED.apply(this,arguments)}function ED(){return ED=O(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function wD(n){return TD.apply(this,arguments)}(n);F("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>gL(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>gL(e.remoteStore,i)),n._onlineComponents=e}),ED.apply(this,arguments)}function TD(){return TD=O(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){F("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Hp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function xL(n){return"FirebaseError"===n.name?n.code===x.FAILED_PRECONDITION||n.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;Fn("Error using user provided cache. Falling back to memory cache: "+t),yield Hp(n,new $p)}}else F("FirestoreClient","Using default OfflineComponentProvider"),yield Hp(n,new $p);return n._offlineComponents}),TD.apply(this,arguments)}function zp(n){return DD.apply(this,arguments)}function DD(){return DD=O(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(F("FirestoreClient","Using user provided OnlineComponentProvider"),yield ID(n,n._uninitializedComponentsProvider._online)):(F("FirestoreClient","Using default OnlineComponentProvider"),yield ID(n,new au))),n._onlineComponents}),DD.apply(this,arguments)}function cu(n){return AD.apply(this,arguments)}function AD(){return AD=O(function*(n){const e=yield zp(n),t=e.eventManager;return t.onListen=Une.bind(null,e.syncEngine),t.onUnlisten=jne.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Bne.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=$ne.bind(null,e.syncEngine),t}),AD.apply(this,arguments)}function LL(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const UL=new Map;function bD(n,e,t){if(!t)throw new L(x.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function BL(n){if(!z.isDocumentKey(n))throw new L(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function jL(n){if(z.isDocumentKey(n))throw new L(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function qp(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":K()}function pe(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new L(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=qp(n);throw new L(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class GL{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new L(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new L(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function Ere(n,e,t,r){if(!0===e&&!0===r)throw new L(x.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=LL(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new L(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new L(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new L(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ul{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GL({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new L(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GL(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new pee;switch(r.type){case"firstParty":return new yee(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=UL.get(t);r&&(F("ComponentProvider","Removing Datastore"),UL.delete(t),r.terminate())}(this),Promise.resolve()}}class Bt{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bt(this.firestore,e,this._query)}}class pt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}}class Ur extends Bt{constructor(e,t,r){super(e,t,La(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new z(e))}withConverter(e){return new Ur(this.firestore,e,this._path)}}function Tre(n,e,...t){if(n=xr(n),bD("collection","path",e),n instanceof Ul){const r=_e.fromString(e,...t);return jL(r),new Ur(n,null,r)}{if(!(n instanceof pt||n instanceof Ur))throw new L(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(_e.fromString(e,...t));return jL(r),new Ur(n.firestore,null,r)}}function HL(n,e,...t){if(n=xr(n),1===arguments.length&&(e=zk.newId()),bD("doc","path",e),n instanceof Ul){const r=_e.fromString(e,...t);return BL(r),new pt(n,null,new z(r))}{if(!(n instanceof pt||n instanceof Ur))throw new L(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(_e.fromString(e,...t));return BL(r),new pt(n.firestore,n instanceof Ur?n.converter:null,new z(r))}}class Dre{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new vT(this,"async_queue_retry"),this.hu=()=>{const t=Lp();t&&F("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Yo.Wo()};const e=Lp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=Lp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const t=new Tt;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){var e=this;return O(function*(){if(0!==e.su.length){try{yield e.su[0](),e.su.shift(),e.Yo.reset()}catch(t){if(!Wi(t))throw t;F("AsyncQueue","Operation failed with retryable error: "+t)}e.su.length>0&&e.Yo.$o(()=>e.Tu())}})()}Iu(e){const t=this.iu.then(()=>(this.uu=!0,e().catch(r=>{throw this.au=r,this.uu=!1,ht("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.uu=!1,r))));return this.iu=t,t}enqueueAfterDelay(e,t,r){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const i=LT.createAndSchedule(this,e,t,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&K()}verifyOperationInProgress(){}du(){var e=this;return O(function*(){let t;do{t=e.iu,yield t}while(t!==e.iu)})()}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this._u)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}function SD(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const i=t;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(n)}class Ve extends Ul{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Dre,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||qL(this),this._firestoreClient.terminate()}}function Are(n,e){const r="string"==typeof n?n:e||"(default)",i=function d1(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}("object"==typeof n?n:f1(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(n=>{const e=(n=>{var e,t;return null===(t=null===(e=Ff())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]})(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})("firestore");o&&function wre(n,e,t,r={}){var i;const o=(n=pe(n,Ul))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Fn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=bt.MOCK_USER;else{a=function FQ(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[kf(JSON.stringify({alg:"none",type:"JWT"})),kf(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new L(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new bt(c)}n._authCredentials=new gee(new Gk(a,u))}}(i,...o)}return i}function nt(n){return n._firestoreClient||qL(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function qL(n){var e,t,r;const i=n._freezeSettings(),o=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Qee(n._databaseId,u,n._persistenceKey,(d=i).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,LL(d.experimentalLongPollingOptions),d.useFetchStreams));var u,d;n._firestoreClient=new cre(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class os{constructor(e){this._byteString=e}static fromBase64String(e){try{return new os(Dt.fromBase64String(e))}catch(t){throw new L(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new os(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class lu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new L(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class QL{constructor(e){this._methodName=e}}class RD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new L(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new L(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}}const Sre=/^__.*__$/;class Rre{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new pi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ga(e,this.data,t,this.fieldTransforms)}}function JL(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw K()}}class Wp{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Wp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Qp(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(JL(this.fu)&&Sre.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class Pre{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Fl(e)}Fu(e,t,r,i=!1){return new Wp({fu:e,methodName:t,vu:r,path:Je.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function du(n){const e=n._freezeSettings(),t=Fl(n._databaseId);return new Pre(n._databaseId,!!e.ignoreUndefinedProperties,t)}function PD(n,e,t,r,i,o={}){const s=n.Fu(o.merge||o.mergeFields?2:0,e,t,i);kD("Data must be an object, but it was:",s,r);const a=n2(r,s);let u,c;if(o.merge)u=new Cn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const h of o.mergeFields){const p=$l(e,h,t);if(!s.contains(p))throw new L(x.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);i2(d,p)||d.push(p)}u=new Cn(d),c=s.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,c=s.fieldTransforms;return new Rre(new Ut(a),u,c)}function ss(n,e){if(r2(n=xr(n)))return kD("Unsupported field value:",e,n),n2(n,e);if(n instanceof QL)return function(r,i){if(!JL(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let u=ss(a,i.bu(s));null==u&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if(null===(r=xr(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return BV(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=tt.fromDate(r);return{timestampValue:za(i.serializer,o)}}if(r instanceof tt){const o=new tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:za(i.serializer,o)}}if(r instanceof RD)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof os)return{bytesValue:uF(i.serializer,r._byteString)};if(r instanceof pt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ww(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${qp(r)}`)}(n,e)}function n2(n,e){const t={};return aV(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ki(n,(r,i)=>{const o=ss(i,e.pu(r));null!=o&&(t[r]=o)}),{mapValue:{fields:t}}}function r2(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof tt||n instanceof RD||n instanceof os||n instanceof pt||n instanceof QL)}function kD(n,e,t){if(!r2(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=qp(t);throw e.Du("an object"===r?n+" a custom object":n+" "+r)}var i}function $l(n,e,t){if((e=xr(e))instanceof lu)return e._internalPath;if("string"==typeof e)return Kp(n,e);throw Qp("Field path arguments must be of type string or ",n,!1,void 0,t)}const Mre=new RegExp("[~\\*/\\[\\]]");function Kp(n,e,t){if(e.search(Mre)>=0)throw Qp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new lu(...e.split("."))._internalPath}catch{throw Qp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Qp(n,e,t,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new L(x.INVALID_ARGUMENT,a+n+u)}function i2(n,e){return n.some(t=>t.isEqual(e))}class VD{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new xre(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Yp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class xre extends VD{data(){return super.data()}}function Yp(n,e){return"string"==typeof e?Kp(n,e):e instanceof lu?e._internalPath:e._delegate._internalPath}class Ore{convertValue(e,t="none"){switch(Yi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(di(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw K()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ki(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertGeoPoint(e){return new RD(st(e.latitude),st(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=dp(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(fl(e));default:return null}}convertTimestamp(e){const t=li(e);return new tt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=_e.fromString(e);J(IF(r));const i=new Wo(r.get(1),r.get(3)),o=new z(r.popFirst(5));return i.isEqual(t)||ht(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class as{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fu extends VD{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new eg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Yp("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class eg extends fu{data(e={}){return super.data(e)}}class pu{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new as(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new eg(this._firestore,this._userDataWriter,r.key,r,new as(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new L(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new eg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new as(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const u=new eg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new as(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return 0!==a.type&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:Vre(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Vre(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return K()}}class oo extends Ore{constructor(e){super(),this.firestore=e}convertBytes(e){return new os(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,t)}}function Fre(n){return Hl(pe(n.firestore,Ve),[new Ha(n._key,Ze.none())])}function Lre(n,e){const t=pe(n.firestore,Ve),r=HL(n),i=function LD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return Hl(t,[PD(du(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Ze.exists(!1))]).then(()=>r)}function Hl(n,e){return function(r,i){const o=new Tt;return r.asyncQueue.enqueueAndForget(O(function*(){return function Gne(n,e,t){return XT.apply(this,arguments)}(yield function CD(n){return zp(n).then(e=>e.syncEngine)}(r),i,o)})),o.promise}(nt(n),e)}!function(e,t=!0){Pa=jf,Da(new Oo("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Ve(new mee(r.getProvider("auth-internal")),new vee(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new L(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wo(c.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Vn($k,"4.6.4",e),Vn($k,"4.6.4","esm2017")}();var rg=function(){return rg=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},rg.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Zre={includeMetadataChanges:!1};function $D(n,e){return void 0===e&&(e=Zre),new Xe(function(t){var r=function Ure(n,...e){var t,r,i;n=xr(n);let o={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof e[s]||SD(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(SD(e[s])){const h=e[s];e[s]=null===(t=h.next)||void 0===t?void 0:t.bind(h),e[s+1]=null===(r=h.error)||void 0===r?void 0:r.bind(h),e[s+2]=null===(i=h.complete)||void 0===i?void 0:i.bind(h)}let u,c,d;if(n instanceof pt)c=pe(n.firestore,Ve),d=La(n._key.path),u={next:h=>{e[s]&&e[s](function UD(n,e,t){const r=t.docs.get(e._key),i=new oo(n);return new fu(n,i,e._key,r,new as(t.hasPendingWrites,t.fromCache),e.converter)}(c,n,h))},error:e[s+1],complete:e[s+2]};else{const h=pe(n,Bt);c=pe(h.firestore,Ve),d=h._query;const p=new oo(c);u={next:m=>{e[s]&&e[s](new pu(c,p,h,m))},error:e[s+1],complete:e[s+2]},function o2(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new L(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(p,m,y,I){const E=new Gp(I),P=new zT(m,E,y);return p.asyncQueue.enqueueAndForget(O(function*(){return function UT(n,e){return BT.apply(this,arguments)}(yield cu(p),P)})),()=>{E.$a(),p.asyncQueue.enqueueAndForget(O(function*(){return function jT(n,e){return $T.apply(this,arguments)}(yield cu(p),P)}))}}(nt(c),d,a,u)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function oie(n,e){return void 0===e&&(e={}),function iie(n){return $D(n,{includeMetadataChanges:!0}).pipe(Se(function(e){return e.docs}))}(n).pipe(Se(function(t){return t.map(function(r){return function p2(n,e){var t;void 0===e&&(e={});var r=n.data(e);return n.exists()&&"object"==typeof r&&null!==r&&e.idField?rg(rg({},r),((t={})[e.idField]=n.id,t)):r}(r,e)})}))}class ig{constructor(e){return e}}const y2="firestore",zD=new Q("angularfire2.firestore-instances");function cie(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new ig(r)}}const lie={provide:class aie{constructor(){return lI(y2)}},deps:[[new Wn,zD]]},die={provide:ig,useFactory:function uie(n,e){const t=function T1(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(y2,n,e);return t&&new ig(t)},deps:[[new Wn,zD],Yc]};let hie=(()=>{class n{constructor(){Vn("angularfire",cI.full,"fst")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Gn({type:n});static \u0275inj=Rn({providers:[die,lie]})}return n})();function fie(n,...e){return{ngModule:hie,providers:[{provide:zD,useFactory:cie(n),multi:!0,deps:[Pe,an,C1,A1,[new Wn,xk],[new Wn,_J],...e]}]}}const pie=Uo(oie,!0),gie=Uo(Lre,!0),v2=Uo(Tre,!0),mie=Uo(Fre,!0),_ie=Uo(HL,!0),yie=Uo(Are,!0);let I2=(()=>{class n{constructor(t){this.fs=t}getNotes(){let t=v2(this.fs,"notes");return pie(t,{idField:"id"})}addNotes(t){let r=v2(this.fs,"notes");return gie(r,t)}deleteNotes(t){let r=_ie(this.fs,"notes/"+t);return mie(r)}static#e=this.\u0275fac=function(r){return new(r||n)(ee(ig))};static#t=this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vie(n,e){if(1&n){const t=function H0(){return V()}();zt(0,"div",12)(1,"b",13),Sr(2),un(),zt(3,"div",14)(4,"span"),Sr(5),un(),zt(6,"span"),Sr(7),un()(),zt(8,"button",15),Vt("click",function(){const o=function BA(n){return re.lFrame.contextLView=n,n[ut]}(t).$implicit;return function jA(n){return re.lFrame.contextLView=null,n}(L_().deleteNotes(o.id))}),Sr(9,"Delete"),un()()}if(2&n){const t=e.$implicit;wo("ngClass",L_().getPriorityClass(t.priority)),Pi(2),ia("* ",t.description,""),Pi(3),ia("Due: ",t.dueDate,""),Pi(2),ia("Priority: ",t.priority,"")}}let Iie=(()=>{class n{constructor(t){this.service=t,this.title="todo",this.newNoteDescription="",this.newNoteDueDate="",this.newNotePriority="Low",this.notes=[]}refreshNotes(){this.service.getNotes().subscribe(t=>{this.notes=t})}ngOnInit(){this.refreshNotes()}addNotes(){this.service.addNotes({description:this.newNoteDescription,dueDate:this.newNoteDueDate,priority:this.newNotePriority}).then(r=>{console.log(r),this.refreshNotes(),this.newNoteDescription="",this.newNoteDueDate="",this.newNotePriority="Low"})}deleteNotes(t){this.service.deleteNotes(t).then(r=>{console.log(r),this.refreshNotes()})}getPriorityClass(t){switch(t){case"Low":return"priority-low";case"Medium":return"priority-medium";case"High":return"priority-high";default:return""}}static#e=this.\u0275fac=function(r){return new(r||n)(B(I2))};static#t=this.\u0275cmp=Yg({type:n,selectors:[["app-root"]],decls:17,vars:4,consts:[[1,"title"],[1,"input-container"],["placeholder","Enter your note here",1,"note-input",3,"ngModel","ngModelChange"],["newNote",""],["type","date",1,"note-input",3,"ngModel","ngModelChange"],[1,"note-input",3,"ngModel","ngModelChange"],["value","Low"],["value","Medium"],["value","High"],[1,"add-button",3,"click"],[1,"notes-container"],["class","note-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"note-item",3,"ngClass"],[1,"note-description"],[1,"note-meta"],[1,"delete-button",3,"click"]],template:function(r,i){1&r&&(zt(0,"h2",0),Sr(1,"TODO APP"),un(),zt(2,"div",1)(3,"input",2,3),Vt("ngModelChange",function(s){return i.newNoteDescription=s}),un(),zt(5,"input",4),Vt("ngModelChange",function(s){return i.newNoteDueDate=s}),un(),zt(6,"select",5),Vt("ngModelChange",function(s){return i.newNotePriority=s}),zt(7,"option",6),Sr(8,"Low"),un(),zt(9,"option",7),Sr(10,"Medium"),un(),zt(11,"option",8),Sr(12,"High"),un()(),zt(13,"button",9),Vt("click",function(){return i.addNotes()}),Sr(14,"Add Note"),un()(),zt(15,"div",10),function L0(n,e,t,r,i,o,s,a){const u=V(),c=Ee(),d=n+me,h=c.firstCreatePass?function zz(n,e,t,r,i,o,s,a,u){const c=e.consts,d=Ws(e,n,4,s||null,Ai(c,a));w_(e,t,d,Ai(c,u)),xd(e,d);const h=d.tView=E_(2,d,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,d),h.queries=e.queries.embeddedTView(d)),d}(d,c,u,e,t,r,i,o,s):c.data[d];Er(h,!1);const p=U0(c,u,h,n);Md()&&Xd(c,u,p,h),Gt(p,u),_h(u,u[d]=a0(p,u,p,h)),bd(h)&&v_(c,u,h),null!=s&&I_(u,h,a)}(16,vie,10,4,"div",11),un()),2&r&&(Pi(3),wo("ngModel",i.newNoteDescription),Pi(2),wo("ngModel",i.newNoteDueDate),Pi(1),wo("ngModel",i.newNotePriority),Pi(10),wo("ngForOf",i.notes))},dependencies:[rx,ox,PN,xN,rf,mf,aN,pv],styles:["body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-color:#f5f5f5;margin:0;padding:0}.title[_ngcontent-%COMP%]{text-align:center;margin-top:20px;color:#333;font-size:2em}.input-container[_ngcontent-%COMP%], .filter-container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;margin:20px}.note-input[_ngcontent-%COMP%]{width:200px;padding:10px;border:2px solid #007bff;border-radius:4px;font-size:1em;outline:none;margin:5px}.note-input[_ngcontent-%COMP%]:focus{border-color:#0056b3}.add-button[_ngcontent-%COMP%], .edit-button[_ngcontent-%COMP%]{margin-left:10px;padding:10px 20px;border:none;background-color:#007bff;color:#fff;border-radius:4px;cursor:pointer;font-size:1em}.add-button[_ngcontent-%COMP%]:hover, .edit-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.notes-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.note-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:90%;padding:10px;margin:10px 0;border-radius:4px;box-shadow:0 2px 4px #0000001a;color:#fff}.note-description[_ngcontent-%COMP%]{font-size:1.2em;color:#fff;margin-right:auto}.note-meta[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;margin-left:20px;font-size:.9em;color:#fff}.delete-button[_ngcontent-%COMP%]{padding:5px 10px;border:none;background-color:#dc3545;color:#fff;border-radius:4px;cursor:pointer;margin-left:20px}.delete-button[_ngcontent-%COMP%]:hover{background-color:#b70416}.priority-low[_ngcontent-%COMP%]{background-color:#28a745}.priority-medium[_ngcontent-%COMP%]{background-color:#ffc107}.priority-high[_ngcontent-%COMP%]{background-color:#d61717}"]})}return n})();const Eie={apiKey:"AIzaSyDUTqhQVzgNghaWYB_u9sPY8o0OAw-20JY",authDomain:"todo-a71e9.firebaseapp.com",projectId:"todo-a71e9",storageBucket:"todo-a71e9.appspot.com",messagingSenderId:"545500291001",appId:"1:545500291001:web:f24687c3eef393418ba068"};let wie=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Gn({type:n,bootstrap:[Iie]});static#n=this.\u0275inj=Rn({providers:[I2],imports:[B5,TQ,Y8,RJ(()=>PJ(Eie)),fie(()=>yie())]})}return n})();L5().bootstrapModule(wie).catch(n=>console.error(n))}},Oe=>{Oe(Oe.s=3)}]);